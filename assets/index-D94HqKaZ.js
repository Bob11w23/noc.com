var um=t=>{throw TypeError(t)};var Tc=(t,e,n)=>e.has(t)||um("Cannot "+n);var S=(t,e,n)=>(Tc(t,e,"read from private field"),n?n.call(t):e.get(t)),$=(t,e,n)=>e.has(t)?um("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),j=(t,e,n,r)=>(Tc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Y=(t,e,n)=>(Tc(t,e,"access private method"),n);var Sl=(t,e,n,r)=>({set _(i){j(t,e,i,n)},get _(){return S(t,e,r)}});function zS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Eh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A0={exports:{}},Bu={},R0={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),FS=Symbol.for("react.portal"),BS=Symbol.for("react.fragment"),_S=Symbol.for("react.strict_mode"),$S=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),US=Symbol.for("react.context"),VS=Symbol.for("react.forward_ref"),WS=Symbol.for("react.suspense"),KS=Symbol.for("react.memo"),qS=Symbol.for("react.lazy"),cm=Symbol.iterator;function JS(t){return t===null||typeof t!="object"?null:(t=cm&&t[cm]||t["@@iterator"],typeof t=="function"?t:null)}var P0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D0=Object.assign,I0={};function Is(t,e,n){this.props=t,this.context=e,this.refs=I0,this.updater=n||P0}Is.prototype.isReactComponent={};Is.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Is.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L0(){}L0.prototype=Is.prototype;function Th(t,e,n){this.props=t,this.context=e,this.refs=I0,this.updater=n||P0}var Nh=Th.prototype=new L0;Nh.constructor=Th;D0(Nh,Is.prototype);Nh.isPureReactComponent=!0;var dm=Array.isArray,j0=Object.prototype.hasOwnProperty,Oh={current:null},z0={key:!0,ref:!0,__self:!0,__source:!0};function F0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j0.call(e,r)&&!z0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ol,type:t,key:s,ref:o,props:i,_owner:Oh.current}}function QS(t,e){return{$$typeof:ol,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ol}function GS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fm=/\/+/g;function Nc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GS(""+t.key):e.toString(36)}function Yl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ol:case FS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Nc(o,0):r,dm(i)?(n="",t!=null&&(n=t.replace(fm,"$&/")+"/"),Yl(i,e,n,"",function(u){return u})):i!=null&&(Mh(i)&&(i=QS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",dm(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Nc(s,l);o+=Yl(s,e,n,a,i)}else if(a=JS(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Nc(s,l++),o+=Yl(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kl(t,e,n){if(t==null)return t;var r=[],i=0;return Yl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var it={current:null},Xl={transition:null},XS={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:Xl,ReactCurrentOwner:Oh};function B0(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:kl,forEach:function(t,e,n){kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kl(t,function(){e++}),e},toArray:function(t){return kl(t,function(e){return e})||[]},only:function(t){if(!Mh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Is;Q.Fragment=BS;Q.Profiler=$S;Q.PureComponent=Th;Q.StrictMode=_S;Q.Suspense=WS;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XS;Q.act=B0;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=D0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Oh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)j0.call(e,a)&&!z0.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ol,type:t.type,key:i,ref:s,props:r,_owner:o}};Q.createContext=function(t){return t={$$typeof:US,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HS,_context:t},t.Consumer=t};Q.createElement=F0;Q.createFactory=function(t){var e=F0.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:VS,render:t}};Q.isValidElement=Mh;Q.lazy=function(t){return{$$typeof:qS,_payload:{_status:-1,_result:t},_init:YS}};Q.memo=function(t,e){return{$$typeof:KS,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=Xl.transition;Xl.transition={};try{t()}finally{Xl.transition=e}};Q.unstable_act=B0;Q.useCallback=function(t,e){return it.current.useCallback(t,e)};Q.useContext=function(t){return it.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return it.current.useDeferredValue(t)};Q.useEffect=function(t,e){return it.current.useEffect(t,e)};Q.useId=function(){return it.current.useId()};Q.useImperativeHandle=function(t,e,n){return it.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return it.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return it.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return it.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return it.current.useReducer(t,e,n)};Q.useRef=function(t){return it.current.useRef(t)};Q.useState=function(t){return it.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return it.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return it.current.useTransition()};Q.version="18.3.1";R0.exports=Q;var T=R0.exports;const le=Eh(T),ZS=zS({__proto__:null,default:le},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek=T,tk=Symbol.for("react.element"),nk=Symbol.for("react.fragment"),rk=Object.prototype.hasOwnProperty,ik=ek.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sk={key:!0,ref:!0,__self:!0,__source:!0};function _0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rk.call(e,r)&&!sk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tk,type:t,key:s,ref:o,props:i,_owner:ik.current}}Bu.Fragment=nk;Bu.jsx=_0;Bu.jsxs=_0;A0.exports=Bu;var w=A0.exports,$0={exports:{}},Nt={},H0={exports:{}},U0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var U=N.length;N.push(B);e:for(;0<U;){var q=U-1>>>1,pe=N[q];if(0<i(pe,B))N[q]=B,N[U]=pe,U=q;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],U=N.pop();if(U!==B){N[0]=U;e:for(var q=0,pe=N.length,xl=pe>>>1;q<xl;){var zr=2*(q+1)-1,Ec=N[zr],Fr=zr+1,wl=N[Fr];if(0>i(Ec,U))Fr<pe&&0>i(wl,Ec)?(N[q]=wl,N[Fr]=U,q=Fr):(N[q]=Ec,N[zr]=U,q=zr);else if(Fr<pe&&0>i(wl,U))N[q]=wl,N[Fr]=U,q=Fr;else break e}}return B}function i(N,B){var U=N.sortIndex-B.sortIndex;return U!==0?U:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,p=!1,h=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=N)r(u),B.sortIndex=B.expirationTime,e(a,B);else break;B=n(u)}}function k(N){if(m=!1,x(N),!h)if(n(a)!==null)h=!0,lt(b);else{var B=n(u);B!==null&&at(k,B.startTime-N)}}function b(N,B){h=!1,m&&(m=!1,g(M),M=-1),p=!0;var U=f;try{for(x(B),d=n(a);d!==null&&(!(d.expirationTime>B)||N&&!G());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var pe=q(d.expirationTime<=B);B=t.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(a)&&r(a),x(B)}else r(a);d=n(a)}if(d!==null)var xl=!0;else{var zr=n(u);zr!==null&&at(k,zr.startTime-B),xl=!1}return xl}finally{d=null,f=U,p=!1}}var C=!1,O=null,M=-1,A=5,z=-1;function G(){return!(t.unstable_now()-z<A)}function be(){if(O!==null){var N=t.unstable_now();z=N;var B=!0;try{B=O(!0,N)}finally{B?xt():(C=!1,O=null)}}else C=!1}var xt;if(typeof y=="function")xt=function(){y(be)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ot=ee.port2;ee.port1.onmessage=be,xt=function(){ot.postMessage(null)}}else xt=function(){v(be,0)};function lt(N){O=N,C||(C=!0,xt())}function at(N,B){M=v(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,lt(b))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var U=f;f=B;try{return N()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=f;f=N;try{return B()}finally{f=U}},t.unstable_scheduleCallback=function(N,B,U){var q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,N){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=U+pe,N={id:c++,callback:B,priorityLevel:N,startTime:U,expirationTime:pe,sortIndex:-1},U>q?(N.sortIndex=U,e(u,N),n(a)===null&&N===n(u)&&(m?(g(M),M=-1):m=!0,at(k,U-q))):(N.sortIndex=pe,e(a,N),h||p||(h=!0,lt(b))),N},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(N){var B=f;return function(){var U=f;f=B;try{return N.apply(this,arguments)}finally{f=U}}}})(U0);H0.exports=U0;var ok=H0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=T,Tt=ok;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V0=new Set,ko={};function Ei(t,e){ws(t,e),ws(t+"Capture",e)}function ws(t,e){for(ko[t]=e,t=0;t<e.length;t++)V0.add(e[t])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rd=Object.prototype.hasOwnProperty,ak=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hm={},pm={};function uk(t){return Rd.call(pm,t)?!0:Rd.call(hm,t)?!1:ak.test(t)?pm[t]=!0:(hm[t]=!0,!1)}function ck(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dk(t,e,n,r){if(e===null||typeof e>"u"||ck(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_e[t]=new st(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_e[e]=new st(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_e[t]=new st(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_e[t]=new st(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_e[t]=new st(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_e[t]=new st(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_e[t]=new st(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_e[t]=new st(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_e[t]=new st(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ah=/[\-:]([a-z])/g;function Rh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ah,Rh);_e[e]=new st(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ah,Rh);_e[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ah,Rh);_e[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_e[t]=new st(t,1,!1,t.toLowerCase(),null,!1,!1)});_e.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_e[t]=new st(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ph(t,e,n,r){var i=_e.hasOwnProperty(e)?_e[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dk(e,n,i,r)&&(n=null),r||i===null?uk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fn=lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cl=Symbol.for("react.element"),Li=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),Dh=Symbol.for("react.strict_mode"),Pd=Symbol.for("react.profiler"),W0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),Dd=Symbol.for("react.suspense"),Id=Symbol.for("react.suspense_list"),Lh=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),q0=Symbol.for("react.offscreen"),mm=Symbol.iterator;function $s(t){return t===null||typeof t!="object"?null:(t=mm&&t[mm]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,Oc;function Ys(t){if(Oc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Oc=e&&e[1]||""}return`
`+Oc+t}var Mc=!1;function Ac(t,e){if(!t||Mc)return"";Mc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Mc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ys(t):""}function fk(t){switch(t.tag){case 5:return Ys(t.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return t=Ac(t.type,!1),t;case 11:return t=Ac(t.type.render,!1),t;case 1:return t=Ac(t.type,!0),t;default:return""}}function Ld(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ji:return"Fragment";case Li:return"Portal";case Pd:return"Profiler";case Dh:return"StrictMode";case Dd:return"Suspense";case Id:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K0:return(t.displayName||"Context")+".Consumer";case W0:return(t._context.displayName||"Context")+".Provider";case Ih:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lh:return e=t.displayName||null,e!==null?e:Ld(t.type)||"Memo";case Vn:e=t._payload,t=t._init;try{return Ld(t(e))}catch{}}return null}function hk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(e);case 8:return e===Dh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pk(t){var e=J0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bl(t){t._valueTracker||(t._valueTracker=pk(t))}function Q0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ya(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jd(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Er(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function G0(t,e){e=e.checked,e!=null&&Ph(t,"checked",e,!1)}function zd(t,e){G0(t,e);var n=Er(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fd(t,e.type,Er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ym(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fd(t,e,n){(e!=="number"||ya(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xs=Array.isArray;function Qi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Er(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Xs(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Er(n)}}function Y0(t,e){var n=Er(e.value),r=Er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function X0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _d(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?X0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var El,Z0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=El.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Co(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mk=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(t){mk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),so[e]=so[t]})});function e1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||so.hasOwnProperty(t)&&so[t]?(""+e).trim():e+"px"}function t1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=e1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gk=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $d(t,e){if(e){if(gk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Hd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ud=null;function jh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vd=null,Gi=null,Yi=null;function wm(t){if(t=ul(t)){if(typeof Vd!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Vu(e),Vd(t.stateNode,t.type,e))}}function n1(t){Gi?Yi?Yi.push(t):Yi=[t]:Gi=t}function r1(){if(Gi){var t=Gi,e=Yi;if(Yi=Gi=null,wm(t),e)for(t=0;t<e.length;t++)wm(e[t])}}function i1(t,e){return t(e)}function s1(){}var Rc=!1;function o1(t,e,n){if(Rc)return t(e,n);Rc=!0;try{return i1(t,e,n)}finally{Rc=!1,(Gi!==null||Yi!==null)&&(s1(),r1())}}function bo(t,e){var n=t.stateNode;if(n===null)return null;var r=Vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Wd=!1;if(In)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Wd=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Wd=!1}function yk(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var oo=!1,va=null,xa=!1,Kd=null,vk={onError:function(t){oo=!0,va=t}};function xk(t,e,n,r,i,s,o,l,a){oo=!1,va=null,yk.apply(vk,arguments)}function wk(t,e,n,r,i,s,o,l,a){if(xk.apply(this,arguments),oo){if(oo){var u=va;oo=!1,va=null}else throw Error(P(198));xa||(xa=!0,Kd=u)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function l1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sm(t){if(Ti(t)!==t)throw Error(P(188))}function Sk(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sm(i),t;if(s===r)return Sm(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function a1(t){return t=Sk(t),t!==null?u1(t):null}function u1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u1(t);if(e!==null)return e;t=t.sibling}return null}var c1=Tt.unstable_scheduleCallback,km=Tt.unstable_cancelCallback,kk=Tt.unstable_shouldYield,Ck=Tt.unstable_requestPaint,xe=Tt.unstable_now,bk=Tt.unstable_getCurrentPriorityLevel,zh=Tt.unstable_ImmediatePriority,d1=Tt.unstable_UserBlockingPriority,wa=Tt.unstable_NormalPriority,Ek=Tt.unstable_LowPriority,f1=Tt.unstable_IdlePriority,_u=null,wn=null;function Tk(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(_u,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Mk,Nk=Math.log,Ok=Math.LN2;function Mk(t){return t>>>=0,t===0?32:31-(Nk(t)/Ok|0)|0}var Tl=64,Nl=4194304;function Zs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Zs(l):(s&=o,s!==0&&(r=Zs(s)))}else o=n&~i,o!==0?r=Zs(o):s!==0&&(r=Zs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function Ak(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tn(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Ak(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function qd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function h1(){var t=Tl;return Tl<<=1,!(Tl&4194240)&&(Tl=64),t}function Pc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function Pk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ne=0;function p1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var m1,Bh,g1,y1,v1,Jd=!1,Ol=[],fr=null,hr=null,pr=null,Eo=new Map,To=new Map,Qn=[],Dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cm(t,e){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(e.pointerId)}}function Us(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ul(e),e!==null&&Bh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ik(t,e,n,r,i){switch(e){case"focusin":return fr=Us(fr,t,e,n,r,i),!0;case"dragenter":return hr=Us(hr,t,e,n,r,i),!0;case"mouseover":return pr=Us(pr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Eo.set(s,Us(Eo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,To.set(s,Us(To.get(s)||null,t,e,n,r,i)),!0}return!1}function x1(t){var e=Vr(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=l1(n),e!==null){t.blockedOn=e,v1(t.priority,function(){g1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ud=r,n.target.dispatchEvent(r),Ud=null}else return e=ul(n),e!==null&&Bh(e),t.blockedOn=n,!1;e.shift()}return!0}function bm(t,e,n){Zl(t)&&n.delete(e)}function Lk(){Jd=!1,fr!==null&&Zl(fr)&&(fr=null),hr!==null&&Zl(hr)&&(hr=null),pr!==null&&Zl(pr)&&(pr=null),Eo.forEach(bm),To.forEach(bm)}function Vs(t,e){t.blockedOn===e&&(t.blockedOn=null,Jd||(Jd=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,Lk)))}function No(t){function e(i){return Vs(i,t)}if(0<Ol.length){Vs(Ol[0],t);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fr!==null&&Vs(fr,t),hr!==null&&Vs(hr,t),pr!==null&&Vs(pr,t),Eo.forEach(e),To.forEach(e),n=0;n<Qn.length;n++)r=Qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qn.length&&(n=Qn[0],n.blockedOn===null);)x1(n),n.blockedOn===null&&Qn.shift()}var Xi=Fn.ReactCurrentBatchConfig,ka=!0;function jk(t,e,n,r){var i=ne,s=Xi.transition;Xi.transition=null;try{ne=1,_h(t,e,n,r)}finally{ne=i,Xi.transition=s}}function zk(t,e,n,r){var i=ne,s=Xi.transition;Xi.transition=null;try{ne=4,_h(t,e,n,r)}finally{ne=i,Xi.transition=s}}function _h(t,e,n,r){if(ka){var i=Qd(t,e,n,r);if(i===null)Hc(t,e,r,Ca,n),Cm(t,r);else if(Ik(i,t,e,n,r))r.stopPropagation();else if(Cm(t,r),e&4&&-1<Dk.indexOf(t)){for(;i!==null;){var s=ul(i);if(s!==null&&m1(s),s=Qd(t,e,n,r),s===null&&Hc(t,e,r,Ca,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hc(t,e,r,null,n)}}var Ca=null;function Qd(t,e,n,r){if(Ca=null,t=jh(r),t=Vr(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=l1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ca=t,null}function w1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bk()){case zh:return 1;case d1:return 4;case wa:case Ek:return 16;case f1:return 536870912;default:return 16}default:return 16}}var or=null,$h=null,ea=null;function S1(){if(ea)return ea;var t,e=$h,n=e.length,r,i="value"in or?or.value:or.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ea=i.slice(t,1<r?1-r:void 0)}function ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function Em(){return!1}function Ot(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ml:Em,this.isPropagationStopped=Em,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hh=Ot(Ls),al=he({},Ls,{view:0,detail:0}),Fk=Ot(al),Dc,Ic,Ws,$u=he({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ws&&(Ws&&t.type==="mousemove"?(Dc=t.screenX-Ws.screenX,Ic=t.screenY-Ws.screenY):Ic=Dc=0,Ws=t),Dc)},movementY:function(t){return"movementY"in t?t.movementY:Ic}}),Tm=Ot($u),Bk=he({},$u,{dataTransfer:0}),_k=Ot(Bk),$k=he({},al,{relatedTarget:0}),Lc=Ot($k),Hk=he({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Uk=Ot(Hk),Vk=he({},Ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wk=Ot(Vk),Kk=he({},Ls,{data:0}),Nm=Ot(Kk),qk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qk[t])?!!e[t]:!1}function Uh(){return Gk}var Yk=he({},al,{key:function(t){if(t.key){var e=qk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uh,charCode:function(t){return t.type==="keypress"?ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xk=Ot(Yk),Zk=he({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Om=Ot(Zk),eC=he({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uh}),tC=Ot(eC),nC=he({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),rC=Ot(nC),iC=he({},$u,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sC=Ot(iC),oC=[9,13,27,32],Vh=In&&"CompositionEvent"in window,lo=null;In&&"documentMode"in document&&(lo=document.documentMode);var lC=In&&"TextEvent"in window&&!lo,k1=In&&(!Vh||lo&&8<lo&&11>=lo),Mm=" ",Am=!1;function C1(t,e){switch(t){case"keyup":return oC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function aC(t,e){switch(t){case"compositionend":return b1(e);case"keypress":return e.which!==32?null:(Am=!0,Mm);case"textInput":return t=e.data,t===Mm&&Am?null:t;default:return null}}function uC(t,e){if(zi)return t==="compositionend"||!Vh&&C1(t,e)?(t=S1(),ea=$h=or=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k1&&e.locale!=="ko"?null:e.data;default:return null}}var cC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cC[t.type]:e==="textarea"}function E1(t,e,n,r){n1(r),e=ba(e,"onChange"),0<e.length&&(n=new Hh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ao=null,Oo=null;function dC(t){j1(t,0)}function Hu(t){var e=_i(t);if(Q0(e))return t}function fC(t,e){if(t==="change")return e}var T1=!1;if(In){var jc;if(In){var zc="oninput"in document;if(!zc){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),zc=typeof Pm.oninput=="function"}jc=zc}else jc=!1;T1=jc&&(!document.documentMode||9<document.documentMode)}function Dm(){ao&&(ao.detachEvent("onpropertychange",N1),Oo=ao=null)}function N1(t){if(t.propertyName==="value"&&Hu(Oo)){var e=[];E1(e,Oo,t,jh(t)),o1(dC,e)}}function hC(t,e,n){t==="focusin"?(Dm(),ao=e,Oo=n,ao.attachEvent("onpropertychange",N1)):t==="focusout"&&Dm()}function pC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(Oo)}function mC(t,e){if(t==="click")return Hu(e)}function gC(t,e){if(t==="input"||t==="change")return Hu(e)}function yC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:yC;function Mo(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rd.call(e,i)||!sn(t[i],e[i]))return!1}return!0}function Im(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lm(t,e){var n=Im(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Im(n)}}function O1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M1(){for(var t=window,e=ya();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ya(t.document)}return e}function Wh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vC(t){var e=M1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O1(n.ownerDocument.documentElement,n)){if(r!==null&&Wh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Lm(n,s);var o=Lm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xC=In&&"documentMode"in document&&11>=document.documentMode,Fi=null,Gd=null,uo=null,Yd=!1;function jm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yd||Fi==null||Fi!==ya(r)||(r=Fi,"selectionStart"in r&&Wh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uo&&Mo(uo,r)||(uo=r,r=ba(Gd,"onSelect"),0<r.length&&(e=new Hh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fi)))}function Al(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},Fc={},A1={};In&&(A1=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Uu(t){if(Fc[t])return Fc[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in A1)return Fc[t]=e[n];return t}var R1=Uu("animationend"),P1=Uu("animationiteration"),D1=Uu("animationstart"),I1=Uu("transitionend"),L1=new Map,zm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,e){L1.set(t,e),Ei(e,[t])}for(var Bc=0;Bc<zm.length;Bc++){var _c=zm[Bc],wC=_c.toLowerCase(),SC=_c[0].toUpperCase()+_c.slice(1);Mr(wC,"on"+SC)}Mr(R1,"onAnimationEnd");Mr(P1,"onAnimationIteration");Mr(D1,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr(I1,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Fm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wk(r,e,void 0,t),t.currentTarget=null}function j1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Fm(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Fm(i,l,u),s=a}}}if(xa)throw t=Kd,xa=!1,Kd=null,t}function oe(t,e){var n=e[nf];n===void 0&&(n=e[nf]=new Set);var r=t+"__bubble";n.has(r)||(z1(e,t,2,!1),n.add(r))}function $c(t,e,n){var r=0;e&&(r|=4),z1(n,t,r,e)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Ao(t){if(!t[Rl]){t[Rl]=!0,V0.forEach(function(n){n!=="selectionchange"&&(kC.has(n)||$c(n,!1,t),$c(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rl]||(e[Rl]=!0,$c("selectionchange",!1,e))}}function z1(t,e,n,r){switch(w1(e)){case 1:var i=jk;break;case 4:i=zk;break;default:i=_h}n=i.bind(null,e,n,t),i=void 0,!Wd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Vr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}o1(function(){var u=s,c=jh(n),d=[];e:{var f=L1.get(t);if(f!==void 0){var p=Hh,h=t;switch(t){case"keypress":if(ta(n)===0)break e;case"keydown":case"keyup":p=Xk;break;case"focusin":h="focus",p=Lc;break;case"focusout":h="blur",p=Lc;break;case"beforeblur":case"afterblur":p=Lc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tC;break;case R1:case P1:case D1:p=Uk;break;case I1:p=rC;break;case"scroll":p=Fk;break;case"wheel":p=sC;break;case"copy":case"cut":case"paste":p=Wk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Om}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,x;y!==null;){x=y;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,g!==null&&(k=bo(y,g),k!=null&&m.push(Ro(y,k,x)))),v)break;y=y.return}0<m.length&&(f=new p(f,h,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Ud&&(h=n.relatedTarget||n.fromElement)&&(Vr(h)||h[Ln]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?Vr(h):null,h!==null&&(v=Ti(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(m=Tm,k="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=Om,k="onPointerLeave",g="onPointerEnter",y="pointer"),v=p==null?f:_i(p),x=h==null?f:_i(h),f=new m(k,y+"leave",p,n,c),f.target=v,f.relatedTarget=x,k=null,Vr(c)===u&&(m=new m(g,y+"enter",h,n,c),m.target=x,m.relatedTarget=v,k=m),v=k,p&&h)t:{for(m=p,g=h,y=0,x=m;x;x=Oi(x))y++;for(x=0,k=g;k;k=Oi(k))x++;for(;0<y-x;)m=Oi(m),y--;for(;0<x-y;)g=Oi(g),x--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Oi(m),g=Oi(g)}m=null}else m=null;p!==null&&Bm(d,f,p,m,!1),h!==null&&v!==null&&Bm(d,v,h,m,!0)}}e:{if(f=u?_i(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=fC;else if(Rm(f))if(T1)b=gC;else{b=pC;var C=hC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=mC);if(b&&(b=b(t,u))){E1(d,b,n,c);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Fd(f,"number",f.value)}switch(C=u?_i(u):window,t){case"focusin":(Rm(C)||C.contentEditable==="true")&&(Fi=C,Gd=u,uo=null);break;case"focusout":uo=Gd=Fi=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,jm(d,n,c);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":jm(d,n,c)}var O;if(Vh)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else zi?C1(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(k1&&n.locale!=="ko"&&(zi||M!=="onCompositionStart"?M==="onCompositionEnd"&&zi&&(O=S1()):(or=c,$h="value"in or?or.value:or.textContent,zi=!0)),C=ba(u,M),0<C.length&&(M=new Nm(M,t,null,n,c),d.push({event:M,listeners:C}),O?M.data=O:(O=b1(n),O!==null&&(M.data=O)))),(O=lC?aC(t,n):uC(t,n))&&(u=ba(u,"onBeforeInput"),0<u.length&&(c=new Nm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}j1(d,e)})}function Ro(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ba(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bo(t,n),s!=null&&r.unshift(Ro(t,s,i)),s=bo(t,e),s!=null&&r.push(Ro(t,s,i))),t=t.return}return r}function Oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=bo(n,s),a!=null&&o.unshift(Ro(n,a,l))):i||(a=bo(n,s),a!=null&&o.push(Ro(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CC=/\r\n?/g,bC=/\u0000|\uFFFD/g;function _m(t){return(typeof t=="string"?t:""+t).replace(CC,`
`).replace(bC,"")}function Pl(t,e,n){if(e=_m(e),_m(t)!==e&&n)throw Error(P(425))}function Ea(){}var Xd=null,Zd=null;function ef(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,EC=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,TC=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(t){return $m.resolve(null).then(t).catch(NC)}:tf;function NC(t){setTimeout(function(){throw t})}function Uc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),No(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);No(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var js=Math.random().toString(36).slice(2),vn="__reactFiber$"+js,Po="__reactProps$"+js,Ln="__reactContainer$"+js,nf="__reactEvents$"+js,OC="__reactListeners$"+js,MC="__reactHandles$"+js;function Vr(t){var e=t[vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ln]||n[vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hm(t);t!==null;){if(n=t[vn])return n;t=Hm(t)}return e}t=n,n=t.parentNode}return null}function ul(t){return t=t[vn]||t[Ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Vu(t){return t[Po]||null}var rf=[],$i=-1;function Ar(t){return{current:t}}function ae(t){0>$i||(t.current=rf[$i],rf[$i]=null,$i--)}function se(t,e){$i++,rf[$i]=t.current,t.current=e}var Tr={},Je=Ar(Tr),ht=Ar(!1),pi=Tr;function Ss(t,e){var n=t.type.contextTypes;if(!n)return Tr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pt(t){return t=t.childContextTypes,t!=null}function Ta(){ae(ht),ae(Je)}function Um(t,e,n){if(Je.current!==Tr)throw Error(P(168));se(Je,e),se(ht,n)}function F1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,hk(t)||"Unknown",i));return he({},n,r)}function Na(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,pi=Je.current,se(Je,t),se(ht,ht.current),!0}function Vm(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=F1(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,ae(ht),ae(Je),se(Je,t)):ae(ht),se(ht,n)}var Mn=null,Wu=!1,Vc=!1;function B1(t){Mn===null?Mn=[t]:Mn.push(t)}function AC(t){Wu=!0,B1(t)}function Rr(){if(!Vc&&Mn!==null){Vc=!0;var t=0,e=ne;try{var n=Mn;for(ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mn=null,Wu=!1}catch(i){throw Mn!==null&&(Mn=Mn.slice(t+1)),c1(zh,Rr),i}finally{ne=e,Vc=!1}}return null}var Hi=[],Ui=0,Oa=null,Ma=0,Lt=[],jt=0,mi=null,An=1,Rn="";function Br(t,e){Hi[Ui++]=Ma,Hi[Ui++]=Oa,Oa=t,Ma=e}function _1(t,e,n){Lt[jt++]=An,Lt[jt++]=Rn,Lt[jt++]=mi,mi=t;var r=An;t=Rn;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var s=32-tn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,An=1<<32-tn(e)+i|n<<i|r,Rn=s+t}else An=1<<s|n<<i|r,Rn=t}function Kh(t){t.return!==null&&(Br(t,1),_1(t,1,0))}function qh(t){for(;t===Oa;)Oa=Hi[--Ui],Hi[Ui]=null,Ma=Hi[--Ui],Hi[Ui]=null;for(;t===mi;)mi=Lt[--jt],Lt[jt]=null,Rn=Lt[--jt],Lt[jt]=null,An=Lt[--jt],Lt[jt]=null}var bt=null,Ct=null,ue=!1,Yt=null;function $1(t,e){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bt=t,Ct=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bt=t,Ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mi!==null?{id:An,overflow:Rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bt=t,Ct=null,!0):!1;default:return!1}}function sf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function of(t){if(ue){var e=Ct;if(e){var n=e;if(!Wm(t,e)){if(sf(t))throw Error(P(418));e=mr(n.nextSibling);var r=bt;e&&Wm(t,e)?$1(r,n):(t.flags=t.flags&-4097|2,ue=!1,bt=t)}}else{if(sf(t))throw Error(P(418));t.flags=t.flags&-4097|2,ue=!1,bt=t}}}function Km(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function Dl(t){if(t!==bt)return!1;if(!ue)return Km(t),ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ef(t.type,t.memoizedProps)),e&&(e=Ct)){if(sf(t))throw H1(),Error(P(418));for(;e;)$1(t,e),e=mr(e.nextSibling)}if(Km(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ct=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ct=null}}else Ct=bt?mr(t.stateNode.nextSibling):null;return!0}function H1(){for(var t=Ct;t;)t=mr(t.nextSibling)}function ks(){Ct=bt=null,ue=!1}function Jh(t){Yt===null?Yt=[t]:Yt.push(t)}var RC=Fn.ReactCurrentBatchConfig;function Ks(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Il(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qm(t){var e=t._init;return e(t._payload)}function U1(t){function e(g,y){if(t){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=xr(g,y),g.index=0,g.sibling=null,g}function s(g,y,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,y,x,k){return y===null||y.tag!==6?(y=Yc(x,g.mode,k),y.return=g,y):(y=i(y,x),y.return=g,y)}function a(g,y,x,k){var b=x.type;return b===ji?c(g,y,x.props.children,k,x.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vn&&qm(b)===y.type)?(k=i(y,x.props),k.ref=Ks(g,y,x),k.return=g,k):(k=aa(x.type,x.key,x.props,null,g.mode,k),k.ref=Ks(g,y,x),k.return=g,k)}function u(g,y,x,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Xc(x,g.mode,k),y.return=g,y):(y=i(y,x.children||[]),y.return=g,y)}function c(g,y,x,k,b){return y===null||y.tag!==7?(y=oi(x,g.mode,k,b),y.return=g,y):(y=i(y,x),y.return=g,y)}function d(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Yc(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cl:return x=aa(y.type,y.key,y.props,null,g.mode,x),x.ref=Ks(g,null,y),x.return=g,x;case Li:return y=Xc(y,g.mode,x),y.return=g,y;case Vn:var k=y._init;return d(g,k(y._payload),x)}if(Xs(y)||$s(y))return y=oi(y,g.mode,x,null),y.return=g,y;Il(g,y)}return null}function f(g,y,x,k){var b=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:l(g,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cl:return x.key===b?a(g,y,x,k):null;case Li:return x.key===b?u(g,y,x,k):null;case Vn:return b=x._init,f(g,y,b(x._payload),k)}if(Xs(x)||$s(x))return b!==null?null:c(g,y,x,k,null);Il(g,x)}return null}function p(g,y,x,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(x)||null,l(y,g,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Cl:return g=g.get(k.key===null?x:k.key)||null,a(y,g,k,b);case Li:return g=g.get(k.key===null?x:k.key)||null,u(y,g,k,b);case Vn:var C=k._init;return p(g,y,x,C(k._payload),b)}if(Xs(k)||$s(k))return g=g.get(x)||null,c(y,g,k,b,null);Il(y,k)}return null}function h(g,y,x,k){for(var b=null,C=null,O=y,M=y=0,A=null;O!==null&&M<x.length;M++){O.index>M?(A=O,O=null):A=O.sibling;var z=f(g,O,x[M],k);if(z===null){O===null&&(O=A);break}t&&O&&z.alternate===null&&e(g,O),y=s(z,y,M),C===null?b=z:C.sibling=z,C=z,O=A}if(M===x.length)return n(g,O),ue&&Br(g,M),b;if(O===null){for(;M<x.length;M++)O=d(g,x[M],k),O!==null&&(y=s(O,y,M),C===null?b=O:C.sibling=O,C=O);return ue&&Br(g,M),b}for(O=r(g,O);M<x.length;M++)A=p(O,g,M,x[M],k),A!==null&&(t&&A.alternate!==null&&O.delete(A.key===null?M:A.key),y=s(A,y,M),C===null?b=A:C.sibling=A,C=A);return t&&O.forEach(function(G){return e(g,G)}),ue&&Br(g,M),b}function m(g,y,x,k){var b=$s(x);if(typeof b!="function")throw Error(P(150));if(x=b.call(x),x==null)throw Error(P(151));for(var C=b=null,O=y,M=y=0,A=null,z=x.next();O!==null&&!z.done;M++,z=x.next()){O.index>M?(A=O,O=null):A=O.sibling;var G=f(g,O,z.value,k);if(G===null){O===null&&(O=A);break}t&&O&&G.alternate===null&&e(g,O),y=s(G,y,M),C===null?b=G:C.sibling=G,C=G,O=A}if(z.done)return n(g,O),ue&&Br(g,M),b;if(O===null){for(;!z.done;M++,z=x.next())z=d(g,z.value,k),z!==null&&(y=s(z,y,M),C===null?b=z:C.sibling=z,C=z);return ue&&Br(g,M),b}for(O=r(g,O);!z.done;M++,z=x.next())z=p(O,g,M,z.value,k),z!==null&&(t&&z.alternate!==null&&O.delete(z.key===null?M:z.key),y=s(z,y,M),C===null?b=z:C.sibling=z,C=z);return t&&O.forEach(function(be){return e(g,be)}),ue&&Br(g,M),b}function v(g,y,x,k){if(typeof x=="object"&&x!==null&&x.type===ji&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Cl:e:{for(var b=x.key,C=y;C!==null;){if(C.key===b){if(b=x.type,b===ji){if(C.tag===7){n(g,C.sibling),y=i(C,x.props.children),y.return=g,g=y;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vn&&qm(b)===C.type){n(g,C.sibling),y=i(C,x.props),y.ref=Ks(g,C,x),y.return=g,g=y;break e}n(g,C);break}else e(g,C);C=C.sibling}x.type===ji?(y=oi(x.props.children,g.mode,k,x.key),y.return=g,g=y):(k=aa(x.type,x.key,x.props,null,g.mode,k),k.ref=Ks(g,y,x),k.return=g,g=k)}return o(g);case Li:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(g,y.sibling),y=i(y,x.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=Xc(x,g.mode,k),y.return=g,g=y}return o(g);case Vn:return C=x._init,v(g,y,C(x._payload),k)}if(Xs(x))return h(g,y,x,k);if($s(x))return m(g,y,x,k);Il(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,x),y.return=g,g=y):(n(g,y),y=Yc(x,g.mode,k),y.return=g,g=y),o(g)):n(g,y)}return v}var Cs=U1(!0),V1=U1(!1),Aa=Ar(null),Ra=null,Vi=null,Qh=null;function Gh(){Qh=Vi=Ra=null}function Yh(t){var e=Aa.current;ae(Aa),t._currentValue=e}function lf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zi(t,e){Ra=t,Qh=Vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if(Qh!==t)if(t={context:t,memoizedValue:e,next:null},Vi===null){if(Ra===null)throw Error(P(308));Vi=t,Ra.dependencies={lanes:0,firstContext:t}}else Vi=Vi.next=t;return e}var Wr=null;function Xh(t){Wr===null?Wr=[t]:Wr.push(t)}function W1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xh(e)):(n.next=i.next,i.next=n),e.interleaved=n,jn(t,r)}function jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function Zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jn(t,n)}return i=r.interleaved,i===null?(e.next=e,Xh(r)):(e.next=i.next,i.next=e),r.interleaved=e,jn(t,n)}function na(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fh(t,n)}}function Jm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pa(t,e,n,r){var i=t.updateQueue;Wn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,m=l;switch(f=e,p=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=he({},d,f);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=d):c=c.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yi|=o,t.lanes=o,t.memoizedState=d}}function Qm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var cl={},Sn=Ar(cl),Do=Ar(cl),Io=Ar(cl);function Kr(t){if(t===cl)throw Error(P(174));return t}function ep(t,e){switch(se(Io,e),se(Do,t),se(Sn,cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_d(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_d(e,t)}ae(Sn),se(Sn,e)}function bs(){ae(Sn),ae(Do),ae(Io)}function q1(t){Kr(Io.current);var e=Kr(Sn.current),n=_d(e,t.type);e!==n&&(se(Do,t),se(Sn,n))}function tp(t){Do.current===t&&(ae(Sn),ae(Do))}var de=Ar(0);function Da(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wc=[];function np(){for(var t=0;t<Wc.length;t++)Wc[t]._workInProgressVersionPrimary=null;Wc.length=0}var ra=Fn.ReactCurrentDispatcher,Kc=Fn.ReactCurrentBatchConfig,gi=0,fe=null,Ee=null,Oe=null,Ia=!1,co=!1,Lo=0,PC=0;function He(){throw Error(P(321))}function rp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sn(t[n],e[n]))return!1;return!0}function ip(t,e,n,r,i,s){if(gi=s,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ra.current=t===null||t.memoizedState===null?jC:zC,t=n(r,i),co){s=0;do{if(co=!1,Lo=0,25<=s)throw Error(P(301));s+=1,Oe=Ee=null,e.updateQueue=null,ra.current=FC,t=n(r,i)}while(co)}if(ra.current=La,e=Ee!==null&&Ee.next!==null,gi=0,Oe=Ee=fe=null,Ia=!1,e)throw Error(P(300));return t}function sp(){var t=Lo!==0;return Lo=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?fe.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function Ut(){if(Ee===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Oe===null?fe.memoizedState:Oe.next;if(e!==null)Oe=e,Ee=t;else{if(t===null)throw Error(P(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Oe===null?fe.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function jo(t,e){return typeof e=="function"?e(t):e}function qc(t){var e=Ut(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Ee,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((gi&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,fe.lanes|=c,yi|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,sn(r,e.memoizedState)||(ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,fe.lanes|=s,yi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jc(t){var e=Ut(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sn(s,e.memoizedState)||(ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function J1(){}function Q1(t,e){var n=fe,r=Ut(),i=e(),s=!sn(r.memoizedState,i);if(s&&(r.memoizedState=i,ft=!0),r=r.queue,op(X1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,zo(9,Y1.bind(null,n,r,i,e),void 0,null),Ae===null)throw Error(P(349));gi&30||G1(n,e,i)}return i}function G1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Y1(t,e,n,r){e.value=n,e.getSnapshot=r,Z1(e)&&ev(t)}function X1(t,e,n){return n(function(){Z1(e)&&ev(t)})}function Z1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sn(t,n)}catch{return!0}}function ev(t){var e=jn(t,1);e!==null&&nn(e,t,1,-1)}function Gm(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},e.queue=t,t=t.dispatch=LC.bind(null,fe,t),[e.memoizedState,t]}function zo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tv(){return Ut().memoizedState}function ia(t,e,n,r){var i=un();fe.flags|=t,i.memoizedState=zo(1|e,n,void 0,r===void 0?null:r)}function Ku(t,e,n,r){var i=Ut();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var o=Ee.memoizedState;if(s=o.destroy,r!==null&&rp(r,o.deps)){i.memoizedState=zo(e,n,s,r);return}}fe.flags|=t,i.memoizedState=zo(1|e,n,s,r)}function Ym(t,e){return ia(8390656,8,t,e)}function op(t,e){return Ku(2048,8,t,e)}function nv(t,e){return Ku(4,2,t,e)}function rv(t,e){return Ku(4,4,t,e)}function iv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sv(t,e,n){return n=n!=null?n.concat([t]):null,Ku(4,4,iv.bind(null,e,t),n)}function lp(){}function ov(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lv(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function av(t,e,n){return gi&21?(sn(n,e)||(n=h1(),fe.lanes|=n,yi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function DC(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var r=Kc.transition;Kc.transition={};try{t(!1),e()}finally{ne=n,Kc.transition=r}}function uv(){return Ut().memoizedState}function IC(t,e,n){var r=vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cv(t))dv(e,n);else if(n=W1(t,e,n,r),n!==null){var i=et();nn(n,t,r,i),fv(n,e,r)}}function LC(t,e,n){var r=vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cv(t))dv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,sn(l,o)){var a=e.interleaved;a===null?(i.next=i,Xh(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=W1(t,e,i,r),n!==null&&(i=et(),nn(n,t,r,i),fv(n,e,r))}}function cv(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function dv(t,e){co=Ia=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fh(t,n)}}var La={readContext:Ht,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},jC={readContext:Ht,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:Ym,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ia(4194308,4,iv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ia(4194308,4,t,e)},useInsertionEffect:function(t,e){return ia(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IC.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:Gm,useDebugValue:lp,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=Gm(!1),e=t[0];return t=DC.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fe,i=un();if(ue){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ae===null)throw Error(P(349));gi&30||G1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ym(X1.bind(null,r,s,t),[t]),r.flags|=2048,zo(9,Y1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=un(),e=Ae.identifierPrefix;if(ue){var n=Rn,r=An;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zC={readContext:Ht,useCallback:ov,useContext:Ht,useEffect:op,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:lv,useReducer:qc,useRef:tv,useState:function(){return qc(jo)},useDebugValue:lp,useDeferredValue:function(t){var e=Ut();return av(e,Ee.memoizedState,t)},useTransition:function(){var t=qc(jo)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:J1,useSyncExternalStore:Q1,useId:uv,unstable_isNewReconciler:!1},FC={readContext:Ht,useCallback:ov,useContext:Ht,useEffect:op,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:lv,useReducer:Jc,useRef:tv,useState:function(){return Jc(jo)},useDebugValue:lp,useDeferredValue:function(t){var e=Ut();return Ee===null?e.memoizedState=t:av(e,Ee.memoizedState,t)},useTransition:function(){var t=Jc(jo)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:J1,useSyncExternalStore:Q1,useId:uv,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function af(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qu={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=et(),i=vr(t),s=Pn(r,i);s.payload=e,n!=null&&(s.callback=n),e=gr(t,s,i),e!==null&&(nn(e,t,i,r),na(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=et(),i=vr(t),s=Pn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gr(t,s,i),e!==null&&(nn(e,t,i,r),na(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=et(),r=vr(t),i=Pn(n,r);i.tag=2,e!=null&&(i.callback=e),e=gr(t,i,r),e!==null&&(nn(e,t,r,n),na(e,t,r))}};function Xm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Mo(n,r)||!Mo(i,s):!0}function hv(t,e,n){var r=!1,i=Tr,s=e.contextType;return typeof s=="object"&&s!==null?s=Ht(s):(i=pt(e)?pi:Je.current,r=e.contextTypes,s=(r=r!=null)?Ss(t,i):Tr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Zm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qu.enqueueReplaceState(e,e.state,null)}function uf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Zh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ht(s):(s=pt(e)?pi:Je.current,i.context=Ss(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(af(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qu.enqueueReplaceState(i,i.state,null),Pa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,e){try{var n="",r=e;do n+=fk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BC=typeof WeakMap=="function"?WeakMap:Map;function pv(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){za||(za=!0,wf=r),cf(t,e)},n}function mv(t,e,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cf(t,e),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function eg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZC.bind(null,t,e,n),e.then(t,t))}function tg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ng(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var _C=Fn.ReactCurrentOwner,ft=!1;function Ze(t,e,n,r){e.child=t===null?V1(e,null,n,r):Cs(e,t.child,n,r)}function rg(t,e,n,r,i){n=n.render;var s=e.ref;return Zi(e,i),r=ip(t,e,n,r,s,i),n=sp(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):(ue&&n&&Kh(e),e.flags|=1,Ze(t,e,r,i),e.child)}function ig(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!mp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gv(t,e,s,r,i)):(t=aa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mo,n(o,r)&&t.ref===e.ref)return zn(t,e,i)}return e.flags|=1,t=xr(s,r),t.ref=e.ref,t.return=e,e.child=t}function gv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Mo(s,r)&&t.ref===e.ref)if(ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,zn(t,e,i)}return df(t,e,n,r,i)}function yv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Ki,St),St|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(Ki,St),St|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,se(Ki,St),St|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,se(Ki,St),St|=r;return Ze(t,e,i,n),e.child}function vv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function df(t,e,n,r,i){var s=pt(n)?pi:Je.current;return s=Ss(e,s),Zi(e,i),n=ip(t,e,n,r,s,i),r=sp(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):(ue&&r&&Kh(e),e.flags|=1,Ze(t,e,n,i),e.child)}function sg(t,e,n,r,i){if(pt(n)){var s=!0;Na(e)}else s=!1;if(Zi(e,i),e.stateNode===null)sa(t,e),hv(e,n,r),uf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ht(u):(u=pt(n)?pi:Je.current,u=Ss(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Zm(e,o,r,u),Wn=!1;var f=e.memoizedState;o.state=f,Pa(e,r,o,i),a=e.memoizedState,l!==r||f!==a||ht.current||Wn?(typeof c=="function"&&(af(e,n,c,r),a=e.memoizedState),(l=Wn||Xm(e,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,K1(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Jt(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ht(a):(a=pt(n)?pi:Je.current,a=Ss(e,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Zm(e,o,r,a),Wn=!1,f=e.memoizedState,o.state=f,Pa(e,r,o,i);var h=e.memoizedState;l!==d||f!==h||ht.current||Wn?(typeof p=="function"&&(af(e,n,p,r),h=e.memoizedState),(u=Wn||Xm(e,n,u,r,f,h,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ff(t,e,n,r,s,i)}function ff(t,e,n,r,i,s){vv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Vm(e,n,!1),zn(t,e,s);r=e.stateNode,_C.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Cs(e,t.child,null,s),e.child=Cs(e,null,l,s)):Ze(t,e,l,s),e.memoizedState=r.state,i&&Vm(e,n,!0),e.child}function xv(t){var e=t.stateNode;e.pendingContext?Um(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Um(t,e.context,!1),ep(t,e.containerInfo)}function og(t,e,n,r,i){return ks(),Jh(i),e.flags|=256,Ze(t,e,n,r),e.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function pf(t){return{baseLanes:t,cachePool:null,transitions:null}}function wv(t,e,n){var r=e.pendingProps,i=de.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),se(de,i&1),t===null)return of(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gu(o,r,0,null),t=oi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pf(n),e.memoizedState=hf,t):ap(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return $C(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=xr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=xr(l,s):(s=oi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hf,r}return s=t.child,t=s.sibling,r=xr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ap(t,e){return e=Gu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ll(t,e,n,r){return r!==null&&Jh(r),Cs(e,t.child,null,n),t=ap(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $C(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qc(Error(P(422))),Ll(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gu({mode:"visible",children:r.children},i,0,null),s=oi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Cs(e,t.child,null,o),e.child.memoizedState=pf(o),e.memoizedState=hf,s);if(!(e.mode&1))return Ll(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=Qc(s,r,void 0),Ll(t,e,o,r)}if(l=(o&t.childLanes)!==0,ft||l){if(r=Ae,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jn(t,i),nn(r,t,i,-1))}return pp(),r=Qc(Error(P(421))),Ll(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ct=mr(i.nextSibling),bt=e,ue=!0,Yt=null,t!==null&&(Lt[jt++]=An,Lt[jt++]=Rn,Lt[jt++]=mi,An=t.id,Rn=t.overflow,mi=e),e=ap(e,r.children),e.flags|=4096,e)}function lg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lf(t.return,e,n)}function Gc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Sv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ze(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lg(t,n,e);else if(t.tag===19)lg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(se(de,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Da(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Da(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gc(e,!0,n,null,s);break;case"together":Gc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HC(t,e,n){switch(e.tag){case 3:xv(e),ks();break;case 5:q1(e);break;case 1:pt(e.type)&&Na(e);break;case 4:ep(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;se(Aa,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(se(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?wv(t,e,n):(se(de,de.current&1),t=zn(t,e,n),t!==null?t.sibling:null);se(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Sv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,yv(t,e,n)}return zn(t,e,n)}var kv,mf,Cv,bv;kv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mf=function(){};Cv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kr(Sn.current);var s=null;switch(n){case"input":i=jd(t,i),r=jd(t,r),s=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),s=[];break;case"textarea":i=Bd(t,i),r=Bd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ea)}$d(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ko.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ko.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&oe("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};bv=function(t,e,n,r){n!==r&&(e.flags|=4)};function qs(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UC(t,e,n){var r=e.pendingProps;switch(qh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(e),null;case 1:return pt(e.type)&&Ta(),Ue(e),null;case 3:return r=e.stateNode,bs(),ae(ht),ae(Je),np(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yt!==null&&(Cf(Yt),Yt=null))),mf(t,e),Ue(e),null;case 5:tp(e);var i=Kr(Io.current);if(n=e.type,t!==null&&e.stateNode!=null)Cv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Ue(e),null}if(t=Kr(Sn.current),Dl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vn]=e,r[Po]=s,t=(e.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(i=0;i<eo.length;i++)oe(eo[i],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":gm(r,s),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},oe("invalid",r);break;case"textarea":vm(r,s),oe("invalid",r)}$d(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,l,t),i=["children",""+l]):ko.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&oe("scroll",r)}switch(n){case"input":bl(r),ym(r,s,!0);break;case"textarea":bl(r),xm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ea)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=X0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vn]=e,t[Po]=r,kv(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hd(n,r),n){case"dialog":oe("cancel",t),oe("close",t),i=r;break;case"iframe":case"object":case"embed":oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<eo.length;i++)oe(eo[i],t);i=r;break;case"source":oe("error",t),i=r;break;case"img":case"image":case"link":oe("error",t),oe("load",t),i=r;break;case"details":oe("toggle",t),i=r;break;case"input":gm(t,r),i=jd(t,r),oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),oe("invalid",t);break;case"textarea":vm(t,r),i=Bd(t,r),oe("invalid",t);break;default:i=r}$d(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?t1(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Z0(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Co(t,a):typeof a=="number"&&Co(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ko.hasOwnProperty(s)?a!=null&&s==="onScroll"&&oe("scroll",t):a!=null&&Ph(t,s,a,o))}switch(n){case"input":bl(t),ym(t,r,!1);break;case"textarea":bl(t),xm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Er(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ea)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ue(e),null;case 6:if(t&&e.stateNode!=null)bv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Kr(Io.current),Kr(Sn.current),Dl(e)){if(r=e.stateNode,n=e.memoizedProps,r[vn]=e,(s=r.nodeValue!==n)&&(t=bt,t!==null))switch(t.tag){case 3:Pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vn]=e,e.stateNode=r}return Ue(e),null;case 13:if(ae(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ue&&Ct!==null&&e.mode&1&&!(e.flags&128))H1(),ks(),e.flags|=98560,s=!1;else if(s=Dl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[vn]=e}else ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ue(e),s=!1}else Yt!==null&&(Cf(Yt),Yt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?Ne===0&&(Ne=3):pp())),e.updateQueue!==null&&(e.flags|=4),Ue(e),null);case 4:return bs(),mf(t,e),t===null&&Ao(e.stateNode.containerInfo),Ue(e),null;case 10:return Yh(e.type._context),Ue(e),null;case 17:return pt(e.type)&&Ta(),Ue(e),null;case 19:if(ae(de),s=e.memoizedState,s===null)return Ue(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qs(s,!1);else{if(Ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Da(t),o!==null){for(e.flags|=128,qs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(de,de.current&1|2),e.child}t=t.sibling}s.tail!==null&&xe()>Ts&&(e.flags|=128,r=!0,qs(s,!1),e.lanes=4194304)}else{if(!r)if(t=Da(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ue)return Ue(e),null}else 2*xe()-s.renderingStartTime>Ts&&n!==1073741824&&(e.flags|=128,r=!0,qs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,n=de.current,se(de,r?n&1|2:n&1),e):(Ue(e),null);case 22:case 23:return hp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?St&1073741824&&(Ue(e),e.subtreeFlags&6&&(e.flags|=8192)):Ue(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function VC(t,e){switch(qh(e),e.tag){case 1:return pt(e.type)&&Ta(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bs(),ae(ht),ae(Je),np(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tp(e),null;case 13:if(ae(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(de),null;case 4:return bs(),null;case 10:return Yh(e.type._context),null;case 22:case 23:return hp(),null;case 24:return null;default:return null}}var jl=!1,Ke=!1,WC=typeof WeakSet=="function"?WeakSet:Set,L=null;function Wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function gf(t,e,n){try{n()}catch(r){ge(t,e,r)}}var ag=!1;function KC(t,e){if(Xd=ka,t=M1(),Wh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zd={focusedElem:t,selectionRange:n},ka=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,v=h.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Jt(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){ge(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return h=ag,ag=!1,h}function fo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gf(e,n,s)}i=i.next}while(i!==r)}}function Ju(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ev(t){var e=t.alternate;e!==null&&(t.alternate=null,Ev(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vn],delete e[Po],delete e[nf],delete e[OC],delete e[MC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tv(t){return t.tag===5||t.tag===3||t.tag===4}function ug(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ea));else if(r!==4&&(t=t.child,t!==null))for(vf(t,e,n),t=t.sibling;t!==null;)vf(t,e,n),t=t.sibling}function xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xf(t,e,n),t=t.sibling;t!==null;)xf(t,e,n),t=t.sibling}var Ie=null,Gt=!1;function Bn(t,e,n){for(n=n.child;n!==null;)Nv(t,e,n),n=n.sibling}function Nv(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(_u,n)}catch{}switch(n.tag){case 5:Ke||Wi(n,e);case 6:var r=Ie,i=Gt;Ie=null,Bn(t,e,n),Ie=r,Gt=i,Ie!==null&&(Gt?(t=Ie,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(Gt?(t=Ie,n=n.stateNode,t.nodeType===8?Uc(t.parentNode,n):t.nodeType===1&&Uc(t,n),No(t)):Uc(Ie,n.stateNode));break;case 4:r=Ie,i=Gt,Ie=n.stateNode.containerInfo,Gt=!0,Bn(t,e,n),Ie=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gf(n,e,o),i=i.next}while(i!==r)}Bn(t,e,n);break;case 1:if(!Ke&&(Wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,e,l)}Bn(t,e,n);break;case 21:Bn(t,e,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,Bn(t,e,n),Ke=r):Bn(t,e,n);break;default:Bn(t,e,n)}}function cg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WC),e.forEach(function(r){var i=tb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,Gt=!1;break e;case 3:Ie=l.stateNode.containerInfo,Gt=!0;break e;case 4:Ie=l.stateNode.containerInfo,Gt=!0;break e}l=l.return}if(Ie===null)throw Error(P(160));Nv(s,o,i),Ie=null,Gt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ov(e,t),e=e.sibling}function Ov(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),an(t),r&4){try{fo(3,t,t.return),Ju(3,t)}catch(m){ge(t,t.return,m)}try{fo(5,t,t.return)}catch(m){ge(t,t.return,m)}}break;case 1:qt(e,t),an(t),r&512&&n!==null&&Wi(n,n.return);break;case 5:if(qt(e,t),an(t),r&512&&n!==null&&Wi(n,n.return),t.flags&32){var i=t.stateNode;try{Co(i,"")}catch(m){ge(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&G0(i,s),Hd(l,o);var u=Hd(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?t1(i,d):c==="dangerouslySetInnerHTML"?Z0(i,d):c==="children"?Co(i,d):Ph(i,c,d,u)}switch(l){case"input":zd(i,s);break;case"textarea":Y0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Qi(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Qi(i,!!s.multiple,s.defaultValue,!0):Qi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Po]=s}catch(m){ge(t,t.return,m)}}break;case 6:if(qt(e,t),an(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){ge(t,t.return,m)}}break;case 3:if(qt(e,t),an(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{No(e.containerInfo)}catch(m){ge(t,t.return,m)}break;case 4:qt(e,t),an(t);break;case 13:qt(e,t),an(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dp=xe())),r&4&&cg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ke=(u=Ke)||c,qt(e,t),Ke=u):qt(e,t),an(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(d=L=c;L!==null;){switch(f=L,p=f.child,f.tag){case 0:case 11:case 14:case 15:fo(4,f,f.return);break;case 1:Wi(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(m){ge(r,n,m)}}break;case 5:Wi(f,f.return);break;case 22:if(f.memoizedState!==null){fg(d);continue}}p!==null?(p.return=f,L=p):fg(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=e1("display",o))}catch(m){ge(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){ge(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qt(e,t),an(t),r&4&&cg(t);break;case 21:break;default:qt(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Tv(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Co(i,""),r.flags&=-33);var s=ug(t);xf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ug(t);vf(t,l,o);break;default:throw Error(P(161))}}catch(a){ge(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qC(t,e,n){L=t,Mv(t)}function Mv(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||jl;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ke;l=jl;var u=Ke;if(jl=o,(Ke=a)&&!u)for(L=i;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?hg(i):a!==null?(a.return=o,L=a):hg(i);for(;s!==null;)L=s,Mv(s),s=s.sibling;L=i,jl=l,Ke=u}dg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):dg(t)}}function dg(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||Ju(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Qm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qm(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&No(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ke||e.flags&512&&yf(e)}catch(f){ge(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function fg(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function hg(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ju(4,e)}catch(a){ge(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ge(e,i,a)}}var s=e.return;try{yf(e)}catch(a){ge(e,s,a)}break;case 5:var o=e.return;try{yf(e)}catch(a){ge(e,o,a)}}}catch(a){ge(e,e.return,a)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var JC=Math.ceil,ja=Fn.ReactCurrentDispatcher,up=Fn.ReactCurrentOwner,_t=Fn.ReactCurrentBatchConfig,Z=0,Ae=null,Se=null,Be=0,St=0,Ki=Ar(0),Ne=0,Fo=null,yi=0,Qu=0,cp=0,ho=null,ct=null,dp=0,Ts=1/0,Nn=null,za=!1,wf=null,yr=null,zl=!1,lr=null,Fa=0,po=0,Sf=null,oa=-1,la=0;function et(){return Z&6?xe():oa!==-1?oa:oa=xe()}function vr(t){return t.mode&1?Z&2&&Be!==0?Be&-Be:RC.transition!==null?(la===0&&(la=h1()),la):(t=ne,t!==0||(t=window.event,t=t===void 0?16:w1(t.type)),t):1}function nn(t,e,n,r){if(50<po)throw po=0,Sf=null,Error(P(185));ll(t,n,r),(!(Z&2)||t!==Ae)&&(t===Ae&&(!(Z&2)&&(Qu|=n),Ne===4&&Gn(t,Be)),mt(t,r),n===1&&Z===0&&!(e.mode&1)&&(Ts=xe()+500,Wu&&Rr()))}function mt(t,e){var n=t.callbackNode;Rk(t,e);var r=Sa(t,t===Ae?Be:0);if(r===0)n!==null&&km(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&km(n),e===1)t.tag===0?AC(pg.bind(null,t)):B1(pg.bind(null,t)),TC(function(){!(Z&6)&&Rr()}),n=null;else{switch(p1(r)){case 1:n=zh;break;case 4:n=d1;break;case 16:n=wa;break;case 536870912:n=f1;break;default:n=wa}n=zv(n,Av.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Av(t,e){if(oa=-1,la=0,Z&6)throw Error(P(327));var n=t.callbackNode;if(es()&&t.callbackNode!==n)return null;var r=Sa(t,t===Ae?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ba(t,r);else{e=r;var i=Z;Z|=2;var s=Pv();(Ae!==t||Be!==e)&&(Nn=null,Ts=xe()+500,si(t,e));do try{YC();break}catch(l){Rv(t,l)}while(!0);Gh(),ja.current=s,Z=i,Se!==null?e=0:(Ae=null,Be=0,e=Ne)}if(e!==0){if(e===2&&(i=qd(t),i!==0&&(r=i,e=kf(t,i))),e===1)throw n=Fo,si(t,0),Gn(t,r),mt(t,xe()),n;if(e===6)Gn(t,r);else{if(i=t.current.alternate,!(r&30)&&!QC(i)&&(e=Ba(t,r),e===2&&(s=qd(t),s!==0&&(r=s,e=kf(t,s))),e===1))throw n=Fo,si(t,0),Gn(t,r),mt(t,xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:_r(t,ct,Nn);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=dp+500-xe(),10<e)){if(Sa(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){et(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tf(_r.bind(null,t,ct,Nn),e);break}_r(t,ct,Nn);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JC(r/1960))-r,10<r){t.timeoutHandle=tf(_r.bind(null,t,ct,Nn),r);break}_r(t,ct,Nn);break;case 5:_r(t,ct,Nn);break;default:throw Error(P(329))}}}return mt(t,xe()),t.callbackNode===n?Av.bind(null,t):null}function kf(t,e){var n=ho;return t.current.memoizedState.isDehydrated&&(si(t,e).flags|=256),t=Ba(t,e),t!==2&&(e=ct,ct=n,e!==null&&Cf(e)),t}function Cf(t){ct===null?ct=t:ct.push.apply(ct,t)}function QC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~cp,e&=~Qu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function pg(t){if(Z&6)throw Error(P(327));es();var e=Sa(t,0);if(!(e&1))return mt(t,xe()),null;var n=Ba(t,e);if(t.tag!==0&&n===2){var r=qd(t);r!==0&&(e=r,n=kf(t,r))}if(n===1)throw n=Fo,si(t,0),Gn(t,e),mt(t,xe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_r(t,ct,Nn),mt(t,xe()),null}function fp(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(Ts=xe()+500,Wu&&Rr())}}function vi(t){lr!==null&&lr.tag===0&&!(Z&6)&&es();var e=Z;Z|=1;var n=_t.transition,r=ne;try{if(_t.transition=null,ne=1,t)return t()}finally{ne=r,_t.transition=n,Z=e,!(Z&6)&&Rr()}}function hp(){St=Ki.current,ae(Ki)}function si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,EC(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(qh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ta();break;case 3:bs(),ae(ht),ae(Je),np();break;case 5:tp(r);break;case 4:bs();break;case 13:ae(de);break;case 19:ae(de);break;case 10:Yh(r.type._context);break;case 22:case 23:hp()}n=n.return}if(Ae=t,Se=t=xr(t.current,null),Be=St=e,Ne=0,Fo=null,cp=Qu=yi=0,ct=ho=null,Wr!==null){for(e=0;e<Wr.length;e++)if(n=Wr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wr=null}return t}function Rv(t,e){do{var n=Se;try{if(Gh(),ra.current=La,Ia){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ia=!1}if(gi=0,Oe=Ee=fe=null,co=!1,Lo=0,up.current=null,n===null||n.return===null){Ne=1,Fo=e,Se=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Be,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=tg(o);if(p!==null){p.flags&=-257,ng(p,o,l,s,e),p.mode&1&&eg(s,u,e),e=p,a=u;var h=e.updateQueue;if(h===null){var m=new Set;m.add(a),e.updateQueue=m}else h.add(a);break e}else{if(!(e&1)){eg(s,u,e),pp();break e}a=Error(P(426))}}else if(ue&&l.mode&1){var v=tg(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ng(v,o,l,s,e),Jh(Es(a,l));break e}}s=a=Es(a,l),Ne!==4&&(Ne=2),ho===null?ho=[s]:ho.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=pv(s,a,e);Jm(s,g);break e;case 1:l=a;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(yr===null||!yr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=mv(s,l,e);Jm(s,k);break e}}s=s.return}while(s!==null)}Iv(n)}catch(b){e=b,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Pv(){var t=ja.current;return ja.current=La,t===null?La:t}function pp(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Ae===null||!(yi&268435455)&&!(Qu&268435455)||Gn(Ae,Be)}function Ba(t,e){var n=Z;Z|=2;var r=Pv();(Ae!==t||Be!==e)&&(Nn=null,si(t,e));do try{GC();break}catch(i){Rv(t,i)}while(!0);if(Gh(),Z=n,ja.current=r,Se!==null)throw Error(P(261));return Ae=null,Be=0,Ne}function GC(){for(;Se!==null;)Dv(Se)}function YC(){for(;Se!==null&&!kk();)Dv(Se)}function Dv(t){var e=jv(t.alternate,t,St);t.memoizedProps=t.pendingProps,e===null?Iv(t):Se=e,up.current=null}function Iv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VC(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ne=6,Se=null;return}}else if(n=UC(n,e,St),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Ne===0&&(Ne=5)}function _r(t,e,n){var r=ne,i=_t.transition;try{_t.transition=null,ne=1,XC(t,e,n,r)}finally{_t.transition=i,ne=r}return null}function XC(t,e,n,r){do es();while(lr!==null);if(Z&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Pk(t,s),t===Ae&&(Se=Ae=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zl||(zl=!0,zv(wa,function(){return es(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_t.transition,_t.transition=null;var o=ne;ne=1;var l=Z;Z|=4,up.current=null,KC(t,n),Ov(n,t),vC(Zd),ka=!!Xd,Zd=Xd=null,t.current=n,qC(n),Ck(),Z=l,ne=o,_t.transition=s}else t.current=n;if(zl&&(zl=!1,lr=t,Fa=i),s=t.pendingLanes,s===0&&(yr=null),Tk(n.stateNode),mt(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(za)throw za=!1,t=wf,wf=null,t;return Fa&1&&t.tag!==0&&es(),s=t.pendingLanes,s&1?t===Sf?po++:(po=0,Sf=t):po=0,Rr(),null}function es(){if(lr!==null){var t=p1(Fa),e=_t.transition,n=ne;try{if(_t.transition=null,ne=16>t?16:t,lr===null)var r=!1;else{if(t=lr,lr=null,Fa=0,Z&6)throw Error(P(331));var i=Z;for(Z|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:fo(8,c,s)}var d=c.child;if(d!==null)d.return=c,L=d;else for(;L!==null;){c=L;var f=c.sibling,p=c.return;if(Ev(c),c===u){L=null;break}if(f!==null){f.return=p,L=f;break}L=p}}}var h=s.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,L=g;break e}L=s.return}}var y=t.current;for(L=y;L!==null;){o=L;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,L=x;else e:for(o=y;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ju(9,l)}}catch(b){ge(l,l.return,b)}if(l===o){L=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,L=k;break e}L=l.return}}if(Z=i,Rr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(_u,t)}catch{}r=!0}return r}finally{ne=n,_t.transition=e}}return!1}function mg(t,e,n){e=Es(n,e),e=pv(t,e,1),t=gr(t,e,1),e=et(),t!==null&&(ll(t,1,e),mt(t,e))}function ge(t,e,n){if(t.tag===3)mg(t,t,n);else for(;e!==null;){if(e.tag===3){mg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){t=Es(n,t),t=mv(e,t,1),e=gr(e,t,1),t=et(),e!==null&&(ll(e,1,t),mt(e,t));break}}e=e.return}}function ZC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=et(),t.pingedLanes|=t.suspendedLanes&n,Ae===t&&(Be&n)===n&&(Ne===4||Ne===3&&(Be&130023424)===Be&&500>xe()-dp?si(t,0):cp|=n),mt(t,e)}function Lv(t,e){e===0&&(t.mode&1?(e=Nl,Nl<<=1,!(Nl&130023424)&&(Nl=4194304)):e=1);var n=et();t=jn(t,e),t!==null&&(ll(t,e,n),mt(t,n))}function eb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lv(t,n)}function tb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Lv(t,n)}var jv;jv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ft=!1,HC(t,e,n);ft=!!(t.flags&131072)}else ft=!1,ue&&e.flags&1048576&&_1(e,Ma,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sa(t,e),t=e.pendingProps;var i=Ss(e,Je.current);Zi(e,n),i=ip(null,e,r,t,i,n);var s=sp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(s=!0,Na(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zh(e),i.updater=qu,e.stateNode=i,i._reactInternals=e,uf(e,r,t,n),e=ff(null,e,r,!0,s,n)):(e.tag=0,ue&&s&&Kh(e),Ze(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rb(r),t=Jt(r,t),i){case 0:e=df(null,e,r,t,n);break e;case 1:e=sg(null,e,r,t,n);break e;case 11:e=rg(null,e,r,t,n);break e;case 14:e=ig(null,e,r,Jt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),df(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),sg(t,e,r,i,n);case 3:e:{if(xv(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,K1(t,e),Pa(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Es(Error(P(423)),e),e=og(t,e,r,n,i);break e}else if(r!==i){i=Es(Error(P(424)),e),e=og(t,e,r,n,i);break e}else for(Ct=mr(e.stateNode.containerInfo.firstChild),bt=e,ue=!0,Yt=null,n=V1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),r===i){e=zn(t,e,n);break e}Ze(t,e,r,n)}e=e.child}return e;case 5:return q1(e),t===null&&of(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ef(r,i)?o=null:s!==null&&ef(r,s)&&(e.flags|=32),vv(t,e),Ze(t,e,o,n),e.child;case 6:return t===null&&of(e),null;case 13:return wv(t,e,n);case 4:return ep(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cs(e,null,r,n):Ze(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),rg(t,e,r,i,n);case 7:return Ze(t,e,e.pendingProps,n),e.child;case 8:return Ze(t,e,e.pendingProps.children,n),e.child;case 12:return Ze(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,se(Aa,r._currentValue),r._currentValue=o,s!==null)if(sn(s.value,o)){if(s.children===i.children&&!ht.current){e=zn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Pn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),lf(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),lf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ze(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zi(e,n),i=Ht(i),r=r(i),e.flags|=1,Ze(t,e,r,n),e.child;case 14:return r=e.type,i=Jt(r,e.pendingProps),i=Jt(r.type,i),ig(t,e,r,i,n);case 15:return gv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),sa(t,e),e.tag=1,pt(r)?(t=!0,Na(e)):t=!1,Zi(e,n),hv(e,r,i),uf(e,r,i,n),ff(null,e,r,!0,t,n);case 19:return Sv(t,e,n);case 22:return yv(t,e,n)}throw Error(P(156,e.tag))};function zv(t,e){return c1(t,e)}function nb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(t,e,n,r){return new nb(t,e,n,r)}function mp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rb(t){if(typeof t=="function")return mp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ih)return 11;if(t===Lh)return 14}return 2}function xr(t,e){var n=t.alternate;return n===null?(n=Ft(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function aa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")mp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ji:return oi(n.children,i,s,e);case Dh:o=8,i|=8;break;case Pd:return t=Ft(12,n,e,i|2),t.elementType=Pd,t.lanes=s,t;case Dd:return t=Ft(13,n,e,i),t.elementType=Dd,t.lanes=s,t;case Id:return t=Ft(19,n,e,i),t.elementType=Id,t.lanes=s,t;case q0:return Gu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W0:o=10;break e;case K0:o=9;break e;case Ih:o=11;break e;case Lh:o=14;break e;case Vn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Ft(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function oi(t,e,n,r){return t=Ft(7,t,r,e),t.lanes=n,t}function Gu(t,e,n,r){return t=Ft(22,t,r,e),t.elementType=q0,t.lanes=n,t.stateNode={isHidden:!1},t}function Yc(t,e,n){return t=Ft(6,t,null,e),t.lanes=n,t}function Xc(t,e,n){return e=Ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ib(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gp(t,e,n,r,i,s,o,l,a){return t=new ib(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ft(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(s),t}function sb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fv(t){if(!t)return Tr;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(pt(n))return F1(t,n,e)}return e}function Bv(t,e,n,r,i,s,o,l,a){return t=gp(n,r,!0,t,i,s,o,l,a),t.context=Fv(null),n=t.current,r=et(),i=vr(n),s=Pn(r,i),s.callback=e??null,gr(n,s,i),t.current.lanes=i,ll(t,i,r),mt(t,r),t}function Yu(t,e,n,r){var i=e.current,s=et(),o=vr(i);return n=Fv(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gr(i,e,o),t!==null&&(nn(t,i,o,s),na(t,i,o)),o}function _a(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yp(t,e){gg(t,e),(t=t.alternate)&&gg(t,e)}function ob(){return null}var _v=typeof reportError=="function"?reportError:function(t){console.error(t)};function vp(t){this._internalRoot=t}Xu.prototype.render=vp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Yu(t,e,null,null)};Xu.prototype.unmount=vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vi(function(){Yu(null,t,null,null)}),e[Ln]=null}};function Xu(t){this._internalRoot=t}Xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=y1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qn.length&&e!==0&&e<Qn[n].priority;n++);Qn.splice(n,0,t),n===0&&x1(t)}};function xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yg(){}function lb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=_a(o);s.call(u)}}var o=Bv(e,r,t,0,null,!1,!1,"",yg);return t._reactRootContainer=o,t[Ln]=o.current,Ao(t.nodeType===8?t.parentNode:t),vi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=_a(a);l.call(u)}}var a=gp(t,0,!1,null,null,!1,!1,"",yg);return t._reactRootContainer=a,t[Ln]=a.current,Ao(t.nodeType===8?t.parentNode:t),vi(function(){Yu(e,a,n,r)}),a}function ec(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=_a(o);l.call(a)}}Yu(e,o,t,i)}else o=lb(n,e,t,i,r);return _a(o)}m1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zs(e.pendingLanes);n!==0&&(Fh(e,n|1),mt(e,xe()),!(Z&6)&&(Ts=xe()+500,Rr()))}break;case 13:vi(function(){var r=jn(t,1);if(r!==null){var i=et();nn(r,t,1,i)}}),yp(t,1)}};Bh=function(t){if(t.tag===13){var e=jn(t,134217728);if(e!==null){var n=et();nn(e,t,134217728,n)}yp(t,134217728)}};g1=function(t){if(t.tag===13){var e=vr(t),n=jn(t,e);if(n!==null){var r=et();nn(n,t,e,r)}yp(t,e)}};y1=function(){return ne};v1=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};Vd=function(t,e,n){switch(e){case"input":if(zd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vu(r);if(!i)throw Error(P(90));Q0(r),zd(r,i)}}}break;case"textarea":Y0(t,n);break;case"select":e=n.value,e!=null&&Qi(t,!!n.multiple,e,!1)}};i1=fp;s1=vi;var ab={usingClientEntryPoint:!1,Events:[ul,_i,Vu,n1,r1,fp]},Js={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ub={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a1(t),t===null?null:t.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||ob,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{_u=Fl.inject(ub),wn=Fl}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ab;Nt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xp(e))throw Error(P(200));return sb(t,e,null,n)};Nt.createRoot=function(t,e){if(!xp(t))throw Error(P(299));var n=!1,r="",i=_v;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gp(t,1,!1,null,null,n,!1,r,i),t[Ln]=e.current,Ao(t.nodeType===8?t.parentNode:t),new vp(e)};Nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=a1(e),t=t===null?null:t.stateNode,t};Nt.flushSync=function(t){return vi(t)};Nt.hydrate=function(t,e,n){if(!Zu(e))throw Error(P(200));return ec(null,t,e,!0,n)};Nt.hydrateRoot=function(t,e,n){if(!xp(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_v;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Bv(e,null,t,1,n??null,i,!1,s,o),t[Ln]=e.current,Ao(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xu(e)};Nt.render=function(t,e,n){if(!Zu(e))throw Error(P(200));return ec(null,t,e,!1,n)};Nt.unmountComponentAtNode=function(t){if(!Zu(t))throw Error(P(40));return t._reactRootContainer?(vi(function(){ec(null,null,t,!1,function(){t._reactRootContainer=null,t[Ln]=null})}),!0):!1};Nt.unstable_batchedUpdates=fp;Nt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zu(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return ec(t,e,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function $v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($v)}catch(t){console.error(t)}}$v(),$0.exports=Nt;var Hv=$0.exports;const cb=Eh(Hv);var Uv,vg=Hv;Uv=vg.createRoot,vg.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bo.apply(this,arguments)}var ar;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ar||(ar={}));const xg="popstate";function db(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return bf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$a(i)}return hb(e,n,null,t)}function ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fb(){return Math.random().toString(36).substr(2,8)}function wg(t,e){return{usr:t.state,key:t.key,idx:e}}function bf(t,e,n,r){return n===void 0&&(n=null),Bo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zs(e):e,{state:n,key:e&&e.key||r||fb()})}function $a(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ar.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Bo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=ar.Pop;let v=c(),g=v==null?null:v-u;u=v,a&&a({action:l,location:m.location,delta:g})}function f(v,g){l=ar.Push;let y=bf(m.location,v,g);u=c()+1;let x=wg(y,u),k=m.createHref(y);try{o.pushState(x,"",k)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(k)}s&&a&&a({action:l,location:m.location,delta:1})}function p(v,g){l=ar.Replace;let y=bf(m.location,v,g);u=c();let x=wg(y,u),k=m.createHref(y);o.replaceState(x,"",k),s&&a&&a({action:l,location:m.location,delta:0})}function h(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:$a(v);return y=y.replace(/ $/,"%20"),ve(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return l},get location(){return t(i,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(xg,d),a=v,()=>{i.removeEventListener(xg,d),a=null}},createHref(v){return e(i,v)},createURL:h,encodeLocation(v){let g=h(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(v){return o.go(v)}};return m}var Sg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sg||(Sg={}));function pb(t,e,n){return n===void 0&&(n="/"),mb(t,e,n,!1)}function mb(t,e,n,r){let i=typeof e=="string"?zs(e):e,s=Ns(i.pathname||"/",n);if(s==null)return null;let o=Wv(t);gb(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=Nb(s);l=Eb(o[a],u,r)}return l}function Wv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ve(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=wr([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Wv(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Cb(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of Kv(s.path))i(s,o,a)}),e}function Kv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Kv(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function gb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yb=/^:[\w-]+$/,vb=3,xb=2,wb=1,Sb=10,kb=-2,kg=t=>t==="*";function Cb(t,e){let n=t.split("/"),r=n.length;return n.some(kg)&&(r+=kb),e&&(r+=xb),n.filter(i=>!kg(i)).reduce((i,s)=>i+(yb.test(s)?vb:s===""?wb:Sb),r)}function bb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Eb(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Ha({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),f=a.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Ha({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:wr([s,d.pathname]),pathnameBase:Rb(wr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=wr([s,d.pathnameBase]))}return o}function Ha(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Tb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let m=l[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const h=l[d];return p&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Tb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Nb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ob(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zs(t):t;return{pathname:n?n.startsWith("/")?n:Mb(n,e):e,search:Pb(r),hash:Db(i)}}function Mb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ab(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qv(t,e){let n=Ab(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Jv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zs(t):(i=Bo({},t),ve(!i.pathname||!i.pathname.includes("?"),Zc("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),Zc("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),Zc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=Ob(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const wr=t=>t.join("/").replace(/\/\/+/g,"/"),Rb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Db=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ib(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qv=["post","put","patch","delete"];new Set(Qv);const Lb=["get",...Qv];new Set(Lb);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o.apply(this,arguments)}const tc=T.createContext(null),Gv=T.createContext(null),Pr=T.createContext(null),nc=T.createContext(null),Dr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Yv=T.createContext(null);function jb(t,e){let{relative:n}=e===void 0?{}:e;dl()||ve(!1);let{basename:r,navigator:i}=T.useContext(Pr),{hash:s,pathname:o,search:l}=rc(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:wr([r,o])),i.createHref({pathname:a,search:l,hash:s})}function dl(){return T.useContext(nc)!=null}function fl(){return dl()||ve(!1),T.useContext(nc).location}function Xv(t){T.useContext(Pr).static||T.useLayoutEffect(t)}function wp(){let{isDataRoute:t}=T.useContext(Dr);return t?Gb():zb()}function zb(){dl()||ve(!1);let t=T.useContext(tc),{basename:e,future:n,navigator:r}=T.useContext(Pr),{matches:i}=T.useContext(Dr),{pathname:s}=fl(),o=JSON.stringify(qv(i,n.v7_relativeSplatPath)),l=T.useRef(!1);return Xv(()=>{l.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=Jv(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:wr([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function Fb(){let{matches:t}=T.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function rc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(Pr),{matches:i}=T.useContext(Dr),{pathname:s}=fl(),o=JSON.stringify(qv(i,r.v7_relativeSplatPath));return T.useMemo(()=>Jv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Bb(t,e){return _b(t,e)}function _b(t,e,n,r){dl()||ve(!1);let{navigator:i}=T.useContext(Pr),{matches:s}=T.useContext(Dr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=fl(),c;if(e){var d;let v=typeof e=="string"?zs(e):e;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||ve(!1),c=v}else c=u;let f=c.pathname||"/",p=f;if(a!=="/"){let v=a.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let h=pb(t,{pathname:p}),m=Wb(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:wr([a,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:wr([a,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&m?T.createElement(nc.Provider,{value:{location:_o({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ar.Pop}},m):m}function $b(){let t=Qb(),e=Ib(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const Hb=T.createElement($b,null);class Ub extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Dr.Provider,{value:this.props.routeContext},T.createElement(Yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vb(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(tc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Dr.Provider,{value:e},r)}function Wb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||ve(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=n,h=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||h){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let p,h=!1,m=null,v=null;n&&(p=l&&d.route.id?l[d.route.id]:void 0,m=d.route.errorElement||Hb,a&&(u<0&&f===0?(h=!0,v=null):u===f&&(h=!0,v=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),y=()=>{let x;return p?x=m:h?x=v:d.route.Component?x=T.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,T.createElement(Vb,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?T.createElement(Ub,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var Zv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Zv||{}),Ua=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ua||{});function Kb(t){let e=T.useContext(tc);return e||ve(!1),e}function qb(t){let e=T.useContext(Gv);return e||ve(!1),e}function Jb(t){let e=T.useContext(Dr);return e||ve(!1),e}function ex(t){let e=Jb(),n=e.matches[e.matches.length-1];return n.route.id||ve(!1),n.route.id}function Qb(){var t;let e=T.useContext(Yv),n=qb(Ua.UseRouteError),r=ex(Ua.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Gb(){let{router:t}=Kb(Zv.UseNavigateStable),e=ex(Ua.UseNavigateStable),n=T.useRef(!1);return Xv(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_o({fromRouteId:e},s)))},[t,e])}function $r(t){ve(!1)}function Yb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ar.Pop,navigator:s,static:o=!1,future:l}=t;dl()&&ve(!1);let a=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:a,navigator:s,static:o,future:_o({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=zs(r));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:h="default"}=r,m=T.useMemo(()=>{let v=Ns(c,a);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:h},navigationType:i}},[a,c,d,f,p,h,i]);return m==null?null:T.createElement(Pr.Provider,{value:u},T.createElement(nc.Provider,{children:n,value:m}))}function Xb(t){let{children:e,location:n}=t;return Bb(Ef(e),n)}new Promise(()=>{});function Ef(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Ef(r.props.children,s));return}r.type!==$r&&ve(!1),!r.props.index||!r.props.children||ve(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ef(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Va.apply(this,arguments)}function tx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eE(t,e){return t.button===0&&(!e||e==="_self")&&!Zb(t)}const tE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nE=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rE="6";try{window.__reactRouterVersion=rE}catch{}const iE=T.createContext({isTransitioning:!1}),sE="startTransition",Cg=ZS[sE];function oE(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=db({window:i,v5Compat:!0}));let o=s.current,[l,a]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=T.useCallback(d=>{u&&Cg?Cg(()=>a(d)):a(d)},[a,u]);return T.useLayoutEffect(()=>o.listen(c),[o,c]),T.createElement(Yb,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nx=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c,viewTransition:d}=e,f=tx(e,tE),{basename:p}=T.useContext(Pr),h,m=!1;if(typeof u=="string"&&aE.test(u)&&(h=u,lE))try{let x=new URL(window.location.href),k=u.startsWith("//")?new URL(x.protocol+u):new URL(u),b=Ns(k.pathname,p);k.origin===x.origin&&b!=null?u=b+k.search+k.hash:m=!0}catch{}let v=jb(u,{relative:i}),g=dE(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:i,viewTransition:d});function y(x){r&&r(x),x.defaultPrevented||g(x)}return T.createElement("a",Va({},f,{href:h||v,onClick:m||s?r:y,ref:n,target:a}))}),uE=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:a,viewTransition:u,children:c}=e,d=tx(e,nE),f=rc(a,{relative:d.relative}),p=fl(),h=T.useContext(Gv),{navigator:m,basename:v}=T.useContext(Pr),g=h!=null&&fE(f)&&u===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,x=p.pathname,k=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;i||(x=x.toLowerCase(),k=k?k.toLowerCase():null,y=y.toLowerCase()),k&&v&&(k=Ns(k,v)||k);const b=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=x===y||!o&&x.startsWith(y)&&x.charAt(b)==="/",O=k!=null&&(k===y||!o&&k.startsWith(y)&&k.charAt(y.length)==="/"),M={isActive:C,isPending:O,isTransitioning:g},A=C?r:void 0,z;typeof s=="function"?z=s(M):z=[s,C?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l(M):l;return T.createElement(nx,Va({},d,{"aria-current":A,className:z,ref:n,style:G,to:a,viewTransition:u}),typeof c=="function"?c(M):c)});var Tf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tf||(Tf={}));var bg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bg||(bg={}));function cE(t){let e=T.useContext(tc);return e||ve(!1),e}function dE(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,a=wp(),u=fl(),c=rc(t,{relative:o});return T.useCallback(d=>{if(eE(d,n)){d.preventDefault();let f=r!==void 0?r:$a(u)===$a(c);a(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,a,c,r,i,n,t,s,o,l])}function fE(t,e){e===void 0&&(e={});let n=T.useContext(iE);n==null&&ve(!1);let{basename:r}=cE(Tf.useViewTransitionState),i=rc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ha(i.pathname,o)!=null||Ha(i.pathname,s)!=null}var hl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xi=typeof window>"u"||"Deno"in globalThis;function Dt(){}function hE(t,e){return typeof t=="function"?t(e):t}function Nf(t){return typeof t=="number"&&t>=0&&t!==1/0}function rx(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ts(t,e){return typeof t=="function"?t(e):t}function Xt(t,e){return typeof t=="function"?t(e):t}function Eg(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Sp(o,e.options))return!1}else if(!Ho(e.queryKey,o))return!1}if(n!=="all"){const a=e.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function Tg(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if($o(e.options.mutationKey)!==$o(s))return!1}else if(!Ho(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Sp(t,e){return((e==null?void 0:e.queryKeyHashFn)||$o)(t)}function $o(t){return JSON.stringify(t,(e,n)=>Mf(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ho(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ho(t[n],e[n])):!1}function ix(t,e){if(t===e)return t;const n=Ng(t)&&Ng(e);if(n||Mf(t)&&Mf(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let a=0;for(let u=0;u<o;u++){const c=n?u:s[u];(!n&&r.includes(c)||n)&&t[c]===void 0&&e[c]===void 0?(l[c]=void 0,a++):(l[c]=ix(t[c],e[c]),l[c]===t[c]&&t[c]!==void 0&&a++)}return i===o&&a===i?t:l}return e}function Of(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Ng(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Mf(t){if(!Og(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Og(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Og(t){return Object.prototype.toString.call(t)==="[object Object]"}function pE(t){return new Promise(e=>{setTimeout(e,t)})}function Af(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ix(t,e):e}function mE(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gE(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var kp=Symbol();function sx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===kp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xr,Zn,ls,S0,yE=(S0=class extends hl{constructor(){super();$(this,Xr);$(this,Zn);$(this,ls);j(this,ls,e=>{if(!xi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,Zn)||this.setEventListener(S(this,ls))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,Zn))==null||e.call(this),j(this,Zn,void 0))}setEventListener(e){var n;j(this,ls,e),(n=S(this,Zn))==null||n.call(this),j(this,Zn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){S(this,Xr)!==e&&(j(this,Xr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof S(this,Xr)=="boolean"?S(this,Xr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xr=new WeakMap,Zn=new WeakMap,ls=new WeakMap,S0),Cp=new yE,as,er,us,k0,vE=(k0=class extends hl{constructor(){super();$(this,as,!0);$(this,er);$(this,us);j(this,us,e=>{if(!xi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,er)||this.setEventListener(S(this,us))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,er))==null||e.call(this),j(this,er,void 0))}setEventListener(e){var n;j(this,us,e),(n=S(this,er))==null||n.call(this),j(this,er,e(this.setOnline.bind(this)))}setOnline(e){S(this,as)!==e&&(j(this,as,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return S(this,as)}},as=new WeakMap,er=new WeakMap,us=new WeakMap,k0),Wa=new vE;function Rf(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function xE(t){return Math.min(1e3*2**t,3e4)}function ox(t){return(t??"online")==="online"?Wa.isOnline():!0}var lx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ed(t){return t instanceof lx}function ax(t){let e=!1,n=0,r=!1,i;const s=Rf(),o=m=>{var v;r||(f(new lx(m)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},a=()=>{e=!1},u=()=>Cp.isFocused()&&(t.networkMode==="always"||Wa.isOnline())&&t.canRun(),c=()=>ox(t.networkMode)&&t.canRun(),d=m=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,m),i==null||i(),s.resolve(m))},f=m=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var v;i=g=>{(r||u())&&m(g)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;i=void 0,r||(m=t.onContinue)==null||m.call(t)}),h=()=>{if(r)return;let m;const v=n===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(d).catch(g=>{var C;if(r)return;const y=t.retry??(xi?0:3),x=t.retryDelay??xE,k=typeof x=="function"?x(n,g):x,b=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(e||!b){f(g);return}n++,(C=t.onFail)==null||C.call(t,n,g),pE(k).then(()=>u()?void 0:p()).then(()=>{e?f(g):h()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:a,canStart:c,start:()=>(c()?h():p().then(h),s)}}function wE(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(a=>{n(a)})})})};return{batch:l=>{let a;e++;try{a=l()}finally{e--,e||o()}return a},batchCalls:l=>(...a)=>{s(()=>{l(...a)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var je=wE(),Zr,C0,ux=(C0=class{constructor(){$(this,Zr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nf(this.gcTime)&&j(this,Zr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xi?1/0:5*60*1e3))}clearGcTimeout(){S(this,Zr)&&(clearTimeout(S(this,Zr)),j(this,Zr,void 0))}},Zr=new WeakMap,C0),cs,ds,Pt,Ve,nl,ei,Qt,En,b0,SE=(b0=class extends ux{constructor(e){super();$(this,Qt);$(this,cs);$(this,ds);$(this,Pt);$(this,Ve);$(this,nl);$(this,ei);j(this,ei,!1),j(this,nl,e.defaultOptions),this.setOptions(e.options),this.observers=[],j(this,Pt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,j(this,cs,kE(this.options)),this.state=e.state??S(this,cs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=S(this,Ve))==null?void 0:e.promise}setOptions(e){this.options={...S(this,nl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Pt).remove(this)}setData(e,n){const r=Af(this.state.data,e,this.options);return Y(this,Qt,En).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Y(this,Qt,En).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=S(this,Ve))==null?void 0:r.promise;return(i=S(this,Ve))==null||i.cancel(e),n?n.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,cs))}isActive(){return this.observers.some(e=>Xt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!rx(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,Ve))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,Ve))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),S(this,Pt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(S(this,Ve)&&(S(this,ei)?S(this,Ve).cancel({revert:!0}):S(this,Ve).cancelRetry()),this.scheduleGc()),S(this,Pt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Y(this,Qt,En).call(this,{type:"invalidate"})}fetch(e,n){var a,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,Ve))return S(this,Ve).continueRetry(),S(this,Ve).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(j(this,ei,!0),r.signal)})},s=()=>{const d=sx(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return i(f),j(this,ei,!1),this.options.persister?this.options.persister(d,f,this):d(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(a=this.options.behavior)==null||a.onFetch(o,this),j(this,ds,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Y(this,Qt,En).call(this,{type:"fetch",meta:(c=o.fetchOptions)==null?void 0:c.meta});const l=d=>{var f,p,h,m;ed(d)&&d.silent||Y(this,Qt,En).call(this,{type:"error",error:d}),ed(d)||((p=(f=S(this,Pt).config).onError)==null||p.call(f,d,this),(m=(h=S(this,Pt).config).onSettled)==null||m.call(h,this.state.data,d,this)),this.scheduleGc()};return j(this,Ve,ax({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,p,h,m;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){l(v);return}(p=(f=S(this,Pt).config).onSuccess)==null||p.call(f,d,this),(m=(h=S(this,Pt).config).onSettled)==null||m.call(h,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,f)=>{Y(this,Qt,En).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{Y(this,Qt,En).call(this,{type:"pause"})},onContinue:()=>{Y(this,Qt,En).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),S(this,Ve).start()}},cs=new WeakMap,ds=new WeakMap,Pt=new WeakMap,Ve=new WeakMap,nl=new WeakMap,ei=new WeakMap,Qt=new WeakSet,En=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...cx(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return ed(i)&&i.revert&&S(this,ds)?{...S(this,ds),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),je.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Pt).notify({query:this,type:"updated",action:e})})},b0);function cx(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ox(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pn,E0,CE=(E0=class extends hl{constructor(e={}){super();$(this,pn);this.config=e,j(this,pn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Sp(i,n);let o=this.get(s);return o||(o=new SE({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){S(this,pn).has(e.queryHash)||(S(this,pn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=S(this,pn).get(e.queryHash);n&&(e.destroy(),n===e&&S(this,pn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){je.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return S(this,pn).get(e)}getAll(){return[...S(this,pn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Eg(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Eg(e,r)):n}notify(e){je.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){je.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){je.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pn=new WeakMap,E0),mn,Ye,ti,gn,Hn,T0,bE=(T0=class extends ux{constructor(e){super();$(this,gn);$(this,mn);$(this,Ye);$(this,ti);this.mutationId=e.mutationId,j(this,Ye,e.mutationCache),j(this,mn,[]),this.state=e.state||EE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){S(this,mn).includes(e)||(S(this,mn).push(e),this.clearGcTimeout(),S(this,Ye).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){j(this,mn,S(this,mn).filter(n=>n!==e)),this.scheduleGc(),S(this,Ye).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){S(this,mn).length||(this.state.status==="pending"?this.scheduleGc():S(this,Ye).remove(this))}continue(){var e;return((e=S(this,ti))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,l,a,u,c,d,f,p,h,m,v,g,y,x,k,b,C,O;j(this,ti,ax({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,A)=>{Y(this,gn,Hn).call(this,{type:"failed",failureCount:M,error:A})},onPause:()=>{Y(this,gn,Hn).call(this,{type:"pause"})},onContinue:()=>{Y(this,gn,Hn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,Ye).canRun(this)}));const n=this.state.status==="pending",r=!S(this,ti).canStart();try{if(!n){Y(this,gn,Hn).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=S(this,Ye).config).onMutate)==null?void 0:s.call(i,e,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));A!==this.state.context&&Y(this,gn,Hn).call(this,{type:"pending",context:A,variables:e,isPaused:r})}const M=await S(this,ti).start();return await((u=(a=S(this,Ye).config).onSuccess)==null?void 0:u.call(a,M,e,this.state.context,this)),await((d=(c=this.options).onSuccess)==null?void 0:d.call(c,M,e,this.state.context)),await((p=(f=S(this,Ye).config).onSettled)==null?void 0:p.call(f,M,null,this.state.variables,this.state.context,this)),await((m=(h=this.options).onSettled)==null?void 0:m.call(h,M,null,e,this.state.context)),Y(this,gn,Hn).call(this,{type:"success",data:M}),M}catch(M){try{throw await((g=(v=S(this,Ye).config).onError)==null?void 0:g.call(v,M,e,this.state.context,this)),await((x=(y=this.options).onError)==null?void 0:x.call(y,M,e,this.state.context)),await((b=(k=S(this,Ye).config).onSettled)==null?void 0:b.call(k,void 0,M,this.state.variables,this.state.context,this)),await((O=(C=this.options).onSettled)==null?void 0:O.call(C,void 0,M,e,this.state.context)),M}finally{Y(this,gn,Hn).call(this,{type:"error",error:M})}}finally{S(this,Ye).runNext(this)}}},mn=new WeakMap,Ye=new WeakMap,ti=new WeakMap,gn=new WeakSet,Hn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),je.batch(()=>{S(this,mn).forEach(r=>{r.onMutationUpdate(e)}),S(this,Ye).notify({mutation:this,type:"updated",action:e})})},T0);function EE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wt,rl,N0,TE=(N0=class extends hl{constructor(e={}){super();$(this,wt);$(this,rl);this.config=e,j(this,wt,new Map),j(this,rl,Date.now())}build(e,n,r){const i=new bE({mutationCache:this,mutationId:++Sl(this,rl)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Bl(e),r=S(this,wt).get(n)??[];r.push(e),S(this,wt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Bl(e);if(S(this,wt).has(n)){const i=(r=S(this,wt).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?S(this,wt).delete(n):S(this,wt).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=S(this,wt).get(Bl(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=S(this,wt).get(Bl(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){je.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...S(this,wt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Tg(n,r))}findAll(e={}){return this.getAll().filter(n=>Tg(e,n))}notify(e){je.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return je.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dt))))}},wt=new WeakMap,rl=new WeakMap,N0);function Bl(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Mg(t){return{onFetch:(e,n)=>{var c,d,f,p,h;const r=e.options,i=(f=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((h=e.state.data)==null?void 0:h.pageParams)||[];let l={pages:[],pageParams:[]},a=0;const u=async()=>{let m=!1;const v=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},g=sx(e.options,e.fetchOptions),y=async(x,k,b)=>{if(m)return Promise.reject();if(k==null&&x.pages.length)return Promise.resolve(x);const C={queryKey:e.queryKey,pageParam:k,direction:b?"backward":"forward",meta:e.options.meta};v(C);const O=await g(C),{maxPages:M}=e.options,A=b?gE:mE;return{pages:A(x.pages,O,M),pageParams:A(x.pageParams,k,M)}};if(i&&s.length){const x=i==="backward",k=x?NE:Ag,b={pages:s,pageParams:o},C=k(r,b);l=await y(b,C,x)}else{const x=t??s.length;do{const k=a===0?o[0]??r.initialPageParam:Ag(r,l);if(a>0&&k==null)break;l=await y(l,k),a++}while(a<x)}return l};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Ag(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function NE(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var me,tr,nr,fs,hs,rr,ps,ms,O0,OE=(O0=class{constructor(t={}){$(this,me);$(this,tr);$(this,nr);$(this,fs);$(this,hs);$(this,rr);$(this,ps);$(this,ms);j(this,me,t.queryCache||new CE),j(this,tr,t.mutationCache||new TE),j(this,nr,t.defaultOptions||{}),j(this,fs,new Map),j(this,hs,new Map),j(this,rr,0)}mount(){Sl(this,rr)._++,S(this,rr)===1&&(j(this,ps,Cp.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,me).onFocus())})),j(this,ms,Wa.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,me).onOnline())})))}unmount(){var t,e;Sl(this,rr)._--,S(this,rr)===0&&((t=S(this,ps))==null||t.call(this),j(this,ps,void 0),(e=S(this,ms))==null||e.call(this),j(this,ms,void 0))}isFetching(t){return S(this,me).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,tr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,me).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=S(this,me).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ts(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return S(this,me).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=S(this,me).get(r.queryHash),s=i==null?void 0:i.state.data,o=hE(e,s);if(o!==void 0)return S(this,me).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return je.batch(()=>S(this,me).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,me).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=S(this,me);je.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=S(this,me),r={type:"active",...t};return je.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=je.batch(()=>S(this,me).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Dt).catch(Dt)}invalidateQueries(t={},e={}){return je.batch(()=>{if(S(this,me).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=je.batch(()=>S(this,me).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Dt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Dt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=S(this,me).build(this,e);return n.isStaleByTime(ts(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dt).catch(Dt)}fetchInfiniteQuery(t){return t.behavior=Mg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dt).catch(Dt)}ensureInfiniteQueryData(t){return t.behavior=Mg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wa.isOnline()?S(this,tr).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,me)}getMutationCache(){return S(this,tr)}getDefaultOptions(){return S(this,nr)}setDefaultOptions(t){j(this,nr,t)}setQueryDefaults(t,e){S(this,fs).set($o(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...S(this,fs).values()];let n={};return e.forEach(r=>{Ho(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){S(this,hs).set($o(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...S(this,hs).values()];let n={};return e.forEach(r=>{Ho(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...S(this,nr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===kp&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,nr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,me).clear(),S(this,tr).clear()}},me=new WeakMap,tr=new WeakMap,nr=new WeakMap,fs=new WeakMap,hs=new WeakMap,rr=new WeakMap,ps=new WeakMap,ms=new WeakMap,O0),ut,X,il,Xe,ni,gs,ir,yn,sl,ys,vs,ri,ii,sr,xs,te,to,Pf,Df,If,Lf,jf,zf,Ff,dx,M0,ME=(M0=class extends hl{constructor(e,n){super();$(this,te);$(this,ut);$(this,X);$(this,il);$(this,Xe);$(this,ni);$(this,gs);$(this,ir);$(this,yn);$(this,sl);$(this,ys);$(this,vs);$(this,ri);$(this,ii);$(this,sr);$(this,xs,new Set);this.options=n,j(this,ut,e),j(this,yn,null),j(this,ir,Rf()),this.options.experimental_prefetchInRender||S(this,ir).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,X).addObserver(this),Rg(S(this,X),this.options)?Y(this,te,to).call(this):this.updateResult(),Y(this,te,Lf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bf(S(this,X),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bf(S(this,X),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Y(this,te,jf).call(this),Y(this,te,zf).call(this),S(this,X).removeObserver(this)}setOptions(e,n){const r=this.options,i=S(this,X);if(this.options=S(this,ut).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xt(this.options.enabled,S(this,X))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Y(this,te,Ff).call(this),S(this,X).setOptions(this.options),r._defaulted&&!Of(this.options,r)&&S(this,ut).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,X),observer:this});const s=this.hasListeners();s&&Pg(S(this,X),i,this.options,r)&&Y(this,te,to).call(this),this.updateResult(n),s&&(S(this,X)!==i||Xt(this.options.enabled,S(this,X))!==Xt(r.enabled,S(this,X))||ts(this.options.staleTime,S(this,X))!==ts(r.staleTime,S(this,X)))&&Y(this,te,Pf).call(this);const o=Y(this,te,Df).call(this);s&&(S(this,X)!==i||Xt(this.options.enabled,S(this,X))!==Xt(r.enabled,S(this,X))||o!==S(this,sr))&&Y(this,te,If).call(this,o)}getOptimisticResult(e){const n=S(this,ut).getQueryCache().build(S(this,ut),e),r=this.createResult(n,e);return RE(this,r)&&(j(this,Xe,r),j(this,gs,this.options),j(this,ni,S(this,X).state)),r}getCurrentResult(){return S(this,Xe)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){S(this,xs).add(e)}getCurrentQuery(){return S(this,X)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=S(this,ut).defaultQueryOptions(e),r=S(this,ut).getQueryCache().build(S(this,ut),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Y(this,te,to).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,Xe)))}createResult(e,n){var M;const r=S(this,X),i=this.options,s=S(this,Xe),o=S(this,ni),l=S(this,gs),u=e!==r?e.state:S(this,il),{state:c}=e;let d={...c},f=!1,p;if(n._optimisticResults){const A=this.hasListeners(),z=!A&&Rg(e,n),G=A&&Pg(e,r,n,i);(z||G)&&(d={...d,...cx(c.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:v}=d;if(n.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&n.select===S(this,sl))p=S(this,ys);else try{j(this,sl,n.select),p=n.select(d.data),p=Af(s==null?void 0:s.data,p,n),j(this,ys,p),j(this,yn,null)}catch(A){j(this,yn,A)}else p=d.data;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let A;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))A=s.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData((M=S(this,vs))==null?void 0:M.state.data,S(this,vs)):n.placeholderData,n.select&&A!==void 0)try{A=n.select(A),j(this,yn,null)}catch(z){j(this,yn,z)}A!==void 0&&(v="success",p=Af(s==null?void 0:s.data,A,n),f=!0)}S(this,yn)&&(h=S(this,yn),p=S(this,ys),m=Date.now(),v="error");const g=d.fetchStatus==="fetching",y=v==="pending",x=v==="error",k=y&&g,b=p!==void 0,O={status:v,fetchStatus:d.fetchStatus,isPending:y,isSuccess:v==="success",isError:x,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:d.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:x&&!b,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&b,isStale:bp(e,n),refetch:this.refetch,promise:S(this,ir)};if(this.options.experimental_prefetchInRender){const A=be=>{O.status==="error"?be.reject(O.error):O.data!==void 0&&be.resolve(O.data)},z=()=>{const be=j(this,ir,O.promise=Rf());A(be)},G=S(this,ir);switch(G.status){case"pending":e.queryHash===r.queryHash&&A(G);break;case"fulfilled":(O.status==="error"||O.data!==G.value)&&z();break;case"rejected":(O.status!=="error"||O.error!==G.reason)&&z();break}}return O}updateResult(e){const n=S(this,Xe),r=this.createResult(S(this,X),this.options);if(j(this,ni,S(this,X).state),j(this,gs,this.options),S(this,ni).data!==void 0&&j(this,vs,S(this,X)),Of(r,n))return;j(this,Xe,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!S(this,xs).size)return!0;const a=new Set(l??S(this,xs));return this.options.throwOnError&&a.add("error"),Object.keys(S(this,Xe)).some(u=>{const c=u;return S(this,Xe)[c]!==n[c]&&a.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Y(this,te,dx).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Y(this,te,Lf).call(this)}},ut=new WeakMap,X=new WeakMap,il=new WeakMap,Xe=new WeakMap,ni=new WeakMap,gs=new WeakMap,ir=new WeakMap,yn=new WeakMap,sl=new WeakMap,ys=new WeakMap,vs=new WeakMap,ri=new WeakMap,ii=new WeakMap,sr=new WeakMap,xs=new WeakMap,te=new WeakSet,to=function(e){Y(this,te,Ff).call(this);let n=S(this,X).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Dt)),n},Pf=function(){Y(this,te,jf).call(this);const e=ts(this.options.staleTime,S(this,X));if(xi||S(this,Xe).isStale||!Nf(e))return;const r=rx(S(this,Xe).dataUpdatedAt,e)+1;j(this,ri,setTimeout(()=>{S(this,Xe).isStale||this.updateResult()},r))},Df=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,X)):this.options.refetchInterval)??!1},If=function(e){Y(this,te,zf).call(this),j(this,sr,e),!(xi||Xt(this.options.enabled,S(this,X))===!1||!Nf(S(this,sr))||S(this,sr)===0)&&j(this,ii,setInterval(()=>{(this.options.refetchIntervalInBackground||Cp.isFocused())&&Y(this,te,to).call(this)},S(this,sr)))},Lf=function(){Y(this,te,Pf).call(this),Y(this,te,If).call(this,Y(this,te,Df).call(this))},jf=function(){S(this,ri)&&(clearTimeout(S(this,ri)),j(this,ri,void 0))},zf=function(){S(this,ii)&&(clearInterval(S(this,ii)),j(this,ii,void 0))},Ff=function(){const e=S(this,ut).getQueryCache().build(S(this,ut),this.options);if(e===S(this,X))return;const n=S(this,X);j(this,X,e),j(this,il,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},dx=function(e){je.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(S(this,Xe))}),S(this,ut).getQueryCache().notify({query:S(this,X),type:"observerResultsUpdated"})})},M0);function AE(t,e){return Xt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Rg(t,e){return AE(t,e)||t.state.data!==void 0&&Bf(t,e,e.refetchOnMount)}function Bf(t,e,n){if(Xt(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&bp(t,e)}return!1}function Pg(t,e,n,r){return(t!==e||Xt(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&bp(t,n)}function bp(t,e){return Xt(e.enabled,t)!==!1&&t.isStaleByTime(ts(e.staleTime,t))}function RE(t,e){return!Of(t.getCurrentResult(),e)}var fx=T.createContext(void 0),PE=t=>{const e=T.useContext(fx);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},DE=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(fx.Provider,{value:t,children:e})),hx=T.createContext(!1),IE=()=>T.useContext(hx);hx.Provider;function LE(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var jE=T.createContext(LE()),zE=()=>T.useContext(jE);function FE(t,e){return typeof t=="function"?t(...e):!!t}function BE(){}var _E=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},$E=t=>{T.useEffect(()=>{t.clearReset()},[t])},HE=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&FE(n,[t.error,r]),UE=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},VE=(t,e)=>t.isLoading&&t.isFetching&&!e,WE=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Dg=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function KE(t,e,n){var c,d,f,p,h;const r=PE(),i=IE(),s=zE(),o=r.defaultQueryOptions(t);(d=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||d.call(c,o),o._optimisticResults=i?"isRestoring":"optimistic",UE(o),_E(o,s),$E(s);const l=!r.getQueryCache().get(o.queryHash),[a]=T.useState(()=>new e(r,o)),u=a.getOptimisticResult(o);if(T.useSyncExternalStore(T.useCallback(m=>{const v=i?()=>{}:a.subscribe(je.batchCalls(m));return a.updateResult(),v},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),T.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),WE(o,u))throw Dg(o,a,s);if(HE({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,u),o.experimental_prefetchInRender&&!xi&&VE(u,i)){const m=l?Dg(o,a,s):(h=r.getQueryCache().get(o.queryHash))==null?void 0:h.promise;m==null||m.catch(BE).finally(()=>{a.updateResult()})}return o.notifyOnChangeProps?u:a.trackResult(u)}function Ep(t,e){return KE(t,ME)}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(t,e)=>{const n=T.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>T.createElement("svg",{ref:c,...qE,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${JE(t)}`,l].join(" "),...u},[...e.map(([d,f])=>T.createElement(d,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=ie("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ie("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=ie("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ie("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=ie("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=ie("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=ie("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=ie("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=ie("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=ie("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ie("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=ie("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ie("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ie("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pT={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Lg=t=>{let e;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(h=>h(e,p))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(pT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,a);return a},mT=t=>t?Lg(t):Lg;var yx={exports:{}},vx={},xx={exports:{}},wx={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=T;function gT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yT=typeof Object.is=="function"?Object.is:gT,vT=Os.useState,xT=Os.useEffect,wT=Os.useLayoutEffect,ST=Os.useDebugValue;function kT(t,e){var n=e(),r=vT({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return wT(function(){i.value=n,i.getSnapshot=e,td(i)&&s({inst:i})},[t,n,e]),xT(function(){return td(i)&&s({inst:i}),t(function(){td(i)&&s({inst:i})})},[t]),ST(n),n}function td(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yT(t,n)}catch{return!0}}function CT(t,e){return e()}var bT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CT:kT;wx.useSyncExternalStore=Os.useSyncExternalStore!==void 0?Os.useSyncExternalStore:bT;xx.exports=wx;var ET=xx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=T,TT=ET;function NT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var OT=typeof Object.is=="function"?Object.is:NT,MT=TT.useSyncExternalStore,AT=ic.useRef,RT=ic.useEffect,PT=ic.useMemo,DT=ic.useDebugValue;vx.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=AT(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=PT(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var h=o.value;if(i(h,p))return d=h}return d=p}if(h=d,OT(c,p))return h;var m=r(p);return i!==void 0&&i(h,m)?h:(c=p,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(e())},f===null?void 0:function(){return a(f())}]},[e,n,r,i]);var l=MT(t,s[0],s[1]);return RT(function(){o.hasValue=!0,o.value=l},[l]),DT(l),l};yx.exports=vx;var IT=yx.exports;const LT=Eh(IT),Sx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:jT}=le,{useSyncExternalStoreWithSelector:zT}=LT;let jg=!1;const FT=t=>t;function BT(t,e=FT,n){(Sx?"production":void 0)!=="production"&&n&&!jg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),jg=!0);const r=zT(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return jT(r),r}const _T=t=>{(Sx?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?mT(t):t,n=(r,i)=>BT(e,r,i);return Object.assign(n,e),n},$T=t=>_T,HT={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function UT(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=a=>a===null?null:JSON.parse(a,void 0),l=(s=n.getItem(i))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Vo=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Vo(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Vo(r)(n)}}}},VT=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,g)=>({...g,...v}),...e},o=!1;const l=new Set,a=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,i);const c=Vo(s.serialize),d=()=>{const v=s.partialize({...r()});let g;const y=c({state:v,version:s.version}).then(x=>u.setItem(s.name,x)).catch(x=>{g=x});if(g)throw g;return y},f=i.setState;i.setState=(v,g)=>{f(v,g),d()};const p=t((...v)=>{n(...v),d()},r,i);let h;const m=()=>{var v;if(!u)return;o=!1,l.forEach(y=>y(r()));const g=((v=s.onRehydrateStorage)==null?void 0:v.call(s,r()))||void 0;return Vo(u.getItem.bind(u))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var x;return h=s.merge(y,(x=r())!=null?x:p),n(h,!0),d()}).then(()=>{g==null||g(h,void 0),o=!0,a.forEach(y=>y(h))}).catch(y=>{g==null||g(void 0,y)})};return i.persist={setOptions:v=>{s={...s,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(a.add(v),()=>{a.delete(v)})},m(),h||p},WT=(t,e)=>(n,r,i)=>{let s={storage:UT(()=>localStorage),partialize:m=>m,version:0,merge:(m,v)=>({...v,...m}),...e},o=!1;const l=new Set,a=new Set;let u=s.storage;if(!u)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const c=()=>{const m=s.partialize({...r()});return u.setItem(s.name,{state:m,version:s.version})},d=i.setState;i.setState=(m,v)=>{d(m,v),c()};const f=t((...m)=>{n(...m),c()},r,i);i.getInitialState=()=>f;let p;const h=()=>{var m,v;if(!u)return;o=!1,l.forEach(y=>{var x;return y((x=r())!=null?x:f)});const g=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(m=r())!=null?m:f))||void 0;return Vo(u.getItem.bind(u))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return[!0,s.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var x;const[k,b]=y;if(p=s.merge(b,(x=r())!=null?x:f),n(p,!0),k)return c()}).then(()=>{g==null||g(p,void 0),p=r(),o=!0,a.forEach(y=>y(p))}).catch(y=>{g==null||g(void 0,y)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(a.add(m),()=>{a.delete(m)})},s.skipHydration||h(),p||f},KT=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((HT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),VT(t,e)):WT(t,e),qT=KT,Wt=$T()(qT(t=>({savedArticles:[],likedArticles:[],publishedArticles:[],settings:{theme:"light",fontSize:"medium",showImages:!0,accentColor:"#3b82f6",isDeveloper:!1,authorId:crypto.randomUUID()},addSavedArticle:e=>t(n=>({savedArticles:[...n.savedArticles,e]})),removeSavedArticle:e=>t(n=>({savedArticles:n.savedArticles.filter(r=>r.id!==e)})),toggleSavedArticle:e=>t(n=>({savedArticles:n.savedArticles.some(r=>r.id===e.id)?n.savedArticles.filter(r=>r.id!==e.id):[...n.savedArticles,e]})),toggleLikedArticle:e=>t(n=>({likedArticles:n.likedArticles.includes(e)?n.likedArticles.filter(r=>r!==e):[...n.likedArticles,e]})),updateSettings:e=>t(n=>({settings:{...n.settings,...e,isDeveloper:e.isDeveloper??!1}})),addHighlight:(e,n)=>t(r=>({savedArticles:r.savedArticles.map(i=>i.id===e?{...i,highlights:[...i.highlights,n]}:i),publishedArticles:r.publishedArticles.map(i=>i.id===e?{...i,highlights:[...i.highlights,n]}:i)})),addNote:(e,n)=>t(r=>({savedArticles:r.savedArticles.map(i=>i.id===e?{...i,notes:[...i.notes,n]}:i),publishedArticles:r.publishedArticles.map(i=>i.id===e?{...i,notes:[...i.notes,n]}:i)})),publishArticle:e=>t(n=>({publishedArticles:[...n.publishedArticles,e]})),updateArticle:e=>t(n=>({publishedArticles:n.publishedArticles.map(r=>r.id===e.id?e:r)})),deleteArticle:e=>t(n=>({publishedArticles:n.publishedArticles.filter(r=>r.id!==e)})),updateAuthor:e=>t(n=>({settings:{...n.settings,authorName:e.name,authorBio:e.bio,authorAvatar:e.avatar}}))}),{name:"news-storage",partialize:t=>({...t,settings:{...t.settings,isDeveloper:!1}})})),JT=()=>{const{settings:t}=Wt(),e=[{to:"/",icon:sT,label:"Dashboard"},{to:"/search",icon:Hf,label:"Search"},{to:"/popular",icon:px,label:"Popular"},{to:"/saved",icon:Uo,label:"Saved"},...t.isDeveloper?[{to:"/developer",icon:XE,label:"Developer"}]:[]];return w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:w.jsx("div",{className:"flex justify-around items-center h-16",children:e.map(({to:n,icon:r,label:i})=>w.jsxs(uE,{to:n,className:({isActive:s})=>`flex flex-col items-center p-2 ${s?"text-blue-600":"text-gray-600"}`,children:[w.jsx(r,{className:"w-6 h-6"}),w.jsx("span",{className:"text-xs mt-1",children:i})]},n))})})},QT=({tag:t})=>w.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${t.color}20`,color:t.color},children:t.name}),sc=({article:t})=>{const{toggleLikedArticle:e,toggleSavedArticle:n,likedArticles:r,savedArticles:i,settings:s}=Wt(),[o,l]=le.useState(!1),a=le.useRef(null),u=r.includes(t.id),c=i.some(m=>m.id===t.id),d=m=>{m.preventDefault(),m.stopPropagation(),e(t.id)},f=m=>{m.preventDefault(),m.stopPropagation(),n(t)},p=async m=>{m.preventDefault(),m.stopPropagation();try{await navigator.share({title:t.title,text:t.description,url:window.location.origin+`/article/${t.id}`})}catch(v){console.error("Error sharing:",v)}},h=m=>{if(m.preventDefault(),m.stopPropagation(),!a.current){a.current=new SpeechSynthesisUtterance(`${t.title}. ${t.description}. ${t.content}`),a.current.rate=.9,a.current.pitch=.8;const g=speechSynthesis.getVoices().find(y=>y.name.includes("Male"));g&&(a.current.voice=g)}o?(speechSynthesis.cancel(),l(!1)):(speechSynthesis.speak(a.current),l(!0),a.current.onend=()=>l(!1))};return w.jsx(nx,{to:`/article/${t.id}`,className:"block",children:w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-4 hover:shadow-lg transition-all duration-200 hover:scale-[1.01]",children:[s.showImages&&t.image&&w.jsx("div",{className:"relative w-full h-48 mb-4 overflow-hidden rounded-lg",children:w.jsx("img",{src:t.image,alt:t.title,className:"absolute inset-0 w-full h-full object-cover hover:scale-105 transition-transform duration-200"})}),w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("h2",{className:"text-xl font-semibold flex-1 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:t.title}),w.jsxs("div",{className:"flex gap-2 ml-4",children:[w.jsx("button",{onClick:d,className:`p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${u?"text-red-500":"text-gray-500 dark:text-gray-400"}`,children:w.jsx(nT,{className:`w-5 h-5 ${u?"fill-current":""} hover:scale-110 transition-transform`})}),w.jsx("button",{onClick:f,className:`p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${c?"text-blue-500":"text-gray-500 dark:text-gray-400"}`,children:w.jsx(Uo,{className:`w-5 h-5 ${c?"fill-current":""} hover:scale-110 transition-transform`})}),w.jsx("button",{onClick:h,className:`p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${o?"text-green-500":"text-gray-500 dark:text-gray-400"}`,children:w.jsx(gx,{className:"w-5 h-5 hover:scale-110 transition-transform"})}),w.jsx("button",{onClick:p,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 transition-colors",children:w.jsx(mx,{className:"w-5 h-5 hover:scale-110 transition-transform"})})]})]}),w.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:t.description}),t.tags.length>0&&w.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map(m=>w.jsx(QT,{tag:m},m.id))}),w.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[t.source.name&&w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"font-medium",children:t.source.name}),w.jsx("span",{children:""})]}),w.jsx("span",{children:new Date(t.publishedAt).toLocaleDateString()})]}),(t.highlights.length>0||t.notes.length>0)&&w.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.highlights.length>0&&w.jsxs("span",{className:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200 px-2 py-1 rounded-full",children:[t.highlights.length," highlights"]}),t.notes.length>0&&w.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full",children:[t.notes.length," notes"]})]})]})]})})};function kx(t,e){return function(){return t.apply(e,arguments)}}const{toString:GT}=Object.prototype,{getPrototypeOf:Tp}=Object,oc=(t=>e=>{const n=GT.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ln=t=>(t=t.toLowerCase(),e=>oc(e)===t),lc=t=>e=>typeof e===t,{isArray:Fs}=Array,Wo=lc("undefined");function YT(t){return t!==null&&!Wo(t)&&t.constructor!==null&&!Wo(t.constructor)&&Et(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Cx=ln("ArrayBuffer");function XT(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Cx(t.buffer),e}const ZT=lc("string"),Et=lc("function"),bx=lc("number"),ac=t=>t!==null&&typeof t=="object",eN=t=>t===!0||t===!1,ua=t=>{if(oc(t)!=="object")return!1;const e=Tp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tN=ln("Date"),nN=ln("File"),rN=ln("Blob"),iN=ln("FileList"),sN=t=>ac(t)&&Et(t.pipe),oN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Et(t.append)&&((e=oc(t))==="formdata"||e==="object"&&Et(t.toString)&&t.toString()==="[object FormData]"))},lN=ln("URLSearchParams"),[aN,uN,cN,dN]=["ReadableStream","Request","Response","Headers"].map(ln),fN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Fs(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function Ex(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tx=t=>!Wo(t)&&t!==qr;function Uf(){const{caseless:t}=Tx(this)&&this||{},e={},n=(r,i)=>{const s=t&&Ex(e,i)||i;ua(e[s])&&ua(r)?e[s]=Uf(e[s],r):ua(r)?e[s]=Uf({},r):Fs(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&pl(arguments[r],n);return e}const hN=(t,e,n,{allOwnKeys:r}={})=>(pl(e,(i,s)=>{n&&Et(i)?t[s]=kx(i,n):t[s]=i},{allOwnKeys:r}),t),pN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mN=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},gN=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Tp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},vN=t=>{if(!t)return null;if(Fs(t))return t;let e=t.length;if(!bx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},xN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Tp(Uint8Array)),wN=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},SN=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},kN=ln("HTMLFormElement"),CN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),zg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),bN=ln("RegExp"),Nx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};pl(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},EN=t=>{Nx(t,(e,n)=>{if(Et(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Et(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TN=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Fs(t)?r(t):r(String(t).split(e)),n},NN=()=>{},ON=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,nd="abcdefghijklmnopqrstuvwxyz",Fg="0123456789",Ox={DIGIT:Fg,ALPHA:nd,ALPHA_DIGIT:nd+nd.toUpperCase()+Fg},MN=(t=16,e=Ox.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function AN(t){return!!(t&&Et(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const RN=t=>{const e=new Array(10),n=(r,i)=>{if(ac(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Fs(r)?[]:{};return pl(r,(o,l)=>{const a=n(o,i+1);!Wo(a)&&(s[l]=a)}),e[i]=void 0,s}}return r};return n(t,0)},PN=ln("AsyncFunction"),DN=t=>t&&(ac(t)||Et(t))&&Et(t.then)&&Et(t.catch),Mx=((t,e)=>t?setImmediate:e?((n,r)=>(qr.addEventListener("message",({source:i,data:s})=>{i===qr&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),qr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Et(qr.postMessage)),IN=typeof queueMicrotask<"u"?queueMicrotask.bind(qr):typeof process<"u"&&process.nextTick||Mx,E={isArray:Fs,isArrayBuffer:Cx,isBuffer:YT,isFormData:oN,isArrayBufferView:XT,isString:ZT,isNumber:bx,isBoolean:eN,isObject:ac,isPlainObject:ua,isReadableStream:aN,isRequest:uN,isResponse:cN,isHeaders:dN,isUndefined:Wo,isDate:tN,isFile:nN,isBlob:rN,isRegExp:bN,isFunction:Et,isStream:sN,isURLSearchParams:lN,isTypedArray:xN,isFileList:iN,forEach:pl,merge:Uf,extend:hN,trim:fN,stripBOM:pN,inherits:mN,toFlatObject:gN,kindOf:oc,kindOfTest:ln,endsWith:yN,toArray:vN,forEachEntry:wN,matchAll:SN,isHTMLForm:kN,hasOwnProperty:zg,hasOwnProp:zg,reduceDescriptors:Nx,freezeMethods:EN,toObjectSet:TN,toCamelCase:CN,noop:NN,toFiniteNumber:ON,findKey:Ex,global:qr,isContextDefined:Tx,ALPHABET:Ox,generateString:MN,isSpecCompliantForm:AN,toJSONObject:RN,isAsyncFn:PN,isThenable:DN,setImmediate:Mx,asap:IN};function V(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}E.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Ax=V.prototype,Rx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Rx[t]={value:t}});Object.defineProperties(V,Rx);Object.defineProperty(Ax,"isAxiosError",{value:!0});V.from=(t,e,n,r,i,s)=>{const o=Object.create(Ax);return E.toFlatObject(t,o,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),V.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const LN=null;function Vf(t){return E.isPlainObject(t)||E.isArray(t)}function Px(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function Bg(t,e,n){return t?t.concat(e).map(function(i,s){return i=Px(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function jN(t){return E.isArray(t)&&!t.some(Vf)}const zN=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function uc(t,e,n){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!E.isUndefined(v[m])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(i))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(E.isDate(h))return h.toISOString();if(!a&&E.isBlob(h))throw new V("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(h)||E.isTypedArray(h)?a&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function c(h,m,v){let g=h;if(h&&!v&&typeof h=="object"){if(E.endsWith(m,"{}"))m=r?m:m.slice(0,-2),h=JSON.stringify(h);else if(E.isArray(h)&&jN(h)||(E.isFileList(h)||E.endsWith(m,"[]"))&&(g=E.toArray(h)))return m=Px(m),g.forEach(function(x,k){!(E.isUndefined(x)||x===null)&&e.append(o===!0?Bg([m],k,s):o===null?m:m+"[]",u(x))}),!1}return Vf(h)?!0:(e.append(Bg(v,m,s),u(h)),!1)}const d=[],f=Object.assign(zN,{defaultVisitor:c,convertValue:u,isVisitable:Vf});function p(h,m){if(!E.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(h),E.forEach(h,function(g,y){(!(E.isUndefined(g)||g===null)&&i.call(e,g,E.isString(y)?y.trim():y,m,f))===!0&&p(g,m?m.concat(y):[y])}),d.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return p(t),e}function _g(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Np(t,e){this._pairs=[],t&&uc(t,this,e)}const Dx=Np.prototype;Dx.append=function(e,n){this._pairs.push([e,n])};Dx.toString=function(e){const n=e?function(r){return e.call(this,r,_g)}:_g;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function FN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ix(t,e,n){if(!e)return t;const r=n&&n.encode||FN,i=n&&n.serialize;let s;if(i?s=i(e,n):s=E.isURLSearchParams(e)?e.toString():new Np(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class $g{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Lx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BN=typeof URLSearchParams<"u"?URLSearchParams:Np,_N=typeof FormData<"u"?FormData:null,$N=typeof Blob<"u"?Blob:null,HN={isBrowser:!0,classes:{URLSearchParams:BN,FormData:_N,Blob:$N},protocols:["http","https","file","blob","url","data"]},Op=typeof window<"u"&&typeof document<"u",Wf=typeof navigator=="object"&&navigator||void 0,UN=Op&&(!Wf||["ReactNative","NativeScript","NS"].indexOf(Wf.product)<0),VN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WN=Op&&window.location.href||"http://localhost",KN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Op,hasStandardBrowserEnv:UN,hasStandardBrowserWebWorkerEnv:VN,navigator:Wf,origin:WN},Symbol.toStringTag,{value:"Module"})),gt={...KN,...HN};function qN(t,e){return uc(t,new gt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return gt.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function JN(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function QN(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function jx(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=s>=n.length;return o=!o&&E.isArray(i)?i.length:o,a?(E.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!E.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&E.isArray(i[o])&&(i[o]=QN(i[o])),!l)}if(E.isFormData(t)&&E.isFunction(t.entries)){const n={};return E.forEachEntry(t,(r,i)=>{e(JN(r),i,n,0)}),n}return null}function GN(t,e,n){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const ml={transitional:Lx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=E.isObject(e);if(s&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return i?JSON.stringify(jx(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e)||E.isReadableStream(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return qN(e,this.formSerializer).toString();if((l=E.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return uc(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),GN(e)):e}],transformResponse:[function(e){const n=this.transitional||ml.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(E.isResponse(e)||E.isReadableStream(e))return e;if(e&&E.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?V.from(l,V.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gt.classes.FormData,Blob:gt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{ml.headers[t]={}});const YN=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XN=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&YN[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Hg=Symbol("internals");function Qs(t){return t&&String(t).trim().toLowerCase()}function ca(t){return t===!1||t==null?t:E.isArray(t)?t.map(ca):String(t)}function ZN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const eO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rd(t,e,n,r,i){if(E.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!E.isString(e)){if(E.isString(r))return e.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(e)}}function tO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function nO(t,e){const n=E.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class yt{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,a,u){const c=Qs(a);if(!c)throw new Error("header name must be a non-empty string");const d=E.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||a]=ca(l))}const o=(l,a)=>E.forEach(l,(u,c)=>s(u,c,a));if(E.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(E.isString(e)&&(e=e.trim())&&!eO(e))o(XN(e),n);else if(E.isHeaders(e))for(const[l,a]of e.entries())s(a,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Qs(e),e){const r=E.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return ZN(i);if(E.isFunction(n))return n.call(this,i,r);if(E.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qs(e),e){const r=E.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||rd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Qs(o),o){const l=E.findKey(r,o);l&&(!n||rd(r,r[l],l,n))&&(delete r[l],i=!0)}}return E.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||rd(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return E.forEach(this,(i,s)=>{const o=E.findKey(r,s);if(o){n[o]=ca(i),delete n[s];return}const l=e?tO(s):String(s).trim();l!==s&&delete n[s],n[l]=ca(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return E.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Hg]=this[Hg]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Qs(o);r[l]||(nO(i,o),r[l]=!0)}return E.isArray(e)?e.forEach(s):s(e),this}}yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(yt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});E.freezeMethods(yt);function id(t,e){const n=this||ml,r=e||n,i=yt.from(r.headers);let s=r.data;return E.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function zx(t){return!!(t&&t.__CANCEL__)}function Bs(t,e,n){V.call(this,t??"canceled",V.ERR_CANCELED,e,n),this.name="CanceledError"}E.inherits(Bs,V,{__CANCEL__:!0});function Fx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function iO(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),c=r[s];o||(o=u),n[i]=a,r[i]=u;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function sO(t,e){let n=0,r=1e3/e,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const Ka=(t,e,n=3)=>{let r=0;const i=iO(50,250);return sO(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,a=o-r,u=i(a),c=o<=l;r=o;const d={loaded:o,total:l,progress:l?o/l:void 0,bytes:a,rate:u||void 0,estimated:u&&l&&c?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(d)},n)},Ug=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Vg=t=>(...e)=>E.asap(()=>t(...e)),oO=gt.hasStandardBrowserEnv?function(){const e=gt.navigator&&/(msie|trident)/i.test(gt.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=E.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),lO=gt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];E.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),E.isString(r)&&o.push("path="+r),E.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Bx(t,e){return t&&!aO(e)?uO(t,e):e}const Wg=t=>t instanceof yt?{...t}:t;function wi(t,e){e=e||{};const n={};function r(u,c,d){return E.isPlainObject(u)&&E.isPlainObject(c)?E.merge.call({caseless:d},u,c):E.isPlainObject(c)?E.merge({},c):E.isArray(c)?c.slice():c}function i(u,c,d){if(E.isUndefined(c)){if(!E.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!E.isUndefined(c))return r(void 0,c)}function o(u,c){if(E.isUndefined(c)){if(!E.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function l(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const a={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,c)=>i(Wg(u),Wg(c),!0)};return E.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=a[c]||i,f=d(t[c],e[c],c);E.isUndefined(f)&&d!==l||(n[c]=f)}),n}const _x=t=>{const e=wi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=yt.from(o),e.url=Ix(Bx(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let a;if(E.isFormData(n)){if(gt.hasStandardBrowserEnv||gt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((a=o.getContentType())!==!1){const[u,...c]=a?a.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(gt.hasStandardBrowserEnv&&(r&&E.isFunction(r)&&(r=r(e)),r||r!==!1&&oO(e.url))){const u=i&&s&&lO.read(s);u&&o.set(i,u)}return e},cO=typeof XMLHttpRequest<"u",dO=cO&&function(t){return new Promise(function(n,r){const i=_x(t);let s=i.data;const o=yt.from(i.headers).normalize();let{responseType:l,onUploadProgress:a,onDownloadProgress:u}=i,c,d,f,p,h;function m(){p&&p(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function g(){if(!v)return;const x=yt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:t,request:v};Fx(function(O){n(O),m()},function(O){r(O),m()},b),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(r(new V("Request aborted",V.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new V("Network Error",V.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const b=i.transitional||Lx;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new V(k,b.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,t,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&E.forEach(o.toJSON(),function(k,b){v.setRequestHeader(b,k)}),E.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),l&&l!=="json"&&(v.responseType=i.responseType),u&&([f,h]=Ka(u,!0),v.addEventListener("progress",f)),a&&v.upload&&([d,p]=Ka(a),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=x=>{v&&(r(!x||x.type?new Bs(null,t,v):x),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const y=rO(i.url);if(y&&gt.protocols.indexOf(y)===-1){r(new V("Unsupported protocol "+y+":",V.ERR_BAD_REQUEST,t));return}v.send(s||null)})},fO=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const c=u instanceof Error?u:this.reason;r.abort(c instanceof V?c:new Bs(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new V(`timeout ${e} of ms exceeded`,V.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:a}=r;return a.unsubscribe=()=>E.asap(l),a}},hO=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},pO=async function*(t,e){for await(const n of mO(t))yield*hO(n,e)},mO=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Kg=(t,e,n,r)=>{const i=pO(t,e);let s=0,o,l=a=>{o||(o=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:u,value:c}=await i.next();if(u){l(),a.close();return}let d=c.byteLength;if(n){let f=s+=d;n(f)}a.enqueue(new Uint8Array(c))}catch(u){throw l(u),u}},cancel(a){return l(a),i.return()}},{highWaterMark:2})},cc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$x=cc&&typeof ReadableStream=="function",gO=cc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Hx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},yO=$x&&Hx(()=>{let t=!1;const e=new Request(gt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),qg=64*1024,Kf=$x&&Hx(()=>E.isReadableStream(new Response("").body)),qa={stream:Kf&&(t=>t.body)};cc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qa[e]&&(qa[e]=E.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new V(`Response type '${e}' is not supported`,V.ERR_NOT_SUPPORT,r)})})})(new Response);const vO=async t=>{if(t==null)return 0;if(E.isBlob(t))return t.size;if(E.isSpecCompliantForm(t))return(await new Request(gt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(E.isArrayBufferView(t)||E.isArrayBuffer(t))return t.byteLength;if(E.isURLSearchParams(t)&&(t=t+""),E.isString(t))return(await gO(t)).byteLength},xO=async(t,e)=>{const n=E.toFiniteNumber(t.getContentLength());return n??vO(e)},wO=cc&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:a,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=_x(t);u=u?(u+"").toLowerCase():"text";let p=fO([i,s&&s.toAbortSignal()],o),h;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(a&&yO&&n!=="get"&&n!=="head"&&(v=await xO(c,r))!==0){let b=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(E.isFormData(r)&&(C=b.headers.get("content-type"))&&c.setContentType(C),b.body){const[O,M]=Ug(v,Ka(Vg(a)));r=Kg(b.body,qg,O,M)}}E.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;h=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:g?d:void 0});let y=await fetch(h);const x=Kf&&(u==="stream"||u==="response");if(Kf&&(l||x&&m)){const b={};["status","statusText","headers"].forEach(A=>{b[A]=y[A]});const C=E.toFiniteNumber(y.headers.get("content-length")),[O,M]=l&&Ug(C,Ka(Vg(l),!0))||[];y=new Response(Kg(y.body,qg,O,()=>{M&&M(),m&&m()}),b)}u=u||"text";let k=await qa[E.findKey(qa,u)||"text"](y,t);return!x&&m&&m(),await new Promise((b,C)=>{Fx(b,C,{data:k,headers:yt.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:h})})}catch(g){throw m&&m(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,t,h),{cause:g.cause||g}):V.from(g,g&&g.code,t,h)}}),qf={http:LN,xhr:dO,fetch:wO};E.forEach(qf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Jg=t=>`- ${t}`,SO=t=>E.isFunction(t)||t===null||t===!1,Ux={getAdapter:t=>{t=E.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!SO(n)&&(r=qf[(o=String(n)).toLowerCase()],r===void 0))throw new V(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Jg).join(`
`):" "+Jg(s[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:qf};function sd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bs(null,t)}function Qg(t){return sd(t),t.headers=yt.from(t.headers),t.data=id.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ux.getAdapter(t.adapter||ml.adapter)(t).then(function(r){return sd(t),r.data=id.call(t,t.transformResponse,r),r.headers=yt.from(r.headers),r},function(r){return zx(r)||(sd(t),r&&r.response&&(r.response.data=id.call(t,t.transformResponse,r.response),r.response.headers=yt.from(r.response.headers))),Promise.reject(r)})}const Vx="1.7.7",Mp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Mp[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Gg={};Mp.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Vx+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new V(i(o," has been removed"+(n?" in "+n:"")),V.ERR_DEPRECATED);return n&&!Gg[o]&&(Gg[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function kO(t,e,n){if(typeof t!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],a=l===void 0||o(l,s,t);if(a!==!0)throw new V("option "+s+" must be "+a,V.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new V("Unknown option "+s,V.ERR_BAD_OPTION)}}const Jf={assertOptions:kO,validators:Mp},_n=Jf.validators;class li{constructor(e){this.defaults=e,this.interceptors={request:new $g,response:new $g}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=wi(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Jf.assertOptions(r,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),i!=null&&(E.isFunction(i)?n.paramsSerializer={serialize:i}:Jf.assertOptions(i,{encode:_n.function,serialize:_n.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&E.merge(s.common,s[n.method]);s&&E.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),n.headers=yt.concat(o,s);const l=[];let a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(a=a&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,d=0,f;if(!a){const h=[Qg.bind(this),void 0];for(h.unshift.apply(h,l),h.push.apply(h,u),f=h.length,c=Promise.resolve(n);d<f;)c=c.then(h[d++],h[d++]);return c}f=l.length;let p=n;for(d=0;d<f;){const h=l[d++],m=l[d++];try{p=h(p)}catch(v){m.call(this,v);break}}try{c=Qg.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=wi(this.defaults,e);const n=Bx(e.baseURL,e.url);return Ix(n,e.params,e.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(e){li.prototype[e]=function(n,r){return this.request(wi(r||{},{method:e,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(wi(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}li.prototype[e]=n(),li.prototype[e+"Form"]=n(!0)});class Ap{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Bs(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Ap(function(i){e=i}),cancel:e}}}function CO(t){return function(n){return t.apply(null,n)}}function bO(t){return E.isObject(t)&&t.isAxiosError===!0}const Qf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qf).forEach(([t,e])=>{Qf[e]=t});function Wx(t){const e=new li(t),n=kx(li.prototype.request,e);return E.extend(n,li.prototype,e,{allOwnKeys:!0}),E.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Wx(wi(t,i))},n}const Ce=Wx(ml);Ce.Axios=li;Ce.CanceledError=Bs;Ce.CancelToken=Ap;Ce.isCancel=zx;Ce.VERSION=Vx;Ce.toFormData=uc;Ce.AxiosError=V;Ce.Cancel=Ce.CanceledError;Ce.all=function(e){return Promise.all(e)};Ce.spread=CO;Ce.isAxiosError=bO;Ce.mergeConfig=wi;Ce.AxiosHeaders=yt;Ce.formToJSON=t=>jx(E.isHTMLForm(t)?new FormData(t):t);Ce.getAdapter=Ux.getAdapter;Ce.HttpStatusCode=Qf;Ce.default=Ce;const EO="YOUR_NEWS_API_KEY",TO="https://newsapi.org/v2",Rp=Ce.create({baseURL:TO,headers:{"X-Api-Key":EO}}),NO=async()=>{const e=Wt.getState().publishedArticles,r=(await Rp.get("/top-headlines?country=us")).data.articles.map(Pp);return[...e,...r].sort((i,s)=>new Date(s.publishedAt).getTime()-new Date(i.publishedAt).getTime())},OO=async t=>{const r=Wt.getState().publishedArticles.filter(o=>{var l;return o.title.toLowerCase().includes(t.toLowerCase())||o.content.toLowerCase().includes(t.toLowerCase())||((l=o.overview)==null?void 0:l.toLowerCase().includes(t.toLowerCase()))}),s=(await Rp.get(`/everything?q=${t}`)).data.articles.map(Pp);return[...r,...s]},MO=async()=>{const n=Wt.getState().publishedArticles.sort((s,o)=>new Date(o.publishedAt).getTime()-new Date(s.publishedAt).getTime()).slice(0,5),i=(await Rp.get("/top-headlines?country=us&category=general")).data.articles.map(Pp);return[...n,...i]},Pp=t=>({id:t.url,title:t.title,description:t.description,content:t.content,url:t.url,image:t.urlToImage,publishedAt:t.publishedAt,source:{name:t.source.name,url:t.url},tags:[],liked:!1,saved:!1,read:!1,highlights:[],notes:[]}),AO=({onClose:t})=>{const{settings:e,updateSettings:n}=Wt(),[r,i]=T.useState(""),[s,o]=T.useState(""),l=()=>{r==="llovera.studios2024"?(n({isDeveloper:!0}),o("")):o("Incorrect password")};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-full",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),w.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100",children:w.jsx(hT,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme"}),w.jsxs("select",{value:e.theme,onChange:a=>n({theme:a.target.value}),className:"w-full rounded-md border border-gray-300 p-2",children:[w.jsx("option",{value:"light",children:"Light"}),w.jsx("option",{value:"dark",children:"Dark"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Size"}),w.jsxs("select",{value:e.fontSize,onChange:a=>n({fontSize:a.target.value}),className:"w-full rounded-md border border-gray-300 p-2",children:[w.jsx("option",{value:"small",children:"Small"}),w.jsx("option",{value:"medium",children:"Medium"}),w.jsx("option",{value:"large",children:"Large"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accent Color"}),w.jsx("input",{type:"color",value:e.accentColor,onChange:a=>n({accentColor:a.target.value}),className:"w-full h-10 rounded-md border border-gray-300 p-1"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Show Images"}),w.jsx("input",{type:"checkbox",checked:e.showImages,onChange:a=>n({showImages:a.target.checked}),className:"rounded border-gray-300"})]}),!e.isDeveloper&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Developer Access"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"password",value:r,onChange:a=>i(a.target.value),placeholder:"Enter password",className:"flex-1 rounded-md border border-gray-300 p-2"}),w.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Access"})]}),s&&w.jsx("p",{className:"text-red-500 text-sm mt-1",children:s})]})]})]})})},RO=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[i,s]=T.useState("best"),[o,l]=T.useState([]),{publishedArticles:a}=Wt(),{data:u,isLoading:c}=Ep({queryKey:["topNews"],queryFn:NO}),d=le.useMemo(()=>{const p=new Map;return a.forEach(h=>{h.tags.forEach(m=>{p.set(m.id,m)})}),Array.from(p.values())},[a]),f=le.useMemo(()=>{if(!u)return a;let p=[...a,...u];switch(o.length>0&&(p=p.filter(h=>h.tags.some(m=>o.includes(m.id)))),i){case"recent":return p.sort((h,m)=>new Date(m.publishedAt).getTime()-new Date(h.publishedAt).getTime());case"date":return p.sort((h,m)=>new Date(h.publishedAt).getTime()-new Date(m.publishedAt).getTime());case"best":default:return p.sort((h,m)=>{const v=h.tags.some(y=>o.includes(y.id))?1:0,g=m.tags.some(y=>o.includes(y.id))?1:0;return v!==g?g-v:new Date(m.publishedAt).getTime()-new Date(h.publishedAt).getTime()})}},[u,a,i,o]);return w.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>r(!n),className:"p-2 rounded-full hover:bg-gray-200 relative",children:[w.jsx(ZE,{className:"w-6 h-6"}),o.length>0&&w.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:o.length})]}),w.jsx("button",{onClick:()=>e(!0),className:"p-2 rounded-full hover:bg-gray-200",children:w.jsx(uT,{className:"w-6 h-6"})})]})]}),n&&w.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[w.jsxs("div",{className:"mb-4",children:[w.jsx("h3",{className:"font-medium mb-2",children:"Sort By"}),w.jsx("div",{className:"flex gap-2",children:[{value:"best",label:"Best Match"},{value:"recent",label:"Most Recent"},{value:"date",label:"Oldest First"}].map(p=>w.jsx("button",{onClick:()=>s(p.value),className:`px-3 py-1 rounded-full text-sm ${i===p.value?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:p.label},p.value))})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium mb-2",children:"Filter by Tags"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(p=>w.jsx("button",{onClick:()=>l(h=>h.includes(p.id)?h.filter(m=>m!==p.id):[...h,p.id]),className:`px-3 py-1 rounded-full text-sm ${o.includes(p.id)?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:p.name},p.id))})]})]}),c?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):w.jsx("div",{className:"space-y-4",children:f.map(p=>w.jsx(sc,{article:p},p.id))}),t&&w.jsx(AO,{onClose:()=>e(!1)})]})},PO=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),{publishedArticles:i}=Wt(),{data:s,isLoading:o}=Ep({queryKey:["search",n],queryFn:()=>OO(n),enabled:n.length>0}),l=i.filter(u=>{var c;return u.title.toLowerCase().includes(n.toLowerCase())||u.content.toLowerCase().includes(n.toLowerCase())||((c=u.overview)==null?void 0:c.toLowerCase().includes(n.toLowerCase()))}),a=le.useMemo(()=>{if(!s)return l;const u=[...l,...s];return Array.from(new Map(u.map(c=>[c.id,c])).values())},[s,l]);return le.useEffect(()=>{const u=setTimeout(()=>{r(t)},500);return()=>clearTimeout(u)},[t]),w.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[w.jsx("div",{className:"sticky top-0 bg-gray-100 pt-4 pb-2 z-10",children:w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),placeholder:"Search news...",className:"w-full p-3 pl-10 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),w.jsx(Hf,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"})]})}),t.length>0?o?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):w.jsx("div",{className:"space-y-4 mt-4",children:a.map(u=>w.jsx(sc,{article:u},u.id))}):w.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[w.jsx(Hf,{className:"w-12 h-12 mb-2"}),w.jsx("p",{children:"Enter a search term to find news"})]})]})},DO=()=>{const{data:t,isLoading:e}=Ep({queryKey:["popularNews"],queryFn:MO});return w.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[w.jsx(px,{className:"w-6 h-6 text-orange-500"}),w.jsx("h1",{className:"text-2xl font-bold",children:"Popular News"})]}),e?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):w.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(n=>w.jsx(sc,{article:n},n.id))})]})},IO=()=>{const{savedArticles:t}=Wt();return w.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[w.jsx(Uo,{className:"w-6 h-6 text-blue-500"}),w.jsx("h1",{className:"text-2xl font-bold",children:"Saved Articles"})]}),t.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[w.jsx(Uo,{className:"w-12 h-12 mb-2"}),w.jsx("p",{children:"No saved articles yet"})]}):w.jsx("div",{className:"space-y-4",children:t.map(e=>w.jsx(sc,{article:e},e.id))})]})},LO=t=>{const e=document.createElement("div");e.innerHTML=t,e.querySelectorAll("style, script, noscript, iframe, code, pre").forEach(s=>s.remove());const r=s=>{var l;if(s instanceof HTMLElement){const a=window.getComputedStyle(s);if(a.display==="none"||a.visibility==="hidden")return""}if(s.nodeType===Node.TEXT_NODE)return((l=s.textContent)==null?void 0:l.trim())||"";if(s.tagName==="CODE"||s.tagName==="PRE"||s.hasAttribute("aria-hidden"))return"";let o="";switch(s.childNodes.forEach(a=>{o+=r(a)+" "}),s.tagName){case"P":o+="... ";break;case"DIV":o+=". ";break;case"H1":o+=".... ";break;case"H2":case"H3":o+="... ";break;case"H4":case"H5":case"H6":o+=".. ";break;case"LI":o+=", ";break;case"BLOCKQUOTE":o=`... ${o} ... `;break}return o};return r(e).replace(/\s+/g," ").replace(/\n+/g,"... ").replace(/([.!?])\s+/g,"$1... ").replace(/([,;])\s+/g,"$1 ").replace(/\.\.\. \.\.\. /g,"... ").replace(/,\s*\./g,".").replace(/\s+/g," ").trim()},jO=()=>{const{id:t}=Fb(),e=wp(),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,l]=T.useState(!1),[a,u]=T.useState(!1),[c,d]=T.useState(!0),{savedArticles:f,publishedArticles:p,addHighlight:h,addNote:m,toggleSavedArticle:v,settings:g}=Wt(),y=le.useRef(null),[x,k]=T.useState(!1),b=le.useRef(null),C=[...f,...p].find(ee=>ee.id===t),O=f.some(ee=>ee.id===t),M=C&&(C.highlights.length>0||C.notes.length>0);if(T.useEffect(()=>{const ee=()=>{window.speechSynthesis.getVoices(),k(!0)};return window.speechSynthesis.getVoices().length===0?window.speechSynthesis.addEventListener("voiceschanged",ee):k(!0),()=>{window.speechSynthesis.removeEventListener("voiceschanged",ee)}},[]),T.useEffect(()=>(document.documentElement.style.fontSize={small:"14px",medium:"16px",large:"18px"}[g.fontSize],()=>{o&&window.speechSynthesis.cancel()}),[g.fontSize,o]),!C)return w.jsx("div",{className:"max-w-2xl mx-auto p-4",children:w.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[w.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:w.jsx(_f,{className:"w-6 h-6"})}),w.jsx("h1",{className:"text-2xl font-bold dark:text-white",children:"Article not found"})]})});const A=()=>{n&&(h(C.id,n),r(""))},z=()=>{i.trim()&&(m(C.id,i.trim()),s(""),u(!1))},G=()=>{if(!x||!b.current)return;if(o){window.speechSynthesis.cancel(),l(!1);return}const ee=C.title,ot=C.description,lt=LO(b.current.innerHTML),at=`${ee}.... ${ot}... ${lt}`,N=new SpeechSynthesisUtterance(at);N.rate=.85,N.pitch=.95,N.volume=1;const B=window.speechSynthesis.getVoices(),U=B.find(q=>q.name.toLowerCase().includes("premium")||q.name.toLowerCase().includes("enhanced")||q.name.toLowerCase().includes("neural")||q.name.toLowerCase().includes("daniel")||q.name.toLowerCase().includes("google")&&q.name.toLowerCase().includes("wavenet")||q.name.toLowerCase().includes("english")&&q.name.toLowerCase().includes("us"))||B.find(q=>q.name.toLowerCase().includes("male")||q.name.toLowerCase().includes("english")&&q.name.toLowerCase().includes("us"))||B[0];U&&(N.voice=U),N.onboundary=q=>{if(q.name==="word"){const pe=q.target.text.substr(q.charIndex,q.charLength);(pe.endsWith(".")||pe.endsWith("!")||pe.endsWith("?"))&&(N.rate=.75,setTimeout(()=>{N.rate=.85},100))}},N.onend=()=>l(!1),N.onerror=()=>l(!1),window.speechSynthesis.speak(N),l(!0),y.current=N},be=async()=>{const ee={title:C.title,text:C.description,url:window.location.href};try{await navigator.clipboard.writeText(`${ee.title}

${ee.text}

${ee.url}`),alert("Link copied to clipboard!")}catch{try{navigator.share?await navigator.share(ee):alert("Unable to share. Link could not be copied to clipboard.")}catch(lt){console.error("Error sharing:",lt),alert("Unable to share. Please copy the URL manually.")}}},xt=()=>{d(!c)};return w.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[w.jsx("div",{className:`fixed left-0 top-0 h-full bg-white dark:bg-gray-800 shadow-lg transition-all duration-300 ease-in-out transform ${c?"translate-x-0":"-translate-x-full"} ${M?"w-80":"w-0"} z-20`,children:w.jsxs("div",{className:"h-full overflow-y-auto p-4",children:[C.highlights.length>0&&w.jsxs(w.Fragment,{children:[w.jsxs("h3",{className:"font-semibold mb-4 dark:text-white flex items-center gap-2",children:[w.jsx($f,{className:"w-4 h-4"}),"Highlights"]}),C.highlights.map((ee,ot)=>w.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 p-2 rounded mb-2 dark:text-yellow-100 hover:bg-yellow-100 dark:hover:bg-yellow-900/50 transition-colors",children:['"',ee,'"']},ot))]}),C.notes.length>0&&w.jsxs(w.Fragment,{children:[w.jsxs("h3",{className:"font-semibold mt-6 mb-4 dark:text-white flex items-center gap-2",children:[w.jsx(Ig,{className:"w-4 h-4"}),"Notes"]}),C.notes.map((ee,ot)=>w.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-2 rounded mb-2 dark:text-blue-100 hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:ee},ot))]})]})}),w.jsx("div",{className:`flex-1 overflow-y-auto p-4 transition-all duration-300 ${c&&M?"ml-80":"ml-0"}`,children:w.jsxs("div",{className:"max-w-2xl mx-auto",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[w.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:w.jsx(_f,{className:"w-6 h-6 dark:text-white"})}),w.jsx("div",{className:"flex-1",children:w.jsx("h1",{className:"text-2xl font-bold dark:text-white",children:"Article"})}),M&&w.jsx("button",{onClick:xt,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",title:c?"Hide annotations":"Show annotations",children:c?w.jsx(GE,{className:"w-6 h-6"}):w.jsx(YE,{className:"w-6 h-6"})}),w.jsx("button",{onClick:()=>v(C),className:`p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 ${O?"text-blue-500":"text-gray-500 dark:text-gray-400"}`,children:w.jsx(Uo,{className:`w-6 h-6 ${O?"fill-current":""}`})}),w.jsx("button",{onClick:G,className:`p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 ${o?"text-green-500":"text-gray-500 dark:text-gray-400"}`,children:w.jsx(gx,{className:"w-6 h-6"})}),w.jsx("button",{onClick:be,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:w.jsx(mx,{className:"w-6 h-6"})})]}),w.jsxs("article",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[w.jsx("h2",{className:"text-3xl font-bold mb-4 dark:text-white",children:C.title}),w.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400 mb-6",children:[w.jsx("span",{children:C.source.name}),w.jsx("span",{children:new Date(C.publishedAt).toLocaleDateString()})]}),C.image&&g.showImages&&w.jsx("img",{src:C.image,alt:C.title,className:"w-full rounded-lg mb-6"}),w.jsxs("div",{className:"prose dark:prose-invert max-w-none mb-6",children:[w.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-4",children:C.description}),w.jsx("div",{ref:b,className:"text-gray-800 dark:text-gray-200",onMouseUp:()=>{var ee;return r(((ee=window.getSelection())==null?void 0:ee.toString())||"")},dangerouslySetInnerHTML:{__html:C.content}})]})]}),w.jsxs("div",{className:"fixed bottom-20 right-4 flex flex-col gap-2",children:[n&&w.jsx("button",{onClick:A,className:"p-3 rounded-full bg-yellow-500 text-white shadow-lg hover:bg-yellow-600 transition-colors",children:w.jsx($f,{className:"w-6 h-6"})}),w.jsx("button",{onClick:()=>u(!a),className:"p-3 rounded-full bg-blue-500 text-white shadow-lg hover:bg-blue-600 transition-colors",children:w.jsx(Ig,{className:"w-6 h-6"})})]}),a&&w.jsxs("div",{className:"fixed bottom-40 right-4 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4",children:[w.jsx("textarea",{value:i,onChange:ee=>s(ee.target.value),placeholder:"Add a note...",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3}),w.jsx("button",{onClick:z,className:"mt-2 w-full py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Add Note"})]})]})})]})};function Le(t){this.content=t}Le.prototype={constructor:Le,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Le(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Le(n)},addToStart:function(t,e){return new Le([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Le(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Le(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Le.from(t),t.size?new Le(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Le.from(t),t.size?new Le(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Le.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Le.from=function(t){if(t instanceof Le)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Le(e)};function Kx(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=Kx(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function qx(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),l=e.child(--s),a=o.nodeSize;if(o==l){n-=a,r-=a;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let u=0,c=Math.min(o.text.length,l.text.length);for(;u<c&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let u=qx(o.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class R{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,l=0;l<n;o++){let a=this.content[o],u=l+a.nodeSize;if(u>e&&r(a,i+l,s||null,o)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new R(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let l=this.content[s],a=o+l.nodeSize;a>e&&((o<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),r.push(l),i+=l.nodeSize),o=a}return new R(r,i)}cutByIndex(e,n){return e==n?R.empty:e==0&&n==this.content.length?this:new R(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new R(i,s)}addToStart(e){return new R([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new R(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return Kx(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return qx(this,e,n,r)}findIndex(e,n=-1){if(e==0)return _l(0,e);if(e==this.size)return _l(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?_l(r+1,o):_l(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return R.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new R(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return R.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new R(n||e,r)}static from(e){if(!e)return R.empty;if(e instanceof R)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new R([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}R.empty=new R([],0);const od={index:0,offset:0};function _l(t,e){return od.index=t,od.offset=e,od}function Ja(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Ja(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Ja(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let re=class Gf{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ja(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Gf.none;if(e instanceof Gf)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};re.none=[];class Qa extends Error{}class I{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Qx(this.content,e+this.openStart,n);return r&&new I(r,this.openStart,this.openEnd)}removeBetween(e,n){return new I(Jx(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return I.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new I(R.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new I(e,r,i)}}I.empty=new I(R.empty,0,0);function Jx(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(Jx(s.content,e-i-1,n-i-1)))}function Qx(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=Qx(o.content,e-s-1,n);return l&&t.replaceChild(i,o.copy(l))}function zO(t,e,n){if(n.openStart>t.depth)throw new Qa("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Qa("Inconsistent open depths");return Gx(t,e,n,0)}function Gx(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=Gx(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,l=o.content;return ui(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=FO(n,t);return ui(s,Xx(t,o,l,e,r))}else return ui(s,Ga(t,e,r))}function Yx(t,e){if(!e.type.compatibleContent(t.type))throw new Qa("Cannot join "+e.type.name+" onto "+t.type.name)}function Yf(t,e,n){let r=t.node(n);return Yx(r,e.node(n)),r}function ai(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function mo(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(ai(t.nodeAfter,r),s++));for(let l=s;l<o;l++)ai(i.child(l),r);e&&e.depth==n&&e.textOffset&&ai(e.nodeBefore,r)}function ui(t,e){return t.type.checkContent(e),t.copy(e)}function Xx(t,e,n,r,i){let s=t.depth>i&&Yf(t,e,i+1),o=r.depth>i&&Yf(n,r,i+1),l=[];return mo(null,t,i,l),s&&o&&e.index(i)==n.index(i)?(Yx(s,o),ai(ui(s,Xx(t,e,n,r,i+1)),l)):(s&&ai(ui(s,Ga(t,e,i+1)),l),mo(e,n,i,l),o&&ai(ui(o,Ga(n,r,i+1)),l)),mo(r,null,i,l),new R(l)}function Ga(t,e,n){let r=[];if(mo(null,t,n,r),t.depth>n){let i=Yf(t,e,n+1);ai(ui(i,Ga(t,e,n+1)),r)}return mo(e,null,n,r),new R(r)}function FO(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(R.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Ko{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return re.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ya(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(s),u=s-a;if(r.push(o,l,i+a),!u||(o=o.child(l),o.isText))break;s=u-1,i+=a+1}return new Ko(n,r,s)}static resolveCached(e,n){let r=Yg.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else Yg.set(e,r=new BO);let i=r.elts[r.i]=Ko.resolve(e,n);return r.i=(r.i+1)%_O,i}}class BO{constructor(){this.elts=[],this.i=0}}const _O=12,Yg=new WeakMap;class Ya{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const $O=Object.create(null);let ci=class Xf{constructor(e,n,r,i=re.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||R.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Ja(this.attrs,n||e.defaultAttrs||$O)&&re.sameSet(this.marks,r||re.none)}copy(e=null){return e==this.content?this:new Xf(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Xf(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return I.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),l=i.start(o),u=i.node(o).content.cut(i.pos-l,s.pos-l);return new I(u,i.depth-o,s.depth-o)}replace(e,n,r){return zO(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Ko.resolveCached(this,e)}resolveNoCache(e){return Ko.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Zx(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=R.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<s;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=re.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!re.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=R.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};ci.prototype.text=void 0;class Xa extends ci{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Zx(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Xa(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Xa(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Zx(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Si{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new HO(e,n);if(r.next==null)return Si.empty;let i=ew(r);r.next&&r.err("Unexpected trailing text");let s=QO(JO(i));return GO(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,l){let a=o.matchFragment(e,r);if(a&&(!n||a.validEnd))return R.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,l.concat(c));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:a}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Si.empty=new Si(!0);class HO{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function ew(t){let e=[];do e.push(UO(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function UO(t){let e=[];do e.push(VO(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function VO(t){let e=qO(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=WO(t,e);else break;return e}function Xg(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function WO(t,e){let n=Xg(t),r=n;return t.eat(",")&&(t.next!="}"?r=Xg(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function KO(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function qO(t){if(t.eat("(")){let e=ew(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=KO(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function JO(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,l,a){let u={term:a,to:l};return e[o].push(u),u}function i(o,l){o.forEach(a=>a.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((a,u)=>a.concat(s(u,l)),[]);if(o.type=="seq")for(let a=0;;a++){let u=s(o.exprs[a],l);if(a==o.exprs.length-1)return u;i(u,l=n())}else if(o.type=="star"){let a=n();return r(l,a),i(s(o.expr,a),a),[r(a)]}else if(o.type=="plus"){let a=n();return i(s(o.expr,l),a),i(s(o.expr,a),a),[r(a)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let a=l;for(let u=0;u<o.min;u++){let c=n();i(s(o.expr,a),c),a=c}if(o.max==-1)i(s(o.expr,a),a);else for(let u=o.min;u<o.max;u++){let c=n();r(a,c),i(s(o.expr,a),c),a=c}return[r(a)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function tw(t,e){return e-t}function Zg(t,e){let n=[];return r(e),n.sort(tw);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:l,to:a}=s[o];!l&&n.indexOf(a)==-1&&r(a)}}}function QO(t){let e=Object.create(null);return n(Zg(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);Zg(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=e[r.join(",")]=new Si(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(tw);s.next.push({type:i[o][0],next:e[l.join(",")]||n(l)})}return s}}function GO(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];o.push(a.name),s&&!(a.isText||a.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function nw(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function rw(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function iw(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function sw(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new XO(t,r,e[r]);return n}let ey=class ow{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=sw(e,r.attrs),this.defaultAttrs=nw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Si.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:rw(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ci(this,this.computeAttrs(e),R.from(n),re.setFrom(r))}createChecked(e=null,n,r){return n=R.from(n),this.checkContent(n),new ci(this,this.computeAttrs(e),n,re.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=R.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(R.empty,!0);return s?new ci(this,e,n.append(s),re.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){iw(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:re.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new ow(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function YO(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class XO{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?YO(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class dc{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=sw(e,i.attrs),this.excluded=null;let s=nw(this.attrs);this.instance=s?new re(this,s):null}create(e=null){return!e&&this.instance?this.instance:new re(this,rw(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new dc(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){iw(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class lw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Le.from(e.nodes),n.marks=Le.from(e.marks||{}),this.nodes=ey.compile(this.spec.nodes,this),this.marks=dc.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Si.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?ty(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:ty(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ey){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Xa(r,r.defaultAttrs,e,re.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ci.fromJSON(this,e)}markFromJSON(e){return re.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function ty(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function ZO(t){return t.tag!=null}function e2(t){return t.style!=null}class Sr{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(ZO(i))this.tags.push(i);else if(e2(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new ry(this,n,!1);return r.addAll(e,re.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new ry(this,n,!0);return r.addAll(e,re.none,n.from,n.to),I.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(r2(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let a=o.getAttrs(n);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=iy(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=iy(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Sr(e,Sr.schemaRules(e)))}}const aw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},t2={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},uw={ol:!0,ul:!0},Za=1,eu=2,go=4;function ny(t,e,n){return e!=null?(e?Za:0)|(e==="full"?eu:0):t&&t.whitespace=="pre"?Za|eu:n&~go}class $l{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=re.none,this.match=s||(o&go?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(R.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Za)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=R.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(R.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!aw.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ry{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=ny(null,n.preserveWhitespace,0)|(r?go:0);i?s=new $l(i.type,i.attrs,re.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new $l(null,null,re.none,!0,null,o):s=new $l(e.schema.topNodeType,null,re.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&eu||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Za)i.options&eu?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),s;uw.hasOwnProperty(i)&&this.parser.normalizeLists&&n2(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,r));if(o?o.ignore:t2.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let l,a=this.top,u=this.needsBlock;if(aw.hasOwnProperty(i))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),l=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let c=o&&o.skip?n:this.readStyles(e,n);c&&this.addAll(e,c),l&&this.sync(a),this.needsBlock=u}else{let l=this.readStyles(e,n);l&&this.addElementByRule(e,o,l,o.consuming===!1?s:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let l=void 0;;){let a=this.parser.matchStyle(s,o,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(u=>!a.clearMark(u)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let a=this.enter(o,n.attrs||null,r,n.preserveWhitespace);a&&(s=!0,r=a)}else{let a=this.parser.schema.marks[n.mark];r=r.concat(a.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],l=o.findWrapping(e);if(l&&(!r||r.length>l.length)&&(r=l,i=o,!l.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=re.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):sy(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=ny(e,s,o.options);o.options&go&&o.content.length==0&&(l|=go);let a=re.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):sy(u.type,e))?(a=u.addToSet(a),!1):!0),this.nodes.push(new $l(e,n,a,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=s;a--)if(o(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=s?r.node(a-s).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;a--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function n2(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&uw.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function r2(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function iy(t){let e={};for(let n in t)e[n]=t[n];return e}function sy(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=l=>{s.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class Ni{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=ld(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,a=0;for(;l<s.length&&a<o.marks.length;){let u=o.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(s[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<s.length;)i=s.pop()[1];for(;a<o.marks.length;){let u=o.marks[a++],c=this.serializeMark(u,o.isInline,n);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=da(ld(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&da(ld(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return da(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ni(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=oy(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return oy(e.marks)}}function oy(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ld(t){return t.document||window.document}const ly=new WeakMap;function i2(t){let e=ly.get(t);return e===void 0&&ly.set(t,e=s2(t)),e}function s2(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function da(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=i2(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let l,a=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):a.setAttribute(d,u[d])}}for(let d=c;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:p,contentDOM:h}=da(t,f,n,r);if(a.appendChild(p),h){if(l)throw new RangeError("Multiple content holes");l=h}}}return{dom:a,contentDOM:l}}const cw=65535,dw=Math.pow(2,16);function o2(t,e){return t+e*dw}function ay(t){return t&cw}function l2(t){return(t-(t&cw))/dw}const fw=1,hw=2,fa=4,pw=8;class Zf{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&pw)>0}get deletedBefore(){return(this.delInfo&(fw|fa))>0}get deletedAfter(){return(this.delInfo&(hw|fa))>0}get deletedAcross(){return(this.delInfo&fa)>0}}class kt{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&kt.empty)return kt.empty}recover(e){let n=0,r=ay(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+l2(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+s],c=this.ranges[l+o],d=a+u;if(e<=d){let f=u?e==a?-1:e==d?1:n:n,p=a+i+(f<0?0:c);if(r)return p;let h=e==(n<0?a:d)?null:o2(l/3,e-a),m=e==a?hw:e==d?fw:fa;return(n<0?e!=a:e!=d)&&(m|=pw),new Zf(p,m,h)}i+=c-u}return r?e+i:new Zf(e+i,0,null)}touches(e,n){let r=0,i=ay(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+s],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),a=o+(this.inverted?0:s),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),s+=c-u}}invert(){return new kt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?kt.empty:new kt(e<0?[0,-e,0]:[0,0,e])}}kt.empty=new kt([]);class ns{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new ns(this.maps,this.mirror,e,n)}copy(){return new ns(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ns;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],l=o.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(s);if(a!=null&&a>s&&a<this.to){s=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new Zf(e,i,null)}}const ad=Object.create(null);class Ge{getMap(){return kt.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ad[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ad)throw new RangeError("Duplicate use of step JSON ID "+e);return ad[e]=n,n.prototype.jsonID=e,n}}class ke{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ke(e,null)}static fail(e){return new ke(null,e)}static fromReplace(e,n,r,i){try{return ke.ok(e.replace(n,r,i))}catch(s){if(s instanceof Qa)return ke.fail(s.message);throw s}}}function Dp(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Dp(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return R.fromArray(r)}class ur extends Ge{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new I(Dp(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return ke.fromReplace(e,this.from,this.to,s)}invert(){return new xn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ur(n.pos,r.pos,this.mark)}merge(e){return e instanceof ur&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ur(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ur(n.from,n.to,e.markFromJSON(n.mark))}}Ge.jsonID("addMark",ur);class xn extends Ge{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new I(Dp(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return ke.fromReplace(e,this.from,this.to,r)}invert(){return new ur(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new xn(n.pos,r.pos,this.mark)}merge(e){return e instanceof xn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new xn(n.from,n.to,e.markFromJSON(n.mark))}}Ge.jsonID("removeMark",xn);class cr extends Ge{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ke.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ke.fromReplace(e,this.pos,this.pos+1,new I(R.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new cr(this.pos,n.marks[i]);return new cr(this.pos,this.mark)}}return new Ms(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new cr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new cr(n.pos,e.markFromJSON(n.mark))}}Ge.jsonID("addNodeMark",cr);class Ms extends Ge{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ke.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ke.fromReplace(e,this.pos,this.pos+1,new I(R.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new cr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ms(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ms(n.pos,e.markFromJSON(n.mark))}}Ge.jsonID("removeNodeMark",Ms);class Me extends Ge{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&eh(e,this.from,this.to)?ke.fail("Structure replace would overwrite content"):ke.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new kt([this.from,this.to-this.from,this.slice.size])}invert(e){return new Me(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Me(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Me)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?I.empty:new I(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Me(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?I.empty:new I(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Me(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Me(n.from,n.to,I.fromJSON(e,n.slice),!!n.structure)}}Ge.jsonID("replace",Me);class Re extends Ge{constructor(e,n,r,i,s,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(eh(e,this.from,this.gapFrom)||eh(e,this.gapTo,this.to)))return ke.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ke.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ke.fromReplace(e,this.from,this.to,r):ke.fail("Content does not fit in gap")}getMap(){return new kt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Re(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Re(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Re(n.from,n.to,n.gapFrom,n.gapTo,I.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ge.jsonID("replaceAround",Re);function eh(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function a2(t,e,n,r){let i=[],s=[],o,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),p=Math.min(u+a.nodeSize,n),h=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(h)||(o&&o.to==f&&o.mark.eq(d[m])?o.to=p:i.push(o=new xn(f,p,d[m])));l&&l.to==f?l.to=p:s.push(l=new ur(f,p,r))}}),i.forEach(a=>t.step(a)),s.forEach(a=>t.step(a))}function u2(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;s++;let a=null;if(r instanceof dc){let u=o.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(a=[r]):a=o.marks;if(a&&a.length){let u=Math.min(l+o.nodeSize,n);for(let c=0;c<a.length;c++){let d=a[c],f;for(let p=0;p<i.length;p++){let h=i[p];h.step==s-1&&d.eq(i[p].style)&&(f=h)}f?(f.to=u,f.step=s):i.push({style:d,from:Math.max(l,e),to:u,step:s})}}}),i.forEach(o=>t.step(new xn(o.from,o.to,o.style)))}function Ip(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],l=e+1;for(let a=0;a<s.childCount;a++){let u=s.child(a),c=l+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new Me(l,c,I.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new xn(l,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(u.text);)h||(h=new I(R.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new Me(l+f.index,l+f.index+f[0].length,h))}}l=c}if(!r.validEnd){let a=r.fillBefore(R.empty,!0);t.replace(l,l,new I(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function c2(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function _s(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!c2(i,s,o))break}return null}function d2(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),a=o,u=l,c=R.empty,d=0;for(let h=s,m=!1;h>n;h--)m||r.index(h)>0?(m=!0,c=R.from(r.node(h).copy(c)),d++):a--;let f=R.empty,p=0;for(let h=s,m=!1;h>n;h--)m||i.after(h+1)<i.end(h)?(m=!0,f=R.from(i.node(h).copy(f)),p++):u++;t.step(new Re(a,u,o,l,new I(c.append(f),d,p),c.size-d,!0))}function Lp(t,e,n=null,r=t){let i=f2(t,e),s=i&&h2(r,e);return s?i.map(uy).concat({type:e,attrs:n}).concat(s.map(uy)):null}function uy(t){return{type:t,attrs:null}}function f2(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function h2(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:o}function p2(t,e,n){let r=R.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=R.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Re(i,s,i,s,new I(r,0,0),n.length,!0))}function m2(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{let a=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,a)&&g2(t.doc,t.mapping.slice(s).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!h?u=!1:!p&&h&&(u=!0)}u===!1&&gw(t,o,l,s),Ip(t,t.mapping.slice(s).map(l,1),r,void 0,u===null);let c=t.mapping.slice(s),d=c.map(l,1),f=c.map(l+o.nodeSize,1);return t.step(new Re(d,f,d+1,f-1,new I(R.from(r.create(a,null,o.marks)),0,0),1,!0)),u===!0&&mw(t,o,l,s),!1}})}function mw(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let a=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function gw(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function g2(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function y2(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Re(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new I(R.from(o),0,0),1,!0))}function rs(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>s;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),h=r&&r[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let m=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(p))return!1}let l=i.indexAfter(s),a=r&&r[0];return i.node(s).canReplaceWith(l,l,a?a.type:i.node(s+1).type)}function v2(t,e,n=1,r){let i=t.doc.resolve(e),s=R.empty,o=R.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){s=R.from(i.node(l).copy(s));let c=r&&r[u];o=R.from(c?c.type.create(c.attrs,o):i.node(l).copy(o))}t.step(new Me(e,e,new I(s.append(o),n,n),!0))}function Ir(t,e){let n=t.resolve(e),r=n.index();return yw(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function x2(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function yw(t,e){return!!(t&&e&&!t.isLeaf&&x2(t,e))}function fc(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),l++,o=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),o=r.node(i+1)),s&&!s.isTextblock&&yw(s,o)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function w2(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);c&&!d?r=!1:!c&&d&&(r=!0)}let l=t.steps.length;if(r===!1){let c=t.doc.resolve(e+n);gw(t,c.node(),c.before(),l)}o.inlineContent&&Ip(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let a=t.mapping.slice(l),u=a.map(e-n);if(t.step(new Me(u,a.map(e+n,-1),I.empty,!0)),r===!0){let c=t.doc.resolve(u);mw(t,c.node(),c.before(),t.steps.length)}return t}function S2(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function vw(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,a=r.index(o)+(l>0?1:0),u=r.node(o),c=!1;if(s==1)c=u.canReplace(a,a,i);else{let d=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(a,a,d[0])}if(c)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function hc(t,e,n=e,r=I.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return xw(i,s,r)?new Me(e,n,r):new k2(i,s,r).fit()}function xw(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class k2{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=R.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=R.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let a=new I(s,o,l);return e>-1?new Re(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Me(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=ud(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(R.from(o),!1)):s&&a.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:d};if(n==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ud(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new I(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ud(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new I(no(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new I(no(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,l=r?r.content:o.content,a=o.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));d=d.matchFragment(i)}let p=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let m=l.child(u),v=d.matchType(m.type);if(!v)break;u++,(u>1||a==0||m.content.size)&&(d=v,c.push(ww(m.mark(f.allowedMarks(m.marks)),u==1?a:0,u==l.childCount?p:-1)))}let h=u==l.childCount;h||(p=-1),this.placed=ro(this.placed,n,R.from(c)),this.frontier[n].match=d,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,v=l;m<p;m++){let g=v.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),v=g.content}this.unplaced=h?e==0?I.empty:new I(no(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new I(no(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!cd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=cd(e,n,i,r,s);if(o){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=cd(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ro(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ro(this.placed,this.depth,R.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(R.empty,!0);n.childCount&&(this.placed=ro(this.placed,this.frontier.length,n))}}function no(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(no(t.firstChild.content,e-1,n)))}function ro(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ro(t.lastChild.content,e-1,n)))}function ud(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function ww(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,ww(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(R.empty,!0)))),t.copy(r)}function cd(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!C2(n,s.content,o)?l:null}function C2(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function b2(t){return t.spec.defining||t.spec.definingForContent}function E2(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(xw(i,s,r))return t.step(new Me(e,n,r));let o=kw(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let h=i.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;o.indexOf(f)>-1?l=f:i.before(f)==p&&o.splice(1,0,-f)}let a=o.indexOf(l),u=[],c=r.openStart;for(let f=r.content,p=0;;p++){let h=f.firstChild;if(u.push(h),p==r.openStart)break;f=h.content}for(let f=c-1;f>=0;f--){let p=u[f],h=b2(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(l)-1)))c=f;else if(h||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),h=u[p];if(h)for(let m=0;m<o.length;m++){let v=o[(m+a)%o.length],g=!0;v<0&&(g=!1,v=-v);let y=i.node(v-1),x=i.index(v-1);if(y.canReplaceWith(x,x,h.type,h.marks))return t.replace(i.before(v),g?s.after(v):n,new I(Sw(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=o[f];p<0||(e=i.before(p),n=s.after(p))}}function Sw(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Sw(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(R.empty,!0))}return t}function T2(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=S2(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new I(R.from(r),0,0))}function N2(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=kw(r,i);for(let o=0;o<s.length;o++){let l=s[o],a=o==s.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function kw(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class is extends Ge{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return ke.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return ke.fromReplace(e,this.pos,this.pos+1,new I(R.from(i),0,n.isLeaf?0:1))}getMap(){return kt.empty}invert(e){return new is(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new is(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new is(n.pos,n.attr,n.value)}}Ge.jsonID("attr",is);class qo extends Ge{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return ke.ok(r)}getMap(){return kt.empty}invert(e){return new qo(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new qo(n.attr,n.value)}}Ge.jsonID("docAttr",qo);let As=class extends Error{};As=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};As.prototype=Object.create(Error.prototype);As.prototype.constructor=As;As.prototype.name="TransformError";class Cw{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ns}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new As(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=I.empty){let i=hc(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new I(R.from(r),0,0))}delete(e,n){return this.replace(e,n,I.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return E2(this,e,n,r),this}replaceRangeWith(e,n,r){return T2(this,e,n,r),this}deleteRange(e,n){return N2(this,e,n),this}lift(e,n){return d2(this,e,n),this}join(e,n=1){return w2(this,e,n),this}wrap(e,n){return p2(this,e,n),this}setBlockType(e,n=e,r,i=null){return m2(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return y2(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new is(e,n,r)),this}setDocAttribute(e,n){return this.step(new qo(e,n)),this}addNodeMark(e,n){return this.step(new cr(e,n)),this}removeNodeMark(e,n){if(!(n instanceof re)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Ms(e,n)),this}split(e,n=1,r){return v2(this,e,n,r),this}addMark(e,n,r){return a2(this,e,n,r),this}removeMark(e,n,r){return u2(this,e,n,r),this}clearIncompatible(e,n,r){return Ip(this,e,n,r),this}}const dd=Object.create(null);class W{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new O2(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=I.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],c=e.mapping.slice(s);e.replaceRange(c.map(a.pos),c.map(u.pos),l?I.empty:n),l==0&&fy(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],a=e.mapping.slice(r),u=a.map(o.pos),c=a.map(l.pos);s?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),fy(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new H(e):Pi(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Pi(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Pi(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new rn(e.node(0))}static atStart(e){return Pi(e,e,0,0,1)||new rn(e)}static atEnd(e){return Pi(e,e,e.content.size,e.childCount,-1)||new rn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=dd[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in dd)throw new RangeError("Duplicate use of selection JSON ID "+e);return dd[e]=n,n.prototype.jsonID=e,n}getBookmark(){return H.between(this.$anchor,this.$head).getBookmark()}}W.prototype.visible=!0;class O2{constructor(e,n){this.$from=e,this.$to=n}}let cy=!1;function dy(t){!cy&&!t.parent.inlineContent&&(cy=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class H extends W{constructor(e,n=e){dy(e),dy(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return W.near(r);let i=e.resolve(n.map(this.anchor));return new H(i.parent.inlineContent?i:r,r)}replace(e,n=I.empty){if(super.replace(e,n),n==I.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof H&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new pc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new H(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=W.findFrom(n,r,!0)||W.findFrom(n,-r,!0);if(s)n=s.$head;else return W.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(W.findFrom(e,-r,!0)||W.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new H(e,n)}}W.jsonID("text",H);class pc{constructor(e,n){this.anchor=e,this.head=n}map(e){return new pc(e.map(this.anchor),e.map(this.head))}resolve(e){return H.between(e.resolve(this.anchor),e.resolve(this.head))}}class _ extends W{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?W.near(s):new _(s)}content(){return new I(R.from(this.node),0,0)}eq(e){return e instanceof _&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new jp(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new _(e.resolve(n.anchor))}static create(e,n){return new _(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}_.prototype.visible=!1;W.jsonID("node",_);class jp{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new pc(r,r):new jp(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&_.isSelectable(r)?new _(n):W.near(n)}}class rn extends W{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=I.empty){if(n==I.empty){e.delete(0,e.doc.content.size);let r=W.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new rn(e)}map(e){return new rn(e)}eq(e){return e instanceof rn}getBookmark(){return M2}}W.jsonID("all",rn);const M2={map(){return this},resolve(t){return new rn(t)}};function Pi(t,e,n,r,i,s=!1){if(e.inlineContent)return H.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&_.isSelectable(l))return _.create(t,n-(i<0?l.nodeSize:0))}else{let a=Pi(t,l,n+i,i<0?l.childCount:0,i,s);if(a)return a}n+=l.nodeSize*i}return null}function fy(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Me||i instanceof Re))return;let s=t.mapping.maps[r],o;s.forEach((l,a,u,c)=>{o==null&&(o=c)}),t.setSelection(W.near(t.doc.resolve(o),n))}const hy=1,Hl=2,py=4;class A2 extends Cw{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|hy)&~Hl,this.storedMarks=null,this}get selectionSet(){return(this.updated&hy)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Hl,this}ensureMarks(e){return re.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Hl)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Hl,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||re.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(W.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=py,this}get scrolledIntoView(){return(this.updated&py)>0}}function my(t,e){return!e||!t?t:t.bind(e)}class io{constructor(e,n,r){this.name=e,this.init=my(n.init,r),this.apply=my(n.apply,r)}}const R2=[new io("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new io("selection",{init(t,e){return t.selection||W.atStart(e.doc)},apply(t){return t.selection}}),new io("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new io("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class fd{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=R2.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new io(r.key,r.spec.state,r))})}}class qi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=i?i[o].n:0,u=i?i[o].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new qi(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new A2(this)}static create(e){let n=new fd(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new qi(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new fd(this.schema,e.plugins),r=n.fields,i=new qi(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new fd(e.schema,e.plugins),s=new qi(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=ci.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=W.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[o.name]=u.fromJSON.call(a,e,n[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function bw(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=bw(i,e,{})),n[r]=i}return n}class $e{constructor(e){this.spec=e,this.props={},e.props&&bw(e.props,this,this.props),this.key=e.key?e.key.key:Ew("plugin")}getState(e){return e[this.key]}}const hd=Object.create(null);function Ew(t){return t in hd?t+"$"+ ++hd[t]:(hd[t]=0,t+"$")}class Mt{constructor(e="key"){this.key=Ew(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ze=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Jo=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let th=null;const On=function(t,e,n){let r=th||(th=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},P2=function(){th=null},ki=function(t,e,n,r){return n&&(gy(t,e,n,r,-1)||gy(t,e,n,r,1))},D2=/^(img|br|input|textarea|hr)$/i;function gy(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:zt(t))){let s=t.parentNode;if(!s||s.nodeType!=1||gl(t)||D2.test(t.nodeName)||t.contentEditable=="false")return!1;e=ze(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?zt(t):0}else return!1}}function zt(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function I2(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=zt(t)}else if(t.parentNode&&!gl(t))e=ze(t),t=t.parentNode;else return null}}function L2(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!gl(t))e=ze(t)+1,t=t.parentNode;else return null}}function j2(t,e,n){for(let r=e==0,i=e==zt(t);r||i;){if(t==n)return!0;let s=ze(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==zt(t)}}function gl(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const mc=function(t){return t.focusNode&&ki(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Hr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function z2(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function F2(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(zt(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(zt(r.startContainer),r.startOffset)}}}const kn=typeof navigator<"u"?navigator:null,yy=typeof document<"u"?document:null,Lr=kn&&kn.userAgent||"",nh=/Edge\/(\d+)/.exec(Lr),Tw=/MSIE \d/.exec(Lr),rh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Lr),vt=!!(Tw||rh||nh),kr=Tw?document.documentMode:rh?+rh[1]:nh?+nh[1]:0,on=!vt&&/gecko\/(\d+)/i.test(Lr);on&&+(/Firefox\/(\d+)/.exec(Lr)||[0,0])[1];const ih=!vt&&/Chrome\/(\d+)/.exec(Lr),qe=!!ih,Nw=ih?+ih[1]:0,tt=!vt&&!!kn&&/Apple Computer/.test(kn.vendor),Rs=tt&&(/Mobile\/\w+/.test(Lr)||!!kn&&kn.maxTouchPoints>2),It=Rs||(kn?/Mac/.test(kn.platform):!1),B2=kn?/Win/.test(kn.platform):!1,Zt=/Android \d/.test(Lr),yl=!!yy&&"webkitFontSmoothing"in yy.documentElement.style,_2=yl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function $2(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function bn(t,e){return typeof t=="number"?t:t[e]}function H2(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function vy(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Jo(o)){if(o.nodeType!=1)continue;let l=o,a=l==s.body,u=a?$2(s):H2(l),c=0,d=0;if(e.top<u.top+bn(r,"top")?d=-(u.top-e.top+bn(i,"top")):e.bottom>u.bottom-bn(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+bn(i,"top")-u.top:e.bottom-u.bottom+bn(i,"bottom")),e.left<u.left+bn(r,"left")?c=-(u.left-e.left+bn(i,"left")):e.right>u.right-bn(r,"right")&&(c=e.right-u.right+bn(i,"right")),c||d)if(a)s.defaultView.scrollBy(c,d);else{let f=l.scrollLeft,p=l.scrollTop;d&&(l.scrollTop+=d),c&&(l.scrollLeft+=c);let h=l.scrollLeft-f,m=l.scrollTop-p;e={left:e.left-h,top:e.top-m,right:e.right-h,bottom:e.bottom-m}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function U2(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(s,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:Ow(t.dom)}}function Ow(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Jo(r));return e}function V2({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Mw(n,r==0?0:r-e)}function Mw(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Mi=null;function W2(t){if(t.setActive)return t.setActive();if(Mi)return t.focus(Mi);let e=Ow(t);t.focus(Mi==null?{get preventScroll(){return Mi={preventScroll:!0},!0}}:void 0),Mi||(Mi=!1,Mw(e,0))}function Aw(t,e){let n,r=2e8,i,s=0,o=e.top,l=e.top,a,u;for(let c=t.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=On(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=o&&h.bottom>=l){o=Math.max(h.bottom,o),l=Math.min(h.top,l);let m=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(m<r){n=c,r=m,i=m&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&m&&(s=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!a&&h.left<=e.left&&h.right>=e.left&&(a=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=d+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?K2(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:Aw(n,i)}function K2(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Un(r,1);if(s.top!=s.bottom&&zp(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function zp(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function q2(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function J2(t,e,n){let{node:r,offset:i}=Aw(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Q2(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&(!o&&a.left>r.left||a.top>r.top?i=l.posBefore:(!o&&a.right<r.left||a.bottom<r.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function Rw(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(zp(e,u))return Rw(o,e,u)}}if((s=(s+1)%r)==i)break}return t}function G2(t,e){let n=t.dom.ownerDocument,r,i=0,s=F2(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!zp(e,u)||(o=Rw(t.dom,e,u),!o))return null}if(tt)for(let u=o;r&&u;u=Jo(u))u.draggable&&(r=void 0);if(o=q2(o,e),r){if(on&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;yl&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=Q2(t,r,i,e))}l==null&&(l=J2(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function xy(t){return t.top<t.bottom||t.left<t.right}function Un(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(xy(r))return r}return Array.prototype.find.call(n,xy)||t.getBoundingClientRect()}const Y2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Pw(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=yl||on;if(r.nodeType==3)if(o&&(Y2.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Un(On(r,i,i),n);if(on&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Un(On(r,i-1,i-1),-1);if(u.top==a.top){let c=Un(On(r,i,i+1),-1);if(c.top!=a.top)return Gs(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,Gs(Un(On(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==zt(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return pd(a.getBoundingClientRect(),!1)}if(s==null&&i<zt(r)){let a=r.childNodes[i];if(a.nodeType==1)return pd(a.getBoundingClientRect(),!0)}return pd(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==zt(r))){let a=r.childNodes[i-1],u=a.nodeType==3?On(a,zt(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return Gs(Un(u,1),!1)}if(s==null&&i<zt(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?On(a,0,o?0:1):a.nodeType==1?a:null:null;if(u)return Gs(Un(u,-1),!0)}return Gs(Un(r.nodeType==3?On(r):r,-n),n>=0)}function Gs(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function pd(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Dw(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function X2(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Dw(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=Pw(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=On(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const Z2=/[\u0590-\u08ac]/;function eM(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=t.domSelection();return l?!Z2.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:o:Dw(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:m}=t.domSelectionRange(),v=h&&!p.contains(h.nodeType==1?h:h.parentNode)||a==h&&u==m;try{l.collapse(c,d),a&&(a!=c||u!=d)&&l.extend&&l.extend(a,u)}catch{}return f!=null&&(l.caretBidiLevel=f),v}):r.pos==r.start()||r.pos==r.end()}let wy=null,Sy=null,ky=!1;function tM(t,e,n){return wy==e&&Sy==n?ky:(wy=e,Sy=n,ky=n=="up"||n=="down"?X2(t,e,n):eM(t,e,n))}const $t=0,Cy=1,Jr=2,Cn=3;class vl{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=$t,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>ze(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof Lw){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Iw&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?ze(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?ze(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let a=this.children[l],u=o+a.size;if(i==-1&&e<=u){let c=o+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=o;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=ze(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=ze(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let h=this.children[f],m=p+h.size;if(s>p&&o<m)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=m}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((on||tt)&&e==n){let{node:f,offset:p}=l;if(f.nodeType==3){if(c=!!(p&&f.nodeValue[p-1]==`
`),c&&p==f.nodeValue.length)for(let h=f,m;h;h=h.parentNode){if(m=h.nextSibling){m.nodeName=="BR"&&(l=a={node:m.parentNode,offset:ze(m)+1});break}let v=h.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let h=f.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(on&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||c&&tt)&&ki(l.node,l.offset,u.anchorNode,u.anchorOffset)&&ki(a.node,a.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),d=!0}catch{}}if(!d){if(e>n){let p=l;l=a,a=p}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let l=r+s.border,a=o-s.border;if(e>=l&&n<=a){this.dirty=e==r||n==o?Jr:Cy,e==l&&n==a&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Cn:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Jr:Cn}r=o}this.dirty=Jr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Jr:Cy;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class Iw extends vl{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==$t&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class nM extends vl{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ci extends vl{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Ni.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ci(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Cn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Cn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=$t){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$t}}slice(e,n,r){let i=Ci.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=oh(s,n,o,r)),e>0&&(s=oh(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}}class Cr extends vl{constructor(e,n,r,i,s,o,l,a,u){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,o){let l=s.nodeViews[n.type.name],a,u=l&&l(n,s,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Ni.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=Fw(c,r,n),u?a=new rM(e,n,r,i,c,d||null,f,u,s,o+1):n.isText?new gc(e,n,r,i,c,f,s):new Cr(e,n,r,i,c,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>R.empty)}return e}matchesNode(e,n,r){return this.dirty==$t&&e.eq(this.node)&&tu(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,a=new sM(this,o&&o.node,e);aM(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&a.syncToMarks(c==this.node.childCount?re.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,d,f)=>{a.syncToMarks(u.marks,r,e);let p;a.findNodeMatch(u,c,d,f)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(u,c,d,p,e)||a.updateNextNode(u,c,d,e,f,i)||a.addNode(u,c,d,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Jr)&&(o&&this.protectLocalComposition(e,o),jw(this.contentDOM,this.children,e),Rs&&uM(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof H)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=cM(this.node.content,o,r-n,i-n);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new nM(this,s,n,i);e.input.compositionNodes.push(o),this.children=oh(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Cn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=$t}updateOuterDeco(e){if(tu(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=zw(this.dom,this.nodeDOM,sh(this.outerDeco,this.node,n),sh(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function by(t,e,n,r,i){Fw(r,e,t);let s=new Cr(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class gc extends Cr{constructor(e,n,r,i,s,o,l){super(e,n,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Cn||this.dirty!=$t&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=$t||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=$t,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new gc(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Cn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Lw extends vl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==$t&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class rM extends Cr{constructor(e,n,r,i,s,o,l,a,u,c){super(e,n,r,i,s,o,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==Cn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function jw(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=Ey(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(o instanceof Ci){let a=r?r.previousSibling:t.lastChild;jw(o.contentDOM,o.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=Ey(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const yo=function(t){t&&(this.nodeName=t)};yo.prototype=Object.create(null);const Qr=[new yo];function sh(t,e,n){if(t.length==0)return Qr;let r=n?Qr[0]:new yo,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new yo(o.nodeName));for(let l in o){let a=o[l];a!=null&&(n&&i.length==1&&i.push(r=new yo(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function zw(t,e,n,r){if(n==Qr&&r==Qr)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=n[s];if(s){let a;l&&l.nodeName==o.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=Qr[0]),i=a}iM(i,l||Qr[0],o)}return i}function iM(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function Fw(t,e,n){return zw(t,t,Qr,sh(e,n,t.nodeType!=1))}function tu(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Ey(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class sM{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=oM(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=$t,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Ci.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Cn&&o.dom==o.contentDOM&&(o.dirty=Jr),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Cr){let u=this.preMatch.matched.get(a);if(u!=null&&u!=s)return!1;let c=a.dom,d,f=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Cn&&tu(n,a.outerDeco));if(!f&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,e,n,r,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Jr,d.updateChildren(i,o+1),d.dirty=$t),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!tu(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Cr.create(this.top,n,r,i,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let o=Cr.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Iw(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ci;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof gc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((tt||qe)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Lw(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function oM(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Ci)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}function lM(t,e){return t.type.side-e.type.side}function aM(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(s,c),u),s+=c.nodeSize}return}let o=0,l=[],a=null;for(let u=0;;){let c,d;for(;o<i.length&&i[o].to==s;){let v=i[o++];v.widget&&(c?(d||(d=[c])).push(v):c=v)}if(c)if(d){d.sort(lM);for(let v=0;v<d.length;v++)n(d[v],u,!!a)}else n(c,u,!!a);let f,p;if(a)p=-1,f=a,a=null;else if(u<t.childCount)p=u,f=t.child(u++);else break;for(let v=0;v<l.length;v++)l[v].to<=s&&l.splice(v--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let h=s+f.nodeSize;if(f.isText){let v=h;o<i.length&&i[o].from<v&&(v=i[o].from);for(let g=0;g<l.length;g++)l[g].to<v&&(v=l[g].to);v<h&&(a=f.cut(v-s),f=f.cut(0,v-s),h=v,p=-1)}else for(;o<i.length&&i[o].to<h;)o++;let m=f.isInline&&!f.isLeaf?l.filter(v=>!v.inline):l.slice();r(f,m,e.forChild(s,f),p),s=h}}function uM(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function cM(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let a=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;a+=u.text}if(s>=n){if(s>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function oh(t,e,n,r,i){let s=[];for(let o=0,l=0;o<t.length;o++){let a=t[o],u=l,c=l+=a.size;u>=n||c<=e?s.push(a):(u<e&&s.push(a.slice(0,e-u,r)),i&&(s.push(i),i=void 0),c>n&&s.push(a.slice(n-u,a.size,r)))}return s}function Fp(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),a,u;if(mc(n)){for(a=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&_.isSelectable(d)&&i.parent&&!(d.isInline&&j2(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new _(o==f?l:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let p=0;p<n.rangeCount;p++){let h=n.getRangeAt(p);d=Math.min(d,t.docView.posFromDOM(h.startContainer,h.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(d<0)return null;[a,o]=f==t.state.selection.anchor?[f,d]:[d,f],l=r.resolve(o)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let c=r.resolve(a);if(!u){let d=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;u=Bp(t,c,l,d)}return u}function Bw(t){return t.editable?t.hasFocus():$w(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Dn(t,e=!1){let n=t.state.selection;if(_w(t,n),!!Bw(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&qe){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ki(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)fM(t);else{let{anchor:r,head:i}=n,s,o;Ty&&!(n instanceof H)&&(n.$from.parent.inlineContent||(s=Ny(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Ny(t,n.to))),t.docView.setSelection(r,i,t.root,e),Ty&&(s&&Oy(s),o&&Oy(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&dM(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Ty=tt||qe&&Nw<63;function Ny(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(tt&&i&&i.contentEditable=="false")return md(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return md(i);if(s)return md(s)}}function md(t){return t.contentEditable="true",tt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Oy(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function dM(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Bw(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function fM(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,ze(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&vt&&kr<=11&&(r.disabled=!0,r.disabled=!1)}function _w(t,e){if(e instanceof _){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(My(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else My(t)}function My(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Bp(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||H.between(e,n,r)}function Ay(t){return t.editable&&!t.hasFocus()?!1:$w(t)}function $w(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function hM(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ki(e.node,e.offset,n.anchorNode,n.anchorOffset)}function lh(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&W.findFrom(s,e)}function Kn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ry(t,e,n){let r=t.state.selection;if(r instanceof H)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Kn(t,new H(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=lh(t.state,e);return i&&i instanceof _?Kn(t,i):!1}else if(!(It&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?_.isSelectable(s)?Kn(t,new _(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):yl?Kn(t,new H(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof _&&r.node.isInline)return Kn(t,new H(e>0?r.$to:r.$from));{let i=lh(t.state,e);return i?Kn(t,i):!1}}}function nu(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vo(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ai(t,e){return e<0?pM(t):mM(t)}function pM(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(on&&n.nodeType==1&&r<nu(n)&&vo(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(vo(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(Hw(n))break;{let l=n.previousSibling;for(;l&&vo(l,-1);)i=n.parentNode,s=ze(l),l=l.previousSibling;if(l)n=l,r=nu(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?ah(t,n,r):i&&ah(t,i,s)}function mM(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=nu(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(vo(l,1))s=n,o=++r;else break}else{if(Hw(n))break;{let l=n.nextSibling;for(;l&&vo(l,1);)s=l.parentNode,o=ze(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=nu(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&ah(t,s,o)}function Hw(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function gM(t,e){for(;t&&e==t.childNodes.length&&!gl(t);)e=ze(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function yM(t,e){for(;t&&!e&&!gl(t);)e=ze(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function ah(t,e,n){if(e.nodeType!=3){let s,o;(o=gM(e,n))?(e=o,n=0):(s=yM(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(mc(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Dn(t)},50)}function Py(t,e){let n=t.state.doc.resolve(e);if(!(qe||B2)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Dy(t,e,n){let r=t.state.selection;if(r instanceof H&&!r.empty||n.indexOf("s")>-1||It&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=lh(t.state,e);if(o&&o instanceof _)return Kn(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof rn?W.near(o,e):W.findFrom(o,e);return l?Kn(t,l):!1}return!1}function Iy(t,e){if(!(t.state.selection instanceof H))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function Ly(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function vM(t){if(!tt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Ly(t,r,"true"),setTimeout(()=>Ly(t,r,"false"),20)}return!1}function xM(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function wM(t,e){let n=e.keyCode,r=xM(e);if(n==8||It&&n==72&&r=="c")return Iy(t,-1)||Ai(t,-1);if(n==46&&!e.shiftKey||It&&n==68&&r=="c")return Iy(t,1)||Ai(t,1);if(n==13||n==27)return!0;if(n==37||It&&n==66&&r=="c"){let i=n==37?Py(t,t.state.selection.from)=="ltr"?-1:1:-1;return Ry(t,i,r)||Ai(t,i)}else if(n==39||It&&n==70&&r=="c"){let i=n==39?Py(t,t.state.selection.from)=="ltr"?1:-1:1;return Ry(t,i,r)||Ai(t,i)}else{if(n==38||It&&n==80&&r=="c")return Dy(t,-1,r)||Ai(t,-1);if(n==40||It&&n==78&&r=="c")return vM(t)||Dy(t,1,r)||Ai(t,1);if(r==(It?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Uw(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||Ni.fromSchema(t.state.schema),l=Qw(),a=l.createElement("div");a.appendChild(o.serializeFragment(r,{document:l}));let u=a.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=Jw[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=l.createElement(c[p]);for(;a.firstChild;)h.appendChild(a.firstChild);a.appendChild(h),d++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function Vw(t,e,n,r,i){let s=i.parent.type.spec.code,o,l;if(!n&&!e)return null;let a=e&&(r||s||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return e?new I(R.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):I.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)l=d;else{let f=i.marks(),{schema:p}=t.state,h=Ni.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=o.appendChild(document.createElement("p"));m&&v.appendChild(h.serializeNode(p.text(m,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=bM(n),yl&&EM(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Sr.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!SM.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)l=TM(jy(l,+c[1],+c[2]),c[4]);else if(l=I.maxOpen(kM(l.content,i),!0),l.openStart||l.openEnd){let d=0,f=0;for(let p=l.content.firstChild;d<l.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=l.content.lastChild;f<l.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);l=jy(l,d,f)}return t.someProp("transformPasted",d=>{l=d(l,t)}),l}const SM=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function kM(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(l=>{if(!o)return;let a=i.findWrapping(l.type),u;if(!a)return o=null;if(u=o.length&&s.length&&Kw(a,s,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=qw(o[o.length-1],s.length));let c=Ww(l,a);o.push(c),i=i.matchType(c.type),s=a}}),o)return R.from(o)}return t}function Ww(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,R.from(t));return t}function Kw(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=Kw(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(R.from(Ww(n,t,i+1))))}}function qw(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,qw(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(R.empty,!0);return t.copy(n.append(r))}function uh(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(s=0),i<r-1&&(l=uh(l,e,n,r,i+1,s)),i>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(R.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function jy(t,e,n){return e<t.openStart&&(t=new I(uh(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new I(uh(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Jw={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let zy=null;function Qw(){return zy||(zy=document.implementation.createHTMLDocument("title"))}function CM(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function bM(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Qw().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Jw[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=CM(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function EM(t){let e=t.querySelectorAll(qe?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function TM(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=R.from(a.create(r[l+1],i)),s++,o++}return new I(i,s,o)}const nt={},rt={},NM={touchstart:!0,touchmove:!0};class OM{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function MM(t){for(let e in nt){let n=nt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{RM(t,r)&&!_p(t,r)&&(t.editable||!(r.type in rt))&&n(t,r)},NM[e]?{passive:!0}:void 0)}tt&&t.dom.addEventListener("input",()=>null),ch(t)}function dr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function AM(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ch(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>_p(t,r))})}function _p(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function RM(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function PM(t,e){!_p(t,e)&&nt[e.type]&&(t.editable||!(e.type in rt))&&nt[e.type](t,e)}rt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Yw(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Zt&&qe&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Rs&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Hr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||wM(t,n)?n.preventDefault():dr(t,"key")};rt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};rt.keypress=(t,e)=>{let n=e;if(Yw(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||It&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof H)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function yc(t){return{left:t.clientX,top:t.clientY}}function DM(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function $p(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,l=>o>s.depth?l(t,n,s.nodeAfter,s.before(o),i,!0):l(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function ss(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function IM(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&_.isSelectable(r)?(ss(t,new _(n)),!0):!1}function LM(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof _&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(_.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(ss(t,_.create(t.state.doc,i)),!0):!1}function jM(t,e,n,r,i){return $p(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?LM(t,n):IM(t,n))}function zM(t,e,n,r){return $p(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function FM(t,e,n,r){return $p(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||BM(t,n,r)}function BM(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ss(t,H.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)ss(t,H.create(r,l+1,l+1+o.content.size));else if(_.isSelectable(o))ss(t,_.create(r,l));else continue;return!0}}function Hp(t){return ru(t)}const Gw=It?"metaKey":"ctrlKey";nt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Hp(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&DM(n,t.input.lastClick)&&!n[Gw]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(yc(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new _M(t,o,n,!!r)):(s=="doubleClick"?zM:FM)(t,o.pos,o.inside,n)?n.preventDefault():dr(t,"pointer"))};class _M{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Gw],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let c=e.state.doc.resolve(n.pos);s=c.parent,o=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof _&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&on&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),dr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Dn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(yc(e))),this.updateAllowDefault(e),this.allowDefault||!n?dr(this.view,"pointer"):jM(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||tt&&this.mightDrag&&!this.mightDrag.node.isAtom||qe&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ss(this.view,W.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):dr(this.view,"pointer")}move(e){this.updateAllowDefault(e),dr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}nt.touchstart=t=>{t.input.lastTouch=Date.now(),Hp(t),dr(t,"pointer")};nt.touchmove=t=>{t.input.lastTouch=Date.now(),dr(t,"pointer")};nt.contextmenu=t=>Hp(t);function Yw(t,e){return t.composing?!0:tt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const $M=Zt?5e3:-1;rt.compositionstart=rt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof H&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ru(t,!0),t.markCursor=null;else if(ru(t,!e.selection.empty),on&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}Xw(t,$M)};rt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Xw(t,20))};function Xw(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ru(t),e))}function Zw(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=UM());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function HM(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=I2(e.focusNode,e.focusOffset),r=L2(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function UM(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ru(t,e=!1){if(!(Zt&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Zw(t),e||t.docView&&t.docView.dirty){let n=Fp(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function VM(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Qo=vt&&kr<15||Rs&&_2<604;nt.copy=rt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Qo?null:n.clipboardData,o=r.content(),{dom:l,text:a}=Uw(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",a)):VM(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function WM(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function KM(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Go(t,r.value,null,i,e):Go(t,r.textContent,r.innerHTML,i,e)},50)}function Go(t,e,n,r,i){let s=Vw(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,s||I.empty)))return!0;if(!s)return!1;let o=WM(s),l=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function eS(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}rt.paste=(t,e)=>{let n=e;if(t.composing&&!Zt)return;let r=Qo?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Go(t,eS(r),r.getData("text/html"),i,n)?n.preventDefault():KM(t,n)};class tS{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const nS=It?"altKey":"ctrlKey";nt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(yc(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof _?i.to-1:i.to))){if(r&&r.mightDrag)o=_.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=_.create(t.state.doc,d.posBefore))}}let l=(o||t.state.selection).content(),{dom:a,text:u,slice:c}=Uw(t,l);(!n.dataTransfer.files.length||!qe||Nw>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Qo?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Qo||n.dataTransfer.setData("text/plain",u),t.dragging=new tS(c,!n[nS],o)};nt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};rt.dragover=rt.dragenter=(t,e)=>e.preventDefault();rt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(yc(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",h=>{o=h(o,t)}):o=Vw(t,eS(n.dataTransfer),Qo?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&!n[nS]);if(t.someProp("handleDrop",h=>h(t,n,o||I.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let a=o?vw(t.state.doc,s.pos,o):s.pos;a==null&&(a=s.pos);let u=t.state.tr;if(l){let{node:h}=r;h?h.replace(u):u.deleteSelection()}let c=u.mapping.map(a),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(f))return;let p=u.doc.resolve(c);if(d&&_.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new _(p));else{let h=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((m,v,g,y)=>h=y),u.setSelection(Bp(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};nt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Dn(t)},20))};nt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};nt.beforeinput=(t,e)=>{if(qe&&Zt&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Hr(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in rt)nt[t]=rt[t];function Yo(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class iu{constructor(e,n){this.toDOM=e,this.spec=n||di,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Bt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof iu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Yo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class br{constructor(e,n){this.attrs=e,this.spec=n||di}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Bt(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof br&&Yo(this.attrs,e.attrs)&&Yo(this.spec,e.spec)}static is(e){return e.type instanceof br}destroy(){}}class Up{constructor(e,n){this.attrs=e,this.spec=n||di}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Bt(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Up&&Yo(this.attrs,e.attrs)&&Yo(this.spec,e.spec)}destroy(){}}class Bt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Bt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Bt(e,e,new iu(n,r))}static inline(e,n,r,i){return new Bt(e,n,new br(r,i))}static node(e,n,r,i){return new Bt(e,n,new Up(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof br}get widget(){return this.type instanceof iu}}const Di=[],di={};class Te{constructor(e,n){this.local=e.length?e:Di,this.children=n.length?n:Di}static create(e,n){return n.length?su(n,e,0,di):We}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==We||e.maps.length==0?this:this.mapInner(e,n,0,0,r||di)}mapInner(e,n,r,i,s){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(o||(o=[])).push(a):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?qM(this.children,o||[],e,n,r,i,s):o?new Te(o.sort(fi),Di):We}add(e,n){return n.length?this==We?Te.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,a)=>{let u=a+r,c;if(c=iS(n,l,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<a;)s+=3;i[s]==a?i[s+2]=i[s+2].addInner(l,c,u+1):i.splice(s,0,a,a+l.nodeSize,su(c,l,u+1,di)),s+=3}});let o=rS(s?sS(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Te(o.length?this.local.concat(o).sort(fi):this.local,i||this.children)}remove(e){return e.length==0||this==We?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+n,a=r[s+1]+n;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>l&&d.to<a&&(e[c]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,l+1);u!=We?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Te(i,r):We}forChild(e,n){if(this==We)return this;if(n.isLeaf)return Te.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>s&&a.type instanceof br){let u=Math.max(s,a.from)-s,c=Math.min(o,a.to)-s;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new Te(i.sort(fi),Di);return r?new Yn([l,r]):l}return r||We}eq(e){if(this==e)return!0;if(!(e instanceof Te)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Vp(this.localsInner(e))}localsInner(e){if(this==We)return Di;if(e.inlineContent||!this.local.some(br.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof br||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Te.empty=new Te([],[]);Te.removeOverlap=Vp;const We=Te.empty;class Yn{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,di));return Yn.from(r)}forChild(e,n){if(n.isLeaf)return Te.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=We&&(s instanceof Yn?r=r.concat(s.members):r.push(s))}return Yn.from(r)}eq(e){if(!(e instanceof Yn)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?Vp(r?n:n.sort(fi)):Di}static from(e){switch(e.length){case 0:return We;case 1:return e[0];default:return new Yn(e.every(n=>n instanceof Te)?e:e.reduce((n,r)=>n.concat(r instanceof Te?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function qM(t,e,n,r,i,s,o){let l=t.slice();for(let u=0,c=s;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,p,h,m)=>{let v=m-h-(p-f);for(let g=0;g<l.length;g+=3){let y=l[g+1];if(y<0||f>y+c-d)continue;let x=l[g]+c-d;p>=x?l[g+1]=f<=x?-2:-1:f>=c&&v&&(l[g]+=v,l[g+1]+=v)}d+=v}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+s),d=c-i;if(d<0||d>=r.content.size){a=!0;continue}let f=n.map(t[u+1]+s,-1),p=f-i,{index:h,offset:m}=r.content.findIndex(d),v=r.maybeChild(h);if(v&&m==d&&m+v.nodeSize==p){let g=l[u+2].mapInner(n,v,c+1,t[u]+s+1,o);g!=We?(l[u]=d,l[u+1]=p,l[u+2]=g):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=JM(l,t,e,n,i,s,o),c=su(u,r,0,o);e=c.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let p=c.children[d];for(;f<l.length&&l[f]<p;)f+=3;l.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Te(e.sort(fi),l)}function rS(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Bt(i.from+e,i.to+e,i.type))}return n}function JM(t,e,n,r,i,s,o){function l(a,u){for(let c=0;c<a.local.length;c++){let d=a.local[c].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+s+1);return n}function iS(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function sS(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function su(t,e,n,r){let i=[],s=!1;e.forEach((l,a)=>{let u=iS(t,l,a+n);if(u){s=!0;let c=su(u,l,n+a+1,r);c!=We&&i.push(a,a+l.nodeSize,c)}});let o=rS(s?sS(t):t,-n).sort(fi);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new Te(o,i):We}function fi(t,e){return t.from-e.from||t.to-e.to}function Vp(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Fy(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Fy(e,i,r.copy(s.from,r.to)));break}}}return e}function Fy(t,e,n){for(;e<t.length&&fi(n,t[e])>0;)e++;t.splice(e,0,n)}function gd(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=We&&e.push(r)}),t.cursorWrapper&&e.push(Te.create(t.state.doc,[t.cursorWrapper.deco])),Yn.from(e)}const QM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},GM=vt&&kr<=11;class YM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class XM{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new YM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);vt&&kr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),GM&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,QM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ay(this.view)){if(this.suppressingSelectionUpdates)return Dn(this.view);if(vt&&kr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ki(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Jo(s))n.add(s);for(let s=e.anchorNode;s;s=Jo(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ay(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],a);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(l=!0))}if(on&&a.length){let c=a.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||tA(e,d)!=p)&&f.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&mc(r)&&(u=Fp(e))&&u.eq(W.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Dn(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),ZM(e)),this.handleDOMChange(s,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Dn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let d=e.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(vt&&kr<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?ze(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),a=s&&s.parentNode==e.target?ze(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let By=new WeakMap,_y=!1;function ZM(t){if(!By.has(t)&&(By.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=on,_y)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_y=!0}}function $y(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return ki(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function eA(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return $y(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?$y(t,n):null}function tA(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function nA(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],mc(a)||u.push({node:a.focusNode,offset:a.focusOffset})),qe&&t.input.lastKeyCode===8)for(let v=s;v>i;v--){let g=r.childNodes[v-1],y=g.pmViewDesc;if(g.nodeName=="BR"&&!y){s=v;break}if(!y||y.size)break}let d=t.state.doc,f=t.someProp("domParser")||Sr.fromSchema(t.state.schema),p=d.resolve(o),h=null,m=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:rA,context:p});if(u&&u[0].pos!=null){let v=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=v),h={anchor:v+o,head:g+o}}return{doc:m,sel:h,from:o,to:l}}function rA(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(tt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||tt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const iA=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function sA(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=Fp(t,A);if(z&&!t.state.selection.eq(z)){if(qe&&Zt&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",be=>be(t,Hr(13,"Enter"))))return;let G=t.state.tr.setSelection(z);A=="pointer"?G.setMeta("pointer",!0):A=="key"&&G.scrollIntoView(),s&&G.setMeta("composition",s),t.dispatch(G)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(n);e=o.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=nA(t,e,n),c=t.state.doc,d=c.slice(u.from,u.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=aA(d.content,u.doc.content,u.from,f,p);if(h&&t.input.domChangeCount++,(Rs&&t.input.lastIOSEnter>Date.now()-225||Zt)&&i.some(A=>A.nodeType==1&&!iA.test(A.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",A=>A(t,Hr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof H&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let A=Hy(t,t.state.doc,u.sel);if(A&&!A.eq(t.state.selection)){let z=t.state.tr.setSelection(A);s&&z.setMeta("composition",s),t.dispatch(z)}}return}t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof H&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),vt&&kr<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)==" "&&(h.start--,h.endA--,h.endB--);let m=u.doc.resolveNoCache(h.start-u.from),v=u.doc.resolveNoCache(h.endB-u.from),g=c.resolve(h.start),y=m.sameParent(v)&&m.parent.inlineContent&&g.end()>=h.endA,x;if((Rs&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!y&&m.pos<u.doc.content.size&&!m.sameParent(v)&&(x=W.findFrom(u.doc.resolve(m.pos+1),1,!0))&&x.head==v.pos)&&t.someProp("handleKeyDown",A=>A(t,Hr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&lA(c,h.start,h.endA,m,v)&&t.someProp("handleKeyDown",A=>A(t,Hr(8,"Backspace")))){Zt&&qe&&t.domObserver.suppressSelectionUpdates();return}qe&&Zt&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),Zt&&!y&&m.start()!=v.start()&&v.parentOffset==0&&m.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,v=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,Hr(13,"Enter"))})},20));let k=h.start,b=h.endA,C,O,M;if(y){if(m.pos==v.pos)vt&&kr<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Dn(t),20)),C=t.state.tr.delete(k,b),O=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(M=oA(m.parent.content.cut(m.parentOffset,v.parentOffset),g.parent.content.cut(g.parentOffset,h.endA-g.start()))))C=t.state.tr,M.type=="add"?C.addMark(k,b,M.mark):C.removeMark(k,b,M.mark);else if(m.parent.child(m.index()).isText&&m.index()==v.index()-(v.textOffset?0:1)){let A=m.parent.textBetween(m.parentOffset,v.parentOffset);if(t.someProp("handleTextInput",z=>z(t,k,b,A)))return;C=t.state.tr.insertText(A,k,b)}}if(C||(C=t.state.tr.replace(k,b,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let A=Hy(t,C.doc,u.sel);A&&!(qe&&Zt&&t.composing&&A.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(A.head==k||A.head==C.mapping.map(b)-1)||vt&&A.empty&&A.head==k)&&C.setSelection(A)}O&&C.ensureMarks(O),s&&C.setMeta("composition",s),t.dispatch(C.scrollIntoView())}function Hy(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Bp(t,e.resolve(n.anchor),e.resolve(n.head))}function oA(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&s.length==1)l=s[0],o="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(R.from(u).eq(t))return{mark:l,type:o}}function lA(t,e,n,r,i){if(n-e<=i.pos-r.pos||yd(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(yd(s,!0,!0));return!o.parent.isTextblock||o.pos>n||yd(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function yd(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function aA(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,s-Math.min(o,l));r-=o+a-s}if(o<s&&t.size<e.size){let a=r<=s&&r>=o?s-r:0;s-=a,s&&s<e.size&&Uy(e.textBetween(s-1,s+1))&&(s+=a?1:-1),l=s+(l-o),o=s}else if(l<s){let a=r<=s&&r>=l?s-r:0;s-=a,s&&s<t.size&&Uy(t.textBetween(s-1,s+1))&&(s+=a?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function Uy(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class uA{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new OM,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Jy),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ky(this),Wy(this),this.nodeViews=qy(this),this.docView=by(this.state.doc,Vy(this),gd(this),this.dom,this),this.domObserver=new XM(this,(r,i,s,o)=>sA(this,r,i,s,o)),this.domObserver.start(),MM(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ch(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Jy),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(Zw(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=qy(this);dA(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&ch(this),this.editable=Ky(this),Wy(this);let a=gd(this),u=Vy(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,u,a);(d||!e.selection.eq(i.selection))&&(o=!0);let f=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&U2(this);if(o){this.domObserver.stop();let p=d&&(vt||qe)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&cA(i.selection,e.selection);if(d){let h=qe?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=HM(this)),(s||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=by(e.doc,u,a,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&hM(this))?Dn(this,p):(_w(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&V2(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof _){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&vy(this,n.getBoundingClientRect(),e)}else vy(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new tS(e.slice,e.move,i<0?void 0:_.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(vt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&W2(this.dom),Dn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return G2(this,e)}coordsAtPos(e,n=1){return Pw(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return tM(this,n||this.state,e)}pasteHTML(e,n){return Go(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Go(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(AM(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],gd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,P2())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return PM(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?tt&&this.root.nodeType===11&&z2(this.dom.ownerDocument)==this.dom&&eA(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Vy(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Bt.node(0,t.state.doc.content.size,e)]}function Wy(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Bt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Ky(t){return!t.someProp("editable",e=>e(t.state)===!1)}function cA(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function qy(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function dA(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Jy(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Nr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ou={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},fA=typeof navigator<"u"&&/Mac/.test(navigator.platform),hA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Fe=0;Fe<10;Fe++)Nr[48+Fe]=Nr[96+Fe]=String(Fe);for(var Fe=1;Fe<=24;Fe++)Nr[Fe+111]="F"+Fe;for(var Fe=65;Fe<=90;Fe++)Nr[Fe]=String.fromCharCode(Fe+32),ou[Fe]=String.fromCharCode(Fe);for(var vd in Nr)ou.hasOwnProperty(vd)||(ou[vd]=Nr[vd]);function pA(t){var e=fA&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||hA&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ou:Nr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const mA=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function gA(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))mA?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function yA(t){let e=Object.create(null);for(let n in t)e[gA(n)]=t[n];return e}function xd(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function vA(t){return new $e({props:{handleKeyDown:oS(t)}})}function oS(t){let e=yA(t);return function(n,r){let i=pA(r),s,o=e[xd(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[xd(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Nr[r.keyCode])&&s!=i){let l=e[xd(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const xA=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function lS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const wA=(t,e,n)=>{let r=lS(t,n);if(!r)return!1;let i=Wp(r);if(!i){let o=r.blockRange(),l=o&&_s(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(dS(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ps(s,"end")||_.isSelectable(s)))for(let o=r.depth;;o--){let l=hc(t.doc,r.before(o),r.after(o),I.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=t.tr.step(l);a.setSelection(Ps(s,"end")?W.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):_.create(a.doc,i.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},SA=(t,e,n)=>{let r=lS(t,n);if(!r)return!1;let i=Wp(r);return i?aS(t,i,e):!1},kA=(t,e,n)=>{let r=uS(t,n);if(!r)return!1;let i=Kp(r);return i?aS(t,i,e):!1};function aS(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=e.nodeAfter,l=o,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let c=l.firstChild;if(!c)return!1;l=c}let u=hc(t.doc,s,a,I.empty);if(!u||u.from!=s||u instanceof Me&&u.slice.size>=a-s)return!1;if(n){let c=t.tr.step(u);c.setSelection(H.create(c.doc,s)),n(c.scrollIntoView())}return!0}function Ps(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const CA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=Wp(r)}let o=s&&s.nodeBefore;return!o||!_.isSelectable(o)?!1:(e&&e(t.tr.setSelection(_.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Wp(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function uS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const bA=(t,e,n)=>{let r=uS(t,n);if(!r)return!1;let i=Kp(r);if(!i)return!1;let s=i.nodeAfter;if(dS(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ps(s,"start")||_.isSelectable(s))){let o=hc(t.doc,r.before(),r.after(),I.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Ps(s,"start")?W.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):_.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},EA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=Kp(r)}let o=s&&s.nodeAfter;return!o||!_.isSelectable(o)?!1:(e&&e(t.tr.setSelection(_.create(t.doc,s.pos)).scrollIntoView()),!0)};function Kp(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const TA=(t,e)=>{let n=t.selection,r=n instanceof _,i;if(r){if(n.node.isTextblock||!Ir(t.doc,n.from))return!1;i=n.from}else if(i=fc(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(_.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},NA=(t,e)=>{let n=t.selection,r;if(n instanceof _){if(n.node.isTextblock||!Ir(t.doc,n.to))return!1;r=n.to}else if(r=fc(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},OA=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&_s(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},MA=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function cS(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const AA=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=cS(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,o.createAndFill());a.setSelection(W.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},RA=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof rn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=cS(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(o,s.createAndFill());l.setSelection(H.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},PA=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(rs(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&_s(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},DA=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(_.create(t.doc,i))),!0)};function IA(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Ir(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function dS(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,l,a=i.type.spec.isolating||s.type.spec.isolating;if(!a&&IA(t,e,n))return!0;let u=!a&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,h=R.empty;for(let g=o.length-1;g>=0;g--)h=R.from(o[g].create(null,h));h=R.from(i.copy(h));let m=t.tr.step(new Re(e.pos-1,p,e.pos,p,new I(h,1,0),o.length,!0)),v=m.doc.resolve(p+2*o.length);v.nodeAfter&&v.nodeAfter.type==i.type&&Ir(m.doc,v.pos)&&m.join(v.pos),n(m.scrollIntoView())}return!0}let c=s.type.spec.isolating||r>0&&a?null:W.findFrom(e,1),d=c&&c.$from.blockRange(c.$to),f=d&&_s(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(u&&Ps(s,"start",!0)&&Ps(i,"end")){let p=i,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let m=s,v=1;for(;!m.isTextblock;m=m.firstChild)v++;if(p.canReplace(p.childCount,p.childCount,m.content)){if(n){let g=R.empty;for(let x=h.length-1;x>=0;x--)g=R.from(h[x].copy(g));let y=t.tr.step(new Re(e.pos-h.length,e.pos+s.nodeSize,e.pos+v,e.pos+s.nodeSize-v,new I(g,h.length,0),0,!0));n(y.scrollIntoView())}return!0}}return!1}function fS(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(H.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const LA=fS(-1),jA=fS(1);function zA(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),l=o&&Lp(o,t,e);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function Qy(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(o,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[o];s.setBlockType(l,a,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function FA(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),l=!1,a=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let c=n.doc.resolve(o.start-2);a=new Ya(c,c,o.depth),o.endIndex<o.parent.childCount&&(o=new Ya(i,n.doc.resolve(s.end(o.depth)),o.depth)),l=!0}let u=Lp(a,t,e,o);return u?(r&&r(BA(n.tr,o,u,l,t).scrollIntoView()),!0):!1}}function BA(t,e,n,r,i){let s=R.empty;for(let c=n.length-1;c>=0;c--)s=R.from(n[c].type.create(n[c].attrs,s));t.step(new Re(e.start-(r?2:0),e.end,e.start,e.end,new I(s,0,0),n.length,!0));let o=0;for(let c=0;c<n.length;c++)n[c].type==i&&(o=c+1);let l=n.length-o,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&rs(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function _A(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?$A(e,n,t,s):HA(e,n,s):!0:!1}}function $A(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Re(s-1,o,s,o,new I(R.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Ya(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=_s(r);if(l==null)return!1;i.lift(r,l);let a=i.mapping.map(s,-1)-1;return Ir(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function HA(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,h=n.endIndex-1,m=n.startIndex;h>m;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=s.node(-1),c=s.index(-1);if(!u.canReplace(c+(l?0:1),c+1,o.content.append(a?R.empty:R.from(i))))return!1;let d=s.pos,f=d+o.nodeSize;return r.step(new Re(d-(l?1:0),f+(a?1:0),d+1,f-1,new I((l?R.empty:R.from(i.copy(R.empty))).append(a?R.empty:R.from(i.copy(R.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function UA(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,a=l.child(o-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=R.from(u?t.create():null),d=new I(R.from(t.create(null,R.from(l.type.create(null,c)))),u?3:1,0),f=s.start,p=s.end;n(e.tr.step(new Re(f-(u?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}function vc(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class xc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const d=a(...c)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l=[],a=!!e,u=e||s.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...m)=>{const v=this.buildProps(u,n),g=p(...m)(v);return l.push(g),d}])),run:c};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l={tr:e,editor:i,view:o,state:vc({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class VA{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function F(t,e,n){return t.config[e]===void 0&&t.parent?F(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?F(t.parent,e,n):null}):t.config[e]}function wc(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function hS(t){const e=[],{nodeExtensions:n,markExtensions:r}=wc(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:i},a=F(o,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...s,...p}})})})})}),i.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=F(o,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,d])=>{const f={...s,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:c,attribute:f})})}),e}function De(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function we(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?s.split(" "):[],a=r[i]?r[i].split(" "):[],u=l.filter(c=>!a.includes(c));r[i]=[...a,...u].join(" ")}else if(i==="style"){const l=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],a=r[i]?r[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;a.forEach(c=>{const[d,f]=c.split(":").map(p=>p.trim());u.set(d,f)}),l.forEach(c=>{const[d,f]=c.split(":").map(p=>p.trim());u.set(d,f)}),r[i]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else r[i]=s}),r},{})}function dh(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>we(n,r),{})}function pS(t){return typeof t=="function"}function J(t,e=void 0,...n){return pS(t)?e?t.bind(e)(...n):t(...n):t}function WA(t={}){return Object.keys(t).length===0&&t.constructor===Object}function KA(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Gy(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):KA(n.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...r,...i}}}}function Yy(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&WA(n)?!1:n!=null))}function qA(t,e){var n;const r=hS(t),{nodeExtensions:i,markExtensions:s}=wc(t),o=(n=i.find(u=>F(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(u=>{const c=r.filter(g=>g.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((g,y)=>{const x=F(y,"extendNodeSchema",d);return{...g,...x?x(u):{}}},{}),p=Yy({...f,content:J(F(u,"content",d)),marks:J(F(u,"marks",d)),group:J(F(u,"group",d)),inline:J(F(u,"inline",d)),atom:J(F(u,"atom",d)),selectable:J(F(u,"selectable",d)),draggable:J(F(u,"draggable",d)),code:J(F(u,"code",d)),whitespace:J(F(u,"whitespace",d)),defining:J(F(u,"defining",d)),isolating:J(F(u,"isolating",d)),attrs:Object.fromEntries(c.map(g=>{var y;return[g.name,{default:(y=g==null?void 0:g.attribute)===null||y===void 0?void 0:y.default}]}))}),h=J(F(u,"parseHTML",d));h&&(p.parseDOM=h.map(g=>Gy(g,c)));const m=F(u,"renderHTML",d);m&&(p.toDOM=g=>m({node:g,HTMLAttributes:dh(g,c)}));const v=F(u,"renderText",d);return v&&(p.toText=v),[u.name,p]})),a=Object.fromEntries(s.map(u=>{const c=r.filter(v=>v.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((v,g)=>{const y=F(g,"extendMarkSchema",d);return{...v,...y?y(u):{}}},{}),p=Yy({...f,inclusive:J(F(u,"inclusive",d)),excludes:J(F(u,"excludes",d)),group:J(F(u,"group",d)),spanning:J(F(u,"spanning",d)),code:J(F(u,"code",d)),attrs:Object.fromEntries(c.map(v=>{var g;return[v.name,{default:(g=v==null?void 0:v.attribute)===null||g===void 0?void 0:g.default}]}))}),h=J(F(u,"parseHTML",d));h&&(p.parseDOM=h.map(v=>Gy(v,c)));const m=F(u,"renderHTML",d);return m&&(p.toDOM=v=>m({mark:v,HTMLAttributes:dh(v,c)})),[u.name,p]}));return new lw({topNode:o,nodes:l,marks:a})}function wd(t,e){return e.nodes[t]||e.marks[t]||null}function Xy(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const JA=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,l)=>{var a,u;const c=((u=(a=i.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:i,pos:s,parent:o,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-s))}),n};function qp(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Sc{constructor(e){this.find=e.find,this.handler=e.handler}}const QA=(t,e)=>{if(qp(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Ul(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=JA(u)+s;return o.forEach(f=>{if(c)return;const p=QA(d,f.find);if(!p)return;const h=a.state.tr,m=vc({state:a.state,transaction:h}),v={from:r-(p[0].length-s.length),to:i},{commands:g,chain:y,can:x}=new xc({editor:n,state:m});f.handler({state:m,range:v,match:p,commands:g,chain:y,can:x})===null||!h.steps.length||(h.setMeta(l,{transform:h,from:r,to:i,text:s}),a.dispatch(h),c=!0)}),c}function GA(t){const{editor:e,rules:n}=t,r=new $e({state:{init(){return null},apply(i,s){const o=i.getMeta(r);if(o)return o;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{const{from:u,text:c}=l,d=u+c.length;Ul({editor:e,from:u,to:d,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,l){return Ul({editor:e,from:s,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Ul({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Ul({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function YA(t){return Object.prototype.toString.call(t).slice(8,-1)}function Vl(t){return YA(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function kc(t,e){const n={...t};return Vl(t)&&Vl(e)&&Object.keys(e).forEach(r=>{Vl(e[r])&&Vl(t[r])?n[r]=kc(t[r],e[r]):n[r]=e[r]}),n}class Vt{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=J(F(this,"addOptions",{name:this.name}))),this.storage=J(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Vt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>kc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Vt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=J(F(n,"addOptions",{name:n.name})),n.storage=J(F(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=o.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function XA(t){return typeof t=="number"}class ZA{constructor(e){this.find=e.find,this.handler=e.handler}}const eR=(t,e,n)=>{if(qp(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function tR(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:l}=t,{commands:a,chain:u,can:c}=new xc({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(p,h)=>{if(!p.isTextblock||p.type.spec.code)return;const m=Math.max(r,h),v=Math.min(i,h+p.content.size),g=p.textBetween(m-h,v-h,void 0,"");eR(g,s.find,o).forEach(x=>{if(x.index===void 0)return;const k=m+x.index+1,b=k+x[0].length,C={from:n.tr.mapping.map(k),to:n.tr.mapping.map(b)},O=s.handler({state:n,range:C,match:x,commands:a,chain:u,can:c,pasteEvent:o,dropEvent:l});d.push(O)})}),d.every(p=>p!==null)}const nR=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function rR(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;const a=({state:c,from:d,to:f,rule:p,pasteEvt:h})=>{const m=c.tr,v=vc({state:c,transaction:m});if(!(!tR({editor:e,state:v,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:h,dropEvent:l})||!m.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m};return n.map(c=>new $e({view(d){const f=p=>{var h;r=!((h=d.dom.parentElement)===null||h===void 0)&&h.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(s=r===d.dom.parentElement,l=f,!1),paste:(d,f)=>{var p;const h=(p=f.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=f,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const h=d[0],m=h.getMeta("uiEvent")==="paste"&&!i,v=h.getMeta("uiEvent")==="drop"&&!s,g=h.getMeta("applyPasteRules"),y=!!g;if(!m&&!v&&!y)return;if(y){const{from:b,text:C}=g,O=b+C.length,M=nR(C);return a({rule:c,state:p,from:b,to:{b:O},pasteEvt:M})}const x=f.doc.content.findDiffStart(p.doc.content),k=f.doc.content.findDiffEnd(p.doc.content);if(!(!XA(x)||!k||x===k.b))return a({rule:c,state:p,from:x,to:k,pasteEvt:o})}}))}function iR(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Ji{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Ji.resolve(e),this.schema=qA(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Ji.sort(Ji.flatten(e)),r=iR(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=F(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=F(r,"priority")||100,o=F(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:wd(n.name,this.schema)},i=F(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Ji.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:wd(o.name,this.schema)},a=[],u=F(o,"addKeyboardShortcuts",l);let c={};if(o.type==="mark"&&F(o,"exitable",l)&&(c.ArrowRight=()=>Vt.handleExit({editor:e,mark:o})),u){const m=Object.fromEntries(Object.entries(u()).map(([v,g])=>[v,()=>g({editor:e})]));c={...c,...m}}const d=vA(c);a.push(d);const f=F(o,"addInputRules",l);Xy(o,e.options.enableInputRules)&&f&&r.push(...f());const p=F(o,"addPasteRules",l);Xy(o,e.options.enablePasteRules)&&p&&i.push(...p());const h=F(o,"addProseMirrorPlugins",l);if(h){const m=h();a.push(...m)}return a}).flat();return[GA({editor:e,rules:r}),...rR({editor:e,rules:i}),...s]}get attributes(){return hS(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=wc(this.extensions);return Object.fromEntries(n.filter(r=>!!F(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:De(r.name,this.schema)},o=F(r,"addNodeView",s);if(!o)return[];const l=(a,u,c,d,f)=>{const p=dh(a,i);return o()({node:a,view:u,getPos:c,decorations:d,innerDecorations:f,editor:e,extension:r,HTMLAttributes:p})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:wd(e.name,this.schema)};e.type==="mark"&&(!((n=J(F(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=F(e,"onBeforeCreate",r),s=F(e,"onCreate",r),o=F(e,"onUpdate",r),l=F(e,"onSelectionUpdate",r),a=F(e,"onTransaction",r),u=F(e,"onFocus",r),c=F(e,"onBlur",r),d=F(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class Qe{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=J(F(this,"addOptions",{name:this.name}))),this.storage=J(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Qe(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>kc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Qe({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=J(F(n,"addOptions",{name:n.name})),n.storage=J(F(n,"addStorage",{name:n.name,options:n.options})),n}}function mS(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let l="";return t.nodesBetween(r,i,(a,u,c,d)=>{var f;a.isBlock&&u>r&&(l+=s);const p=o==null?void 0:o[a.type.name];if(p)return c&&(l+=p({node:a,pos:u,parent:c,index:d,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(r,u)-u,i-u))}),l}function gS(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const sR=Qe.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new $e({key:new Mt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(c=>c.$from.pos)),l=Math.max(...s.map(c=>c.$to.pos)),a=gS(n);return mS(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),oR=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),lR=(t=!1)=>({commands:e})=>e.setContent("",t),aR=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(a)),f=u.resolve(c.map(a+l.nodeSize)),p=d.blockRange(f);if(!p)return;const h=_s(p);if(l.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,m)}(h||h===0)&&e.lift(p,h)})}),!0},uR=t=>e=>t(e),cR=()=>({state:t,dispatch:e})=>RA(t,e),dR=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new H(r.doc.resolve(o-1))),!0},fR=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),a=i.after(s);t.delete(l,a).scrollIntoView()}return!0}return!1},hR=t=>({tr:e,state:n,dispatch:r})=>{const i=De(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const a=s.before(o),u=s.after(o);e.delete(a,u).scrollIntoView()}return!0}return!1},pR=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},mR=()=>({state:t,dispatch:e})=>xA(t,e),gR=()=>({commands:t})=>t.keyboardShortcut("Enter"),yR=()=>({state:t,dispatch:e})=>AA(t,e);function lu(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:qp(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function fh(t,e,n={}){return t.find(r=>r.type===e&&lu(r.attrs,n))}function vR(t,e,n={}){return!!fh(t,e,n)}function Jp(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e))return;const i=fh([...r.node.marks],e,n);if(!i)return;let s=r.index,o=t.start()+r.offset,l=s+1,a=o+r.node.nodeSize;for(fh([...r.node.marks],e,n);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&vR([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:a}}function jr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const xR=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=jr(t,r.schema),{doc:o,selection:l}=n,{$from:a,from:u,to:c}=l;if(i){const d=Jp(a,s,e);if(d&&d.from<=u&&d.to>=c){const f=H.create(o,d.from,d.to);n.setSelection(f)}}return!0},wR=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function yS(t){return t instanceof H}function Gr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function vS(t,e=null){if(!e)return null;const n=W.atStart(t),r=W.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?H.create(t,Gr(0,i,s),Gr(t.content.size,i,s)):H.create(t,Gr(e,i,s),Gr(e,i,s))}function Qp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const SR=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{Qp()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!yS(n.state.selection))return o(),!0;const l=vS(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return s&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},kR=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),CR=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),xS=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&xS(r)}return t};function Wl(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return xS(n)}function au(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return R.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),au("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,l="";const a=new lw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Sr.fromSchema(a).parseSlice(Wl(t),n.parseOptions):Sr.fromSchema(a).parse(Wl(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Sr.fromSchema(e);return n.slice?s.parseSlice(Wl(t),n.parseOptions).content:s.parse(Wl(t),n.parseOptions)}return au("",e,n)}function bR(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Me||i instanceof Re))return;const s=t.mapping.maps[r];let o=0;s.forEach((l,a,u,c)=>{o===0&&(o=c)}),t.setSelection(W.near(t.doc.resolve(o),n))}const ER=t=>!("type"in t),TR=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=au(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(h){return s.emit("contentError",{editor:s,error:h,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:a,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,d=!0;if((ER(l)?l:[l]).forEach(h=>{h.check(),c=c?h.isText&&h.marks.length===0:!1,d=d?h.isBlock:!1}),a===u&&d){const{parent:h}=r.doc.resolve(a);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(a-=1,u+=1)}let p;c?(Array.isArray(e)?p=e.map(h=>h.text||"").join(""):typeof e=="object"&&e&&e.text?p=e.text:p=e,r.insertText(p,a,u)):(p=l,r.replaceWith(a,u,p)),n.updateSelection&&bR(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:a,text:p}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:a,text:p})}return!0},NR=()=>({state:t,dispatch:e})=>TA(t,e),OR=()=>({state:t,dispatch:e})=>NA(t,e),MR=()=>({state:t,dispatch:e})=>wA(t,e),AR=()=>({state:t,dispatch:e})=>bA(t,e),RR=()=>({state:t,dispatch:e,tr:n})=>{try{const r=fc(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},PR=()=>({state:t,dispatch:e,tr:n})=>{try{const r=fc(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},DR=()=>({state:t,dispatch:e})=>SA(t,e),IR=()=>({state:t,dispatch:e})=>kA(t,e);function wS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function LR(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))Qp()||wS()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const jR=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=LR(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function Xo(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?De(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),h=Math.min(i,f+d.nodeSize);l.push({node:d,from:p,to:h})});const a=i-r,u=l.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>lu(d.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=a}const zR=(t,e={})=>({state:n,dispatch:r})=>{const i=De(t,n.schema);return Xo(n,i,e)?OA(n,r):!1},FR=()=>({state:t,dispatch:e})=>PA(t,e),BR=t=>({state:e,dispatch:n})=>{const r=De(t,e.schema);return _A(r)(e,n)},_R=()=>({state:t,dispatch:e})=>MA(t,e);function Cc(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Zy(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const $R=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=Cc(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=De(t,r.schema)),l==="mark"&&(o=jr(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{s&&s===u.type&&n.setNodeMarkup(c,void 0,Zy(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(d=>{o===d.type&&n.addMark(c,c+u.nodeSize,o.create(Zy(d.attrs,e)))})})}),!0):!1},HR=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),UR=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),VR=()=>({state:t,dispatch:e})=>CA(t,e),WR=()=>({state:t,dispatch:e})=>EA(t,e),KR=()=>({state:t,dispatch:e})=>DA(t,e),qR=()=>({state:t,dispatch:e})=>jA(t,e),JR=()=>({state:t,dispatch:e})=>LA(t,e);function hh(t,e,n={},r={}){return au(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const QR=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:l})=>{var a,u;const{doc:c}=s;if(n.preserveWhitespace!=="full"){const d=hh(t,i.schema,n,{errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck});return o&&s.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function Gp(t,e){const n=jr(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{o.push(...a.marks)});const l=o.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function GR(t,e){const n=new Cw(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function YR(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function XR(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function ZR(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Yp(t){return e=>ZR(e.$from,t)}function eP(t,e){const n=Ni.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function tP(t,e){const n={from:0,to:t.content.size};return mS(t,n,e)}function nP(t,e){const n=De(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function SS(t,e){const n=Cc(typeof e=="string"?e:e.name,t.schema);return n==="node"?nP(t,e):n==="mark"?Gp(t,e):{}}function rP(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function iP(t){const e=rP(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function sP(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((l,a)=>{o.push({from:l,to:a})});else{const{from:l,to:a}=n[s];if(l===void 0||a===void 0)return;o.push({from:l,to:a})}o.forEach(({from:l,to:a})=>{const u=e.slice(s).map(l,-1),c=e.slice(s).map(a),d=e.invert().map(u,-1),f=e.invert().map(c);r.push({oldRange:{from:d,to:f},newRange:{from:u,to:c}})})}),iP(r)}function Xp(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=Jp(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function ha(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function ph(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?jr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>lu(d.attrs,n,{strict:!1}));let o=0;const l=[];if(i.forEach(({$from:d,$to:f})=>{const p=d.pos,h=f.pos;t.doc.nodesBetween(p,h,(m,v)=>{if(!m.isText&&!m.marks.length)return;const g=Math.max(p,v),y=Math.min(h,v+m.nodeSize),x=y-g;o+=x,l.push(...m.marks.map(k=>({mark:k,from:g,to:y})))})}),o===0)return!1;const a=l.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>lu(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=l.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+u:a)>=o}function oP(t,e,n={}){if(!e)return Xo(t,null,n)||ph(t,null,n);const r=Cc(e,t.schema);return r==="node"?Xo(t,e,n):r==="mark"?ph(t,e,n):!1}function e0(t,e){const{nodeExtensions:n}=wc(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=J(F(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Zp(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Zp(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function lP(t){return t instanceof _}function aP(t,e,n){var r;const{selection:i}=e;let s=null;if(yS(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const p=!f||f.type.allowsMarkType(n),h=!!n.isInSet(c.marks)||!c.marks.some(m=>m.type.excludes(n));u=p&&h}return!u}),u})}const uP=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:l}=s,a=jr(t,r.schema);if(i)if(o){const u=Gp(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,p)=>{const h=Math.max(p,c),m=Math.min(p+f.nodeSize,d);f.marks.find(g=>g.type===a)?f.marks.forEach(g=>{a===g.type&&n.addMark(h,m,a.create({...g.attrs,...e}))}):n.addMark(h,m,a.create(e))})});return aP(r,n,a)},cP=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),dP=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=De(t,n.schema);return s.isTextblock?i().command(({commands:o})=>Qy(s,e)(n)?!0:o.clearNodes()).command(({state:o})=>Qy(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},fP=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Gr(t,0,r.content.size),s=_.create(r,i);e.setSelection(s)}return!0},hP=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=H.atStart(r).from,l=H.atEnd(r).to,a=Gr(i,o,l),u=Gr(s,o,l),c=H.create(r,a,u);e.setSelection(c)}return!0},pP=t=>({state:e,dispatch:n})=>{const r=De(t,e.schema);return UA(r)(e,n)};function t0(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const mP=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:l,$to:a}=s,u=i.extensionManager.attributes,c=ha(u,l.node().type.name,l.node().attrs);if(s instanceof _&&s.node.isBlock)return!l.parentOffset||!rs(o,l.pos)?!1:(r&&(t&&t0(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=a.parentOffset===a.parent.content.size,f=l.depth===0?void 0:YR(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=d&&f?[{type:f,attrs:c}]:void 0,h=rs(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!h&&rs(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(h=!0,p=f?[{type:f,attrs:c}]:void 0),r){if(h&&(s instanceof H&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,p),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const m=e.mapping.map(l.before()),v=e.doc.resolve(m);l.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&t0(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return h},gP=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const l=De(t,r.schema),{$from:a,$to:u}=r.selection,c=r.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(u))return!1;const d=a.node(-1);if(d.type!==l)return!1;const f=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(i){let g=R.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let M=a.depth-y;M>=a.depth-3;M-=1)g=R.from(a.node(M).copy(g));const x=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,k={...ha(f,a.node().type.name,a.node().attrs),...e},b=((o=l.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(k))||void 0;g=g.append(R.from(l.createAndFill(null,b)||void 0));const C=a.before(a.depth-(y-1));n.replace(C,a.after(-x),new I(g,4-y,0));let O=-1;n.doc.nodesBetween(C,n.doc.content.size,(M,A)=>{if(O>-1)return!1;M.isTextblock&&M.content.size===0&&(O=A+1)}),O>-1&&n.setSelection(H.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const p=u.pos===a.end()?d.contentMatchAt(0).defaultType:null,h={...ha(f,d.type.name,d.attrs),...e},m={...ha(f,a.node().type.name,a.node().attrs),...e};n.delete(a.pos,u.pos);const v=p?[{type:l,attrs:h},{type:p,attrs:m}]:[{type:l,attrs:h}];if(!rs(n.doc,a.pos,2))return!1;if(i){const{selection:g,storedMarks:y}=r,{splittableMarks:x}=s.extensionManager,k=y||g.$to.parentOffset&&g.$from.marks();if(n.split(a.pos,2,v).scrollIntoView(),!k||!i)return!0;const b=k.filter(C=>x.includes(C.type.name));n.ensureMarks(b)}return!0},Sd=(t,e)=>{const n=Yp(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Ir(t.doc,n.pos)&&t.join(n.pos),!0},kd=(t,e)=>{const n=Yp(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Ir(t.doc,r)&&t.join(r),!0},yP=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,p=De(t,o.schema),h=De(e,o.schema),{selection:m,storedMarks:v}=o,{$from:g,$to:y}=m,x=g.blockRange(y),k=v||m.$to.parentOffset&&m.$from.marks();if(!x)return!1;const b=Yp(C=>e0(C.type.name,d))(m);if(x.depth>=1&&b&&x.depth-b.depth<=1){if(b.node.type===p)return u.liftListItem(h);if(e0(b.node.type.name,d)&&p.validContent(b.node.content)&&l)return a().command(()=>(s.setNodeMarkup(b.pos,p),!0)).command(()=>Sd(s,p)).command(()=>kd(s,p)).run()}return!n||!k||!l?a().command(()=>c().wrapInList(p,r)?!0:u.clearNodes()).wrapInList(p,r).command(()=>Sd(s,p)).command(()=>kd(s,p)).run():a().command(()=>{const C=c().wrapInList(p,r),O=k.filter(M=>f.includes(M.type.name));return s.ensureMarks(O),C?!0:u.clearNodes()}).wrapInList(p,r).command(()=>Sd(s,p)).command(()=>kd(s,p)).run()},vP=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=jr(t,r.schema);return ph(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},xP=(t,e,n={})=>({state:r,commands:i})=>{const s=De(t,r.schema),o=De(e,r.schema),l=Xo(r,s,n);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),l?i.setNode(o,a):i.setNode(s,{...a,...n})},wP=(t,e={})=>({state:n,commands:r})=>{const i=De(t,n.schema);return Xo(n,i,e)?r.lift(i):r.wrapIn(i,e)},SP=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,l=s.transform;for(let a=l.steps.length-1;a>=0;a-=1)o.step(l.steps[a].invert(l.docs[a]));if(s.text){const a=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,a))}else o.delete(s.from,s.to)}return!0}}return!1},kP=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},CP=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,a=jr(t,r.schema),{$from:u,empty:c,ranges:d}=l;if(!i)return!0;if(c&&o){let{from:f,to:p}=l;const h=(s=u.marks().find(v=>v.type===a))===null||s===void 0?void 0:s.attrs,m=Jp(u,a,h);m&&(f=m.from,p=m.to),n.removeMark(f,p,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},bP=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=Cc(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=De(t,r.schema)),l==="mark"&&(o=jr(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;r.doc.nodesBetween(u,c,(d,f)=>{s&&s===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(p=>{if(o===p.type){const h=Math.max(f,u),m=Math.min(f+d.nodeSize,c);n.addMark(h,m,o.create({...p.attrs,...e}))}})})}),!0):!1},EP=(t,e={})=>({state:n,dispatch:r})=>{const i=De(t,n.schema);return zA(i,e)(n,r)},TP=(t,e={})=>({state:n,dispatch:r})=>{const i=De(t,n.schema);return FA(i,e)(n,r)};var NP=Object.freeze({__proto__:null,blur:oR,clearContent:lR,clearNodes:aR,command:uR,createParagraphNear:cR,cut:dR,deleteCurrentNode:fR,deleteNode:hR,deleteRange:pR,deleteSelection:mR,enter:gR,exitCode:yR,extendMarkRange:xR,first:wR,focus:SR,forEach:kR,insertContent:CR,insertContentAt:TR,joinBackward:MR,joinDown:OR,joinForward:AR,joinItemBackward:RR,joinItemForward:PR,joinTextblockBackward:DR,joinTextblockForward:IR,joinUp:NR,keyboardShortcut:jR,lift:zR,liftEmptyBlock:FR,liftListItem:BR,newlineInCode:_R,resetAttributes:$R,scrollIntoView:HR,selectAll:UR,selectNodeBackward:VR,selectNodeForward:WR,selectParentNode:KR,selectTextblockEnd:qR,selectTextblockStart:JR,setContent:QR,setMark:uP,setMeta:cP,setNode:dP,setNodeSelection:fP,setTextSelection:hP,sinkListItem:pP,splitBlock:mP,splitListItem:gP,toggleList:yP,toggleMark:vP,toggleNode:xP,toggleWrap:wP,undoInputRule:SP,unsetAllMarks:kP,unsetMark:CP,updateAttributes:bP,wrapIn:EP,wrapInList:TP});const OP=Qe.create({name:"commands",addCommands(){return{...NP}}}),MP=Qe.create({name:"drop",addProseMirrorPlugins(){return[new $e({key:new Mt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),AP=Qe.create({name:"editable",addProseMirrorPlugins(){return[new $e({key:new Mt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),RP=Qe.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new $e({key:new Mt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),PP=Qe.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:d}=a,{pos:f,parent:p}=d,h=d.parent.isTextblock&&f>0?l.doc.resolve(f-1):d,m=h.parent.type.spec.isolating,v=d.pos-d.parentOffset,g=m&&h.parent.childCount===1?v===d.pos:W.atStart(u).from===f;return!c||!p.type.isTextblock||p.textContent.length||!g||g&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Qp()||wS()?s:i},addProseMirrorPlugins(){return[new $e({key:new Mt("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(m=>m.docChanged)&&!e.doc.eq(n.doc),i=t.some(m=>m.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:l}=e.selection,a=W.atStart(e.doc).from,u=W.atEnd(e.doc).to;if(s||!(o===a&&l===u)||!Zp(n.doc))return;const f=n.tr,p=vc({state:n,transaction:f}),{commands:h}=new xc({editor:this.editor,state:p});if(h.clearNodes(),!!f.steps.length)return f}})]}}),DP=Qe.create({name:"paste",addProseMirrorPlugins(){return[new $e({key:new Mt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),IP=Qe.create({name:"tabindex",addProseMirrorPlugins(){return[new $e({key:new Mt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ur{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ur(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ur(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ur(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1),l=this.resolvedPos.doc.resolve(o);if(!i&&l.depth<=this.depth)return;const a=new Ur(l,this.editor,i,i?n:null);i&&(a.actualDepth=this.depth+1),e.push(new Ur(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const a=o[l];if(s[a]!==n[a])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(a=>n[a]===o.node.attrs[a])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const LP=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function jP(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class zP extends VA{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=jP(LP,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=pS(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=n.filter(l=>!l.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[AP,sR.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),OP,RP,PP,IP,MP,DP].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Ji(i,this)}createCommandManager(){this.commandManager=new xc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=hh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=hh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=vS(e,this.options.autofocus);this.view=new uA(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:qi.create({doc:e,selection:n||void 0})}),this.view.dom.setAttribute("role","textbox"),this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return SS(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return oP(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return eP(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return tP(this.state.doc,{blockSeparator:n,textSerializers:{...gS(this.schema),...r}})}get isEmpty(){return Zp(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Ur(n,this)}get $doc(){return this.$pos(0)}}function bi(t){return new Sc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=J(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],l=r[0];if(o){const a=l.search(/\S/),u=n.from+l.indexOf(o),c=u+o.length;if(Xp(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>u).length)return null;c<n.to&&s.delete(c,n.to),u>n.from&&s.delete(n.from+a,u);const f=n.from+a+o.length;s.addMark(n.from+a,f,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function kS(t){return new Sc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=J(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let l=n.to;const a=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=o+u;c>l?c=l:l=c+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(c,l,a)}else if(r[0]){const u=t.type.isInline?o:o-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(l))}s.scrollIntoView()}})}function mh(t){return new Sc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=J(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Zo(t){return new Sc({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=J(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),u=a&&Lp(a,t.type,s);if(!u)return null;if(o.wrap(a,u),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,h=f||d.$to.parentOffset&&d.$from.marks();if(h){const m=h.filter(v=>p.includes(v.type.name));o.ensureMarks(m)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Ir(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&o.join(n.from-1)}})}let Kt=class gh{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=J(F(this,"addOptions",{name:this.name}))),this.storage=J(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gh(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>kc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new gh(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=J(F(n,"addOptions",{name:n.name})),n.storage=J(F(n,"addStorage",{name:n.name,options:n.options})),n}};function Or(t){return new ZA({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=J(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,l=r[r.length-1],a=r[0];let u=n.to;if(l){const c=a.search(/\S/),d=n.from+a.indexOf(l),f=d+l.length;if(Xp(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(v=>v===t.type&&v!==h.mark.type)).filter(h=>h.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+c,d),u=n.from+c+l.length,o.addMark(n.from+c,u,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function FP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CS={exports:{}},Cd={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function BP(){if(n0)return Cd;n0=1;var t=le;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(d,f){var p=f(),h=r({inst:{value:p,getSnapshot:f}}),m=h[0].inst,v=h[1];return s(function(){m.value=p,m.getSnapshot=f,a(m)&&v({inst:m})},[d,p,f]),i(function(){return a(m)&&v({inst:m}),d(function(){a(m)&&v({inst:m})})},[d]),o(p),p}function a(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Cd.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,Cd}CS.exports=BP();var em=CS.exports;const _P=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},$P=({contentComponent:t})=>{const e=em.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return le.createElement(le.Fragment,null,Object.values(e))};function HP(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:cb.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class UP extends le.Component{constructor(e){var n;super(e),this.editorContentRef=le.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=HP(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return le.createElement(le.Fragment,null,le.createElement("div",{ref:_P(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&le.createElement($P,{contentComponent:e.contentComponent}))}}const VP=T.forwardRef((t,e)=>{const n=le.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return le.createElement(UP,{key:n,innerRef:e,...t})}),WP=le.memo(VP);var KP=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},qP=FP(KP),bS={exports:{}},bd={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function JP(){if(r0)return bd;r0=1;var t=le,e=em;function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,a=t.useDebugValue;return bd.useSyncExternalStoreWithSelector=function(u,c,d,f,p){var h=s(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=l(function(){function g(C){if(!y){if(y=!0,x=C,C=f(C),p!==void 0&&m.hasValue){var O=m.value;if(p(O,C))return k=O}return k=C}if(O=k,r(x,C))return O;var M=f(C);return p!==void 0&&p(O,M)?O:(x=C,k=M)}var y=!1,x,k,b=d===void 0?null:d;return[function(){return g(c())},b===null?void 0:function(){return g(b())}]},[c,d,f,p]);var v=i(u,h[0],h[1]);return o(function(){m.hasValue=!0,m.value=v},[v]),a(v),v},bd}bS.exports=JP();var QP=bS.exports;class GP{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function YP(t){var e;const[n]=T.useState(()=>new GP(t.editor)),r=QP.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:qP);return T.useEffect(()=>n.watch(t.editor),[t.editor,n]),T.useDebugValue(r),r}const XP=!1,yh=typeof window>"u",ZP=yh||!!(typeof window<"u"&&window.next);class eD{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return yh||ZP?null:this.createEditor();if(this.options.current.immediatelyRender&&yh&&XP)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new zP(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function tD(t={},e=[]){const n=T.useRef(t);n.current=t;const[r]=T.useState(()=>new eD(n)),i=em.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return T.useDebugValue(i),T.useEffect(r.onRender(e)),YP({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const nD=T.createContext({editor:null});nD.Consumer;const rD=T.createContext({onDragStart:void 0}),iD=()=>T.useContext(rD);le.forwardRef((t,e)=>{const{onDragStart:n}=iD(),r=t.as||"div";return le.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const sD=/^\s*>\s$/,oD=Kt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Zo({find:sD,type:this.type})]}}),lD=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,aD=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,uD=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,cD=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,dD=Vt.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[bi({find:lD,type:this.type}),bi({find:uD,type:this.type})]},addPasteRules(){return[Or({find:aD,type:this.type}),Or({find:cD,type:this.type})]}}),fD="listItem",i0="textStyle",s0=/^\s*([-+*])\s$/,ES=Kt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",we(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(fD,this.editor.getAttributes(i0)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Zo({find:s0,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Zo({find:s0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(i0),editor:this.editor})),[t]}}),hD=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,pD=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,mD=Vt.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[bi({find:hD,type:this.type})]},addPasteRules(){return[Or({find:pD,type:this.type})]}}),gD=/^```([a-z]+)?[\s\n]$/,yD=/^~~~([a-z]+)?[\s\n]$/,vD=Kt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",we(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(W.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[mh({find:gD,type:this.type,getAttributes:t=>({language:t[1]})}),mh({find:yD,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new $e({key:new Mt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:l}=t.state,a=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},a)),o.selection.$from.parent.type!==this.type&&o.setSelection(H.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),xD=Kt.create({name:"doc",topNode:!0,content:"block+"});function wD(t={}){return new $e({view(e){return new SD(e,t)}})}class SD{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=l?c.bottom:c.top;l&&a&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let l=i.getBoundingClientRect();s=l.left-i.scrollLeft,o=l.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=vw(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const kD=Qe.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[wD(this.options)]}});class ye extends W{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ye.valid(r)?new ye(r):W.near(r)}content(){return I.empty}eq(e){return e instanceof ye&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ye(e.resolve(n.pos))}getBookmark(){return new tm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!CD(e)||!bD(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ye.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let a=e.doc.resolve(i);if(ye.valid(a))return a}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!_.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let l=e.doc.resolve(i);if(ye.valid(l))return l}return null}}}ye.prototype.visible=!1;ye.findFrom=ye.findGapCursorFrom;W.jsonID("gapcursor",ye);class tm{constructor(e){this.pos=e}map(e){return new tm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ye.valid(n)?new ye(n):W.near(n)}}function CD(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function bD(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function ED(){return new $e({props:{decorations:MD,createSelectionBetween(t,e,n){return e.pos==n.pos&&ye.valid(n)?new ye(n):null},handleClick:ND,handleKeyDown:TD,handleDOMEvents:{beforeinput:OD}}})}const TD=oS({ArrowLeft:Kl("horiz",-1),ArrowRight:Kl("horiz",1),ArrowUp:Kl("vert",-1),ArrowDown:Kl("vert",1)});function Kl(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof H){if(!s.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=ye.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new ye(u))),!0):!1}}function ND(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ye.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&_.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ye(r))),!0)}function OD(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ye))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=R.empty;for(let o=r.length-1;o>=0;o--)i=R.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new I(i,0,0));return s.setSelection(H.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function MD(t){if(!(t.selection instanceof ye))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Te.create(t.doc,[Bt.widget(t.selection.head,e,{key:"gapcursor"})])}const AD=Qe.create({name:"gapCursor",addProseMirrorPlugins(){return[ED()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=J(F(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),RD=Kt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",we(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,a=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&o){const d=a.filter(f=>l.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),PD=Kt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,we(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>mh({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var uu=200,Pe=function(){};Pe.prototype.append=function(e){return e.length?(e=Pe.from(e),!this.length&&e||e.length<uu&&this.leafAppend(e)||this.length<uu&&e.leafPrepend(this)||this.appendInner(e)):this};Pe.prototype.prepend=function(e){return e.length?Pe.from(e).append(this):this};Pe.prototype.appendInner=function(e){return new DD(this,e)};Pe.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Pe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Pe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Pe.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Pe.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Pe.from=function(e){return e instanceof Pe?e:e&&e.length?new TS(e):Pe.empty};var TS=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,l){for(var a=s;a<o;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){for(var a=s-1;a>=o;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=uu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=uu)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Pe);Pe.empty=new TS([]);var DD=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Pe);const ID=500;class en{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,a,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,c.push(d);return}if(i){c.push(new cn(d.map));let p=d.step.map(i.slice(s)),h;p&&o.maybeStep(p).doc&&(h=o.mapping.maps[o.mapping.maps.length-1],u.push(new cn(h,void 0,void 0,u.length+c.length))),s--,h&&i.appendMap(h,s)}else o.maybeStep(d.step);if(d.selection)return l=i?d.selection.map(i.slice(s)):d.selection,a=new en(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,n,r,i){let s=[],o=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new cn(e.mapping.maps[c],d,n),p;(p=a&&a.merge(f))&&(f=p,c?s.pop():l=l.slice(0,l.length-1)),s.push(f),n&&(o++,n=void 0),i||(a=f)}let u=o-r.depth;return u>jD&&(l=LD(l,u),o-=u),new en(l.append(s),o)}remapping(e,n){let r=new ns;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new en(this.items.append(e.map(n=>new cn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},i);let a=n;this.items.forEach(f=>{let p=s.getMirror(--a);if(p==null)return;o=Math.min(o,p);let h=s.maps[p];if(f.step){let m=e.steps[p].invert(e.docs[p]),v=f.selection&&f.selection.map(s.slice(a+1,p));v&&l++,r.push(new cn(h,m,v))}else r.push(new cn(h))},i);let u=[];for(let f=n;f<o;f++)u.push(new cn(s.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new en(c,l);return d.emptyItemCount()>ID&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let a=o.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=o.selection&&o.selection.map(n.slice(r));c&&s++;let d=new cn(u.invert(),a,c),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new en(Pe.from(i.reverse()),s)}}en.empty=new en(Pe.empty,0);function LD(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class cn{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new cn(n.getMap().invert(),n,this.selection)}}}class qn{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const jD=20;function zD(t,e,n,r){let i=n.getMeta(hi),s;if(i)return i.historyState;n.getMeta(_D)&&(t=new qn(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(hi))return o.getMeta(hi).redo?new qn(t.done.addTransform(n,void 0,r,pa(e)),t.undone,o0(n.mapping.maps),t.prevTime,t.prevComposition):new qn(t.done,t.undone.addTransform(n,void 0,r,pa(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!FD(n,t.prevRanges)),u=o?Ed(t.prevRanges,n.mapping):o0(n.mapping.maps);return new qn(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,pa(e)),en.empty,u,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new qn(t.done.rebased(n,s),t.undone.rebased(n,s),Ed(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new qn(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ed(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function FD(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function o0(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function Ed(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function BD(t,e,n){let r=pa(e),i=hi.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),a=new qn(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(hi,{redo:n,historyState:a})}let Td=!1,l0=null;function pa(t){let e=t.plugins;if(l0!=e){Td=!1,l0=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Td=!0;break}}return Td}const hi=new Mt("history"),_D=new Mt("closeHistory");function $D(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new $e({key:hi,state:{init(){return new qn(en.empty,en.empty,null,0,-1)},apply(e,n,r){return zD(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?OS:r=="historyRedo"?MS:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function NS(t,e){return(n,r)=>{let i=hi.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=BD(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const OS=NS(!1,!0),MS=NS(!0,!0),HD=Qe.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>OS(t,e),redo:()=>({state:t,dispatch:e})=>MS(t,e)}},addProseMirrorPlugins(){return[$D(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),UD=Kt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",we(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):lP(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:l})=>{var a;if(l){const{$to:u}=o.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?o.setSelection(H.create(o.doc,u.pos+1)):u.nodeAfter.isBlock?o.setSelection(_.create(o.doc,u.pos)):o.setSelection(H.create(o.doc,u.pos));else{const d=(a=u.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();d&&(o.insert(c,d),o.setSelection(H.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[kS({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),VD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,WD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,KD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,qD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,JD=Vt.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[bi({find:VD,type:this.type}),bi({find:KD,type:this.type})]},addPasteRules(){return[Or({find:WD,type:this.type}),Or({find:qD,type:this.type})]}}),QD=Kt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",we(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),GD="listItem",a0="textStyle",u0=/^(\d+)\.\s$/,YD=Kt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",we(this.options.HTMLAttributes,n),0]:["ol",we(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(GD,this.editor.getAttributes(a0)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Zo({find:u0,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Zo({find:u0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(a0)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),XD=Kt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ZD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,eI=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tI=Vt.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[bi({find:ZD,type:this.type})]},addPasteRules(){return[Or({find:eI,type:this.type})]}}),nI=Kt.create({name:"text",group:"inline"}),rI=Qe.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,l,a,u,c,d,f,p,h,m,v,g;const y=[];return this.options.bold!==!1&&y.push(dD.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&y.push(oD.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&y.push(ES.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&y.push(mD.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&y.push(vD.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&y.push(xD.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&y.push(kD.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&y.push(AD.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&y.push(RD.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&y.push(PD.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&y.push(HD.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&y.push(UD.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&y.push(JD.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&y.push(QD.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&y.push(YD.configure((h=this.options)===null||h===void 0?void 0:h.orderedList)),this.options.paragraph!==!1&&y.push(XD.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&y.push(tI.configure((v=this.options)===null||v===void 0?void 0:v.strike)),this.options.text!==!1&&y.push(nI.configure((g=this.options)===null||g===void 0?void 0:g.text)),y}}),iI=Vt.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),sI=Vt.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",we(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Gp(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),oI=Qe.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),lI=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,aI=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,uI=Vt.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",we(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[bi({find:lI,type:this.type})]},addPasteRules(){return[Or({find:aI,type:this.type})]}}),cI=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,dI=Kt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",we(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[kS({find:cI,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),fI="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",hI="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Ds=(t,e)=>{for(const n in e)t[n]=e[n];return t},vh="numeric",xh="ascii",wh="alpha",ma="asciinumeric",ql="alphanumeric",Sh="domain",AS="emoji",pI="scheme",mI="slashscheme",c0="whitespace";function gI(t,e){return t in e||(e[t]=[]),e[t]}function Yr(t,e,n){e[vh]&&(e[ma]=!0,e[ql]=!0),e[xh]&&(e[ma]=!0,e[wh]=!0),e[ma]&&(e[ql]=!0),e[wh]&&(e[ql]=!0),e[ql]&&(e[Sh]=!0),e[AS]&&(e[Sh]=!0);for(const r in e){const i=gI(r,n);i.indexOf(t)<0&&i.push(t)}}function yI(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function dt(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}dt.groups={};dt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||dt.groups;let i;return e&&e.j?i=e:(i=new dt(e),n&&r&&Yr(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||dt.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,l=i.go(t);if(l?(o=new dt,Ds(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new dt,s){if(r)if(o.t&&typeof o.t=="string"){const a=Ds(yI(o.t,r),n);Yr(s,a,r)}else n&&Yr(s,n,r);o.t=s}return i.j[t]=o,o}};const K=(t,e,n,r,i)=>t.ta(e,n,r,i),At=(t,e,n,r,i)=>t.tr(e,n,r,i),d0=(t,e,n,r,i)=>t.ts(e,n,r,i),D=(t,e,n,r,i)=>t.tt(e,n,r,i),Tn="WORD",kh="UWORD",el="LOCALHOST",Ch="TLD",bh="UTLD",ga="SCHEME",Ii="SLASH_SCHEME",nm="NUM",RS="WS",rm="NL",xo="OPENBRACE",wo="CLOSEBRACE",cu="OPENBRACKET",du="CLOSEBRACKET",fu="OPENPAREN",hu="CLOSEPAREN",pu="OPENANGLEBRACKET",mu="CLOSEANGLEBRACKET",gu="FULLWIDTHLEFTPAREN",yu="FULLWIDTHRIGHTPAREN",vu="LEFTCORNERBRACKET",xu="RIGHTCORNERBRACKET",wu="LEFTWHITECORNERBRACKET",Su="RIGHTWHITECORNERBRACKET",ku="FULLWIDTHLESSTHAN",Cu="FULLWIDTHGREATERTHAN",bu="AMPERSAND",Eu="APOSTROPHE",Tu="ASTERISK",Jn="AT",Nu="BACKSLASH",Ou="BACKTICK",Mu="CARET",Xn="COLON",im="COMMA",Au="DOLLAR",dn="DOT",Ru="EQUALS",sm="EXCLAMATION",fn="HYPHEN",Pu="PERCENT",Du="PIPE",Iu="PLUS",Lu="POUND",ju="QUERY",om="QUOTE",lm="SEMI",hn="SLASH",So="TILDE",zu="UNDERSCORE",PS="EMOJI",Fu="SYM";var DS=Object.freeze({__proto__:null,WORD:Tn,UWORD:kh,LOCALHOST:el,TLD:Ch,UTLD:bh,SCHEME:ga,SLASH_SCHEME:Ii,NUM:nm,WS:RS,NL:rm,OPENBRACE:xo,CLOSEBRACE:wo,OPENBRACKET:cu,CLOSEBRACKET:du,OPENPAREN:fu,CLOSEPAREN:hu,OPENANGLEBRACKET:pu,CLOSEANGLEBRACKET:mu,FULLWIDTHLEFTPAREN:gu,FULLWIDTHRIGHTPAREN:yu,LEFTCORNERBRACKET:vu,RIGHTCORNERBRACKET:xu,LEFTWHITECORNERBRACKET:wu,RIGHTWHITECORNERBRACKET:Su,FULLWIDTHLESSTHAN:ku,FULLWIDTHGREATERTHAN:Cu,AMPERSAND:bu,APOSTROPHE:Eu,ASTERISK:Tu,AT:Jn,BACKSLASH:Nu,BACKTICK:Ou,CARET:Mu,COLON:Xn,COMMA:im,DOLLAR:Au,DOT:dn,EQUALS:Ru,EXCLAMATION:sm,HYPHEN:fn,PERCENT:Pu,PIPE:Du,PLUS:Iu,POUND:Lu,QUERY:ju,QUOTE:om,SEMI:lm,SLASH:hn,TILDE:So,UNDERSCORE:zu,EMOJI:PS,SYM:Fu});const Ri=/[a-z]/,Nd=new RegExp("\\p{L}","u"),Od=new RegExp("\\p{Emoji}","u"),Md=/\d/,f0=/\s/,h0=`
`,vI="",xI="";let Jl=null,Ql=null;function wI(t){t===void 0&&(t=[]);const e={};dt.groups=e;const n=new dt;Jl==null&&(Jl=p0(fI)),Ql==null&&(Ql=p0(hI)),D(n,"'",Eu),D(n,"{",xo),D(n,"}",wo),D(n,"[",cu),D(n,"]",du),D(n,"(",fu),D(n,")",hu),D(n,"<",pu),D(n,">",mu),D(n,"",gu),D(n,"",yu),D(n,"",vu),D(n,"",xu),D(n,"",wu),D(n,"",Su),D(n,"",ku),D(n,"",Cu),D(n,"&",bu),D(n,"*",Tu),D(n,"@",Jn),D(n,"`",Ou),D(n,"^",Mu),D(n,":",Xn),D(n,",",im),D(n,"$",Au),D(n,".",dn),D(n,"=",Ru),D(n,"!",sm),D(n,"-",fn),D(n,"%",Pu),D(n,"|",Du),D(n,"+",Iu),D(n,"#",Lu),D(n,"?",ju),D(n,'"',om),D(n,"/",hn),D(n,";",lm),D(n,"~",So),D(n,"_",zu),D(n,"\\",Nu);const r=At(n,Md,nm,{[vh]:!0});At(r,Md,r);const i=At(n,Ri,Tn,{[xh]:!0});At(i,Ri,i);const s=At(n,Nd,kh,{[wh]:!0});At(s,Ri),At(s,Nd,s);const o=At(n,f0,RS,{[c0]:!0});D(n,h0,rm,{[c0]:!0}),D(o,h0),At(o,f0,o);const l=At(n,Od,PS,{[AS]:!0});At(l,Od,l),D(l,vI,l);const a=D(l,xI);At(a,Od,l);const u=[[Ri,i]],c=[[Ri,null],[Nd,s]];for(let d=0;d<Jl.length;d++)$n(n,Jl[d],Ch,Tn,u);for(let d=0;d<Ql.length;d++)$n(n,Ql[d],bh,kh,c);Yr(Ch,{tld:!0,ascii:!0},e),Yr(bh,{utld:!0,alpha:!0},e),$n(n,"file",ga,Tn,u),$n(n,"mailto",ga,Tn,u),$n(n,"http",Ii,Tn,u),$n(n,"https",Ii,Tn,u),$n(n,"ftp",Ii,Tn,u),$n(n,"ftps",Ii,Tn,u),Yr(ga,{scheme:!0,ascii:!0},e),Yr(Ii,{slashscheme:!0,ascii:!0},e),t=t.sort((d,f)=>d[0]>f[0]?1:-1);for(let d=0;d<t.length;d++){const f=t[d][0],h=t[d][1]?{[pI]:!0}:{[mI]:!0};f.indexOf("-")>=0?h[Sh]=!0:Ri.test(f)?Md.test(f)?h[ma]=!0:h[xh]=!0:h[vh]=!0,d0(n,f,f,h)}return d0(n,"localhost",el,{ascii:!0}),n.jd=new dt(Fu),{start:n,tokens:Ds({groups:e},DS)}}function SI(t,e){const n=kI(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let l=t,a=null,u=0,c=null,d=-1,f=-1;for(;o<r&&(a=l.go(n[o]));)l=a,l.accepts()?(d=0,f=0,c=l):d>=0&&(d+=n[o].length,f++),u+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,u-=d,i.push({t:c.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function kI(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function $n(t,e,n,r,i){let s;const o=e.length;for(let l=0;l<o-1;l++){const a=e[l];t.j[a]?s=t.j[a]:(s=new dt(r),s.jr=i.slice(),t.j[a]=s),t=s}return s=new dt(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function p0(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const tl={defaultProtocol:"http",events:null,format:m0,formatHref:m0,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function am(t,e){e===void 0&&(e=null);let n=Ds({},tl);t&&(n=Ds(n,t instanceof am?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}am.prototype={o:tl,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:tl[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function m0(t){return t}function IS(t,e){this.t="token",this.v=t,this.tk=e}IS.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=tl.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},l=t.get("className",n,e),a=t.get("target",n,e),u=t.get("rel",n,e),c=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,l&&(o.class=l),a&&(o.target=a),u&&(o.rel=u),c&&Ds(o,c),{tagName:i,attributes:o,content:s,eventListeners:d}}};function bc(t,e){class n extends IS{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const g0=bc("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),y0=bc("text"),CI=bc("nl"),Gl=bc("url",{isLink:!0,toHref(t){return t===void 0&&(t=tl.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==el&&t[1].t===Xn}}),Rt=t=>new dt(t);function bI(t){let{groups:e}=t;const n=e.domain.concat([bu,Tu,Jn,Nu,Ou,Mu,Au,Ru,fn,nm,Pu,Du,Iu,Lu,hn,Fu,So,zu]),r=[Eu,Xn,im,dn,sm,ju,om,lm,pu,mu,xo,wo,du,cu,fu,hu,gu,yu,vu,xu,wu,Su,ku,Cu],i=[bu,Eu,Tu,Nu,Ou,Mu,Au,Ru,fn,xo,wo,Pu,Du,Iu,Lu,ju,hn,Fu,So,zu],s=Rt(),o=D(s,So);K(o,i,o),K(o,e.domain,o);const l=Rt(),a=Rt(),u=Rt();K(s,e.domain,l),K(s,e.scheme,a),K(s,e.slashscheme,u),K(l,i,o),K(l,e.domain,l);const c=D(l,Jn);D(o,Jn,c),D(a,Jn,c),D(u,Jn,c);const d=D(o,dn);K(d,i,o),K(d,e.domain,o);const f=Rt();K(c,e.domain,f),K(f,e.domain,f);const p=D(f,dn);K(p,e.domain,f);const h=Rt(g0);K(p,e.tld,h),K(p,e.utld,h),D(c,el,h);const m=D(f,fn);K(m,e.domain,f),K(h,e.domain,f),D(h,dn,p),D(h,fn,m);const v=D(h,Xn);K(v,e.numeric,g0);const g=D(l,fn),y=D(l,dn);K(g,e.domain,l),K(y,i,o),K(y,e.domain,l);const x=Rt(Gl);K(y,e.tld,x),K(y,e.utld,x),K(x,e.domain,l),K(x,i,o),D(x,dn,y),D(x,fn,g),D(x,Jn,c);const k=D(x,Xn),b=Rt(Gl);K(k,e.numeric,b);const C=Rt(Gl),O=Rt();K(C,n,C),K(C,r,O),K(O,n,C),K(O,r,O),D(x,hn,C),D(b,hn,C);const M=D(a,Xn),A=D(u,Xn),z=D(A,hn),G=D(z,hn);K(a,e.domain,l),D(a,dn,y),D(a,fn,g),K(u,e.domain,l),D(u,dn,y),D(u,fn,g),K(M,e.domain,C),D(M,hn,C),K(G,e.domain,C),K(G,n,C),D(G,hn,C);const be=[[xo,wo],[cu,du],[fu,hu],[pu,mu],[gu,yu],[vu,xu],[wu,Su],[ku,Cu]];for(let xt=0;xt<be.length;xt++){const[ee,ot]=be[xt],lt=D(C,ee);D(O,ee,lt),D(lt,ot,C);const at=Rt(Gl);K(lt,n,at);const N=Rt();K(lt,r),K(at,n,at),K(at,r,N),K(N,n,at),K(N,r,N),D(at,ot,C),D(N,ot,C)}return D(s,el,x),D(s,rm,CI),{start:s,tokens:DS}}function EI(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let l=t,a=null,u=null,c=0,d=null,f=-1;for(;i<r&&!(a=l.go(n[i].t));)o.push(n[i++]);for(;i<r&&(u=a||l.go(n[i].t));)a=null,l=u,l.accepts()?(f=0,d=l):f>=0&&f++,i++,c++;if(f<0)i-=c,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(Ad(y0,e,o)),o=[]),i-=f,c-=f;const p=d.t,h=n.slice(i-c,i);s.push(Ad(p,e,h))}}return o.length>0&&s.push(Ad(y0,e,o)),s}function Ad(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const TI=typeof console<"u"&&console&&console.warn||(()=>{}),NI="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ce={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function OI(){dt.groups={},ce.scanner=null,ce.parser=null,ce.tokenQueue=[],ce.pluginQueue=[],ce.customSchemes=[],ce.initialized=!1}function v0(t,e){if(e===void 0&&(e=!1),ce.initialized&&TI(`linkifyjs: already initialized - will not register custom scheme "${t}" ${NI}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ce.customSchemes.push([t,e])}function MI(){ce.scanner=wI(ce.customSchemes);for(let t=0;t<ce.tokenQueue.length;t++)ce.tokenQueue[t][1]({scanner:ce.scanner});ce.parser=bI(ce.scanner.tokens);for(let t=0;t<ce.pluginQueue.length;t++)ce.pluginQueue[t][1]({scanner:ce.scanner,parser:ce.parser});ce.initialized=!0}function LS(t){return ce.initialized||MI(),EI(ce.parser.start,t,SI(ce.scanner.start,t))}function jS(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new am(n),i=LS(t),s=[];for(let o=0;o<i.length;o++){const l=i[o];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}function AI(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function RI(t){return new $e({key:new Mt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,l=GR(n.doc,[...e]);if(sP(l).forEach(({newRange:u})=>{const c=XR(r.doc,u,p=>p.isTextblock);let d,f;if(c.length>1?(d=c[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):c.length&&r.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(d=c[0],f=r.doc.textBetween(d.pos,u.to,void 0," ")),d&&f){const p=f.split(" ").filter(g=>g!=="");if(p.length<=0)return!1;const h=p[p.length-1],m=d.pos+f.lastIndexOf(h);if(!h)return!1;const v=LS(h).map(g=>g.toObject(t.defaultProtocol));if(!AI(v))return!1;v.filter(g=>g.isLink).map(g=>({...g,from:m+g.start+1,to:m+g.end+1})).filter(g=>r.schema.marks.code?!r.doc.rangeHasMark(g.from,g.to,r.schema.marks.code):!0).filter(g=>t.validate(g.value)).forEach(g=>{Xp(g.from,g.to,r.doc).some(y=>y.mark.type===t.type)||o.addMark(g.from,g.to,t.type.create({href:g.href}))})}}),!!o.steps.length)return o}})}function PI(t){return new $e({key:new Mt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const l=[];for(;o.nodeName!=="DIV";)l.push(o),o=o.parentNode;if(!l.find(f=>f.nodeName==="A"))return!1;const a=SS(e.state,t.type.name),u=r.target,c=(i=u==null?void 0:u.href)!==null&&i!==void 0?i:a.href,d=(s=u==null?void 0:u.target)!==null&&s!==void 0?s:a.target;return u&&c?(window.open(c,d),!0):!1}}})}function DI(t){return new $e({key:new Mt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const a=jS(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!a?!1:(t.editor.commands.setMark(t.type,{href:a.href}),!0)}}})}const II=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function x0(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(II,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const LI=Vt.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){v0(t);return}v0(t.scheme,t.optionalSlashes)})},onDestroy(){OI()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!x0(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:t}){return x0(t.href,this.options.protocols)?["a",we(this.options.HTMLAttributes,t),0]:["a",we(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Or({find:t=>{const e=[];if(t){const{validate:n}=this.options,r=jS(t).filter(i=>i.isLink&&n(i.value));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(RI({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&t.push(PI({type:this.type})),this.options.linkOnPaste&&t.push(DI({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),jI=({content:t,onChange:e})=>{const n=tD({extensions:[rI,iI,sI,oI,uI,dI,LI,ES],content:t,onUpdate:({editor:s})=>{e(s.getHTML())}});if(!n)return null;const r=()=>{const s=window.prompt("Enter image URL");s&&n.chain().focus().setImage({src:s}).run()},i=()=>{const s=window.prompt("Enter URL");s&&n.chain().focus().setLink({href:s}).run()};return w.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[w.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border-b bg-gray-50",children:[w.jsx("button",{onClick:()=>n.chain().focus().toggleBold().run(),className:`p-2 rounded ${n.isActive("bold")?"bg-gray-200":""}`,children:w.jsx(QE,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>n.chain().focus().toggleItalic().run(),className:`p-2 rounded ${n.isActive("italic")?"bg-gray-200":""}`,children:w.jsx(iT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>n.chain().focus().toggleUnderline().run(),className:`p-2 rounded ${n.isActive("underline")?"bg-gray-200":""}`,children:w.jsx(dT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>n.chain().focus().toggleHeading({level:1}).run(),className:`p-2 rounded ${n.isActive("heading",{level:1})?"bg-gray-200":""}`,children:w.jsx(eT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>n.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded ${n.isActive("heading",{level:2})?"bg-gray-200":""}`,children:w.jsx(tT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>n.chain().focus().toggleBulletList().run(),className:`p-2 rounded ${n.isActive("bulletList")?"bg-gray-200":""}`,children:w.jsx(lT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:r,className:"p-2 rounded",children:w.jsx(rT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:i,className:"p-2 rounded",children:w.jsx(oT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>n.chain().focus().toggleHighlight().run(),className:`p-2 rounded ${n.isActive("highlight")?"bg-gray-200":""}`,children:w.jsx($f,{className:"w-5 h-5"})}),w.jsx("input",{type:"color",onChange:s=>n.chain().focus().setColor(s.target.value).run(),className:"w-8 h-8 p-0 border-0"})]}),w.jsx(WP,{editor:n,className:"prose max-w-none p-4"})]})},w0=[{id:"good",name:"Good News",color:"#22c55e"},{id:"death",name:"Death",color:"#ef4444"},{id:"alarming",name:"Alarming",color:"#eab308"},{id:"tech",name:"Technology",color:"#3b82f6"},{id:"politics",name:"Politics",color:"#8b5cf6"},{id:"health",name:"Health",color:"#ec4899"}],zI=()=>{const t=wp(),{settings:e,publishedArticles:n,publishArticle:r,updateArticle:i,deleteArticle:s,updateAuthor:o}=Wt(),[l,a]=T.useState(null),[u,c]=T.useState([]),[d,f]=T.useState(""),[p,h]=T.useState(""),[m,v]=T.useState(""),[g,y]=T.useState(""),[x,k]=T.useState(e.authorName||""),[b,C]=T.useState(e.authorBio||""),[O,M]=T.useState(e.authorAvatar||""),[A,z]=T.useState({name:"",color:"#000000"}),[G,be]=T.useState([]);if(!e.isDeveloper)return w.jsx("div",{className:"max-w-2xl mx-auto p-4",children:w.jsx("p",{className:"text-center dark:text-white",children:"Access denied. Developer mode not enabled."})});const xt=()=>{a(null),f(""),h(""),v(""),y(""),c([])},ee=()=>{const N={id:(l==null?void 0:l.id)||Date.now().toString(),title:d,description:m,content:p,url:"",image:g,publishedAt:new Date().toISOString(),source:{name:e.authorName||"Developer",url:""},tags:[...w0,...G].filter(B=>u.includes(B.id)),liked:!1,saved:!1,read:!1,highlights:[],notes:[],overview:m,authorId:e.authorId};l?i(N):r(N),xt()},ot=()=>{o({name:x,bio:b,avatar:O})},lt=N=>{a(N),f(N.title),h(N.content),v(N.overview||""),y(N.image),c(N.tags.map(B=>B.id))},at=()=>{if(A.name&&A.color){const N={id:A.name.toLowerCase().replace(/\s+/g,"-"),name:A.name,color:A.color};be([...G,N]),z({name:"",color:"#000000"})}};return w.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[w.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:w.jsx(_f,{className:"w-6 h-6 dark:text-white"})}),w.jsx("h1",{className:"text-2xl font-bold dark:text-white",children:"Developer Dashboard"})]}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[w.jsx(fT,{className:"w-6 h-6 dark:text-white"}),w.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Author Profile"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("input",{type:"text",value:x,onChange:N=>k(N.target.value),placeholder:"Author Name",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),w.jsx("textarea",{value:b,onChange:N=>C(N.target.value),placeholder:"Author Bio",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3}),w.jsx("input",{type:"url",value:O,onChange:N=>M(N.target.value),placeholder:"Avatar URL",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),w.jsx("button",{onClick:ot,className:"w-full py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Update Author Profile"})]})]}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[w.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:l?"Edit Article":"Create Article"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("input",{type:"text",value:d,onChange:N=>f(N.target.value),placeholder:"Article Title",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),w.jsx("input",{type:"text",value:g,onChange:N=>y(N.target.value),placeholder:"Image URL",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium mb-2 dark:text-white",children:"Tags"}),w.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[...w0,...G].map(N=>w.jsx("button",{onClick:()=>c(B=>B.includes(N.id)?B.filter(U=>U!==N.id):[...B,N.id]),className:`px-3 py-1 rounded-full text-sm ${u.includes(N.id)?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 dark:text-white"}`,children:N.name},N.id))}),w.jsxs("div",{className:"flex gap-2 mb-4",children:[w.jsx("input",{type:"text",value:A.name,onChange:N=>z({...A,name:N.target.value}),placeholder:"New tag name",className:"flex-1 p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),w.jsx("input",{type:"color",value:A.color,onChange:N=>z({...A,color:N.target.value}),className:"w-12 h-10 p-1 border rounded-md"}),w.jsx("button",{onClick:at,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Add Tag"})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium mb-2 dark:text-white",children:"Overview"}),w.jsx("textarea",{value:m,onChange:N=>v(N.target.value),placeholder:"Article overview...",className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium mb-2 dark:text-white",children:"Content"}),w.jsx("div",{className:"min-h-[400px]",children:w.jsx(jI,{content:p,onChange:h})})]}),w.jsx("button",{onClick:ee,className:"w-full py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:l?"Update Article":"Publish Article"})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Published Articles"}),n.map(N=>w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:N.title}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>lt(N),className:"p-2 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-md",children:w.jsx(aT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this article?")&&s(N.id)},className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-md",children:w.jsx(cT,{className:"w-5 h-5"})})]})]}),w.jsx("div",{className:"flex gap-2 mt-2",children:N.tags.map(B=>w.jsx("span",{className:"px-2 py-1 rounded-full text-xs",style:{backgroundColor:`${B.color}20`,color:B.color},children:B.name},B.id))})]},N.id))]})]})},FI=new OE;function BI(){const{settings:t}=Wt();return T.useEffect(()=>{t.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t.theme]),w.jsx(DE,{client:FI,children:w.jsx(oE,{children:w.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 pb-16 transition-colors duration-200",children:[w.jsxs(Xb,{children:[w.jsx($r,{path:"/",element:w.jsx(RO,{})}),w.jsx($r,{path:"/search",element:w.jsx(PO,{})}),w.jsx($r,{path:"/popular",element:w.jsx(DO,{})}),w.jsx($r,{path:"/saved",element:w.jsx(IO,{})}),w.jsx($r,{path:"/article/:id",element:w.jsx(jO,{})}),w.jsx($r,{path:"/developer",element:w.jsx(zI,{})})]}),w.jsx(JT,{})]})})})}Uv(document.getElementById("root")).render(w.jsx(T.StrictMode,{children:w.jsx(BI,{})}));
